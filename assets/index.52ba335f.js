(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gr;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(gr||(gr={}));var Qn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Qn||(Qn={}));var Is;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Is||(Is={}));var Q;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Q||(Q={}));var ti;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ti||(ti={}));var D;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(D||(D={}));var qr;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(qr||(qr={}));var rt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(rt||(rt={}));var bs;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(bs||(bs={}));var vr;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(vr||(vr={}));var Ca;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ca||(Ca={}));var mr;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(mr||(mr={}));var Qe;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Qe||(Qe={}));var Nr;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Nr||(Nr={}));var Aa;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Aa||(Aa={}));var Ke;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Ke||(Ke={}));var Qt;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Qt||(Qt={}));var $f;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})($f||($f={}));var qt;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(qt||(qt={}));var Je;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Je||(Je={}));/*!
 * @pixi/math - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var XT=Math.PI*2,DT=180/Math.PI,HT=Math.PI/180,Na;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Na||(Na={}));var ce=function(){function t(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this.x=0,this.y=0,this.x=r,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},t.prototype.copyTo=function(r){return r.set(this.x,this.y),r},t.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},t.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x=r,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),ts=[new ce,new ce,new ce,new ce],Ht=function(){function t(r,e,n,s){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=0),this.x=Number(r),this.y=Number(e),this.width=Number(n),this.height=Number(s),this.type=Na.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},t.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},t.prototype.contains=function(r,e){return this.width<=0||this.height<=0?!1:r>=this.x&&r<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.intersects=function(r,e){if(!e){var n=this.x<r.x?r.x:this.x,s=this.right>r.right?r.right:this.right;if(s<=n)return!1;var a=this.y<r.y?r.y:this.y,h=this.bottom>r.bottom?r.bottom:this.bottom;return h>a}var f=this.left,l=this.right,d=this.top,p=this.bottom;if(l<=f||p<=d)return!1;var v=ts[0].set(r.left,r.top),g=ts[1].set(r.left,r.bottom),T=ts[2].set(r.right,r.top),E=ts[3].set(r.right,r.bottom);if(T.x<=v.x||g.y<=v.y)return!1;var C=Math.sign(e.a*e.d-e.b*e.c);if(C===0||(e.apply(v,v),e.apply(g,g),e.apply(T,T),e.apply(E,E),Math.max(v.x,g.x,T.x,E.x)<=f||Math.min(v.x,g.x,T.x,E.x)>=l||Math.max(v.y,g.y,T.y,E.y)<=d||Math.min(v.y,g.y,T.y,E.y)>=p))return!1;var I=C*(g.y-v.y),N=C*(v.x-g.x),F=I*f+N*d,P=I*l+N*d,U=I*f+N*p,M=I*l+N*p;if(Math.max(F,P,U,M)<=I*v.x+N*v.y||Math.min(F,P,U,M)>=I*E.x+N*E.y)return!1;var k=C*(v.y-T.y),Y=C*(T.x-v.x),z=k*f+Y*d,tt=k*l+Y*d,ft=k*f+Y*p,dt=k*l+Y*p;return!(Math.max(z,tt,ft,dt)<=k*v.x+Y*v.y||Math.min(z,tt,ft,dt)>=k*E.x+Y*E.y)},t.prototype.pad=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x-=r,this.y-=e,this.width+=r*2,this.height+=e*2,this},t.prototype.fit=function(r){var e=Math.max(this.x,r.x),n=Math.min(this.x+this.width,r.x+r.width),s=Math.max(this.y,r.y),a=Math.min(this.y+this.height,r.y+r.height);return this.x=e,this.width=Math.max(n-e,0),this.y=s,this.height=Math.max(a-s,0),this},t.prototype.ceil=function(r,e){r===void 0&&(r=1),e===void 0&&(e=.001);var n=Math.ceil((this.x+this.width-e)*r)/r,s=Math.ceil((this.y+this.height-e)*r)/r;return this.x=Math.floor((this.x+e)*r)/r,this.y=Math.floor((this.y+e)*r)/r,this.width=n-this.x,this.height=s-this.y,this},t.prototype.enlarge=function(r){var e=Math.min(this.x,r.x),n=Math.max(this.x+this.width,r.x+r.width),s=Math.min(this.y,r.y),a=Math.max(this.y+this.height,r.y+r.height);return this.x=e,this.width=n-e,this.y=s,this.height=a-s,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),qn=function(){function t(r,e,n,s){n===void 0&&(n=0),s===void 0&&(s=0),this._x=n,this._y=s,this.cb=r,this.scope=e}return t.prototype.clone=function(r,e){return r===void 0&&(r=this.cb),e===void 0&&(e=this.scope),new t(r,e,this._x,this._y)},t.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),(this._x!==r||this._y!==e)&&(this._x=r,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(r){return r.set(this._x,this._y),r},t.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ce=function(){function t(r,e,n,s,a,h){r===void 0&&(r=1),e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=1),a===void 0&&(a=0),h===void 0&&(h=0),this.array=null,this.a=r,this.b=e,this.c=n,this.d=s,this.tx=a,this.ty=h}return t.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},t.prototype.set=function(r,e,n,s,a,h){return this.a=r,this.b=e,this.c=n,this.d=s,this.tx=a,this.ty=h,this},t.prototype.toArray=function(r,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return r?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(r,e){e=e||new ce;var n=r.x,s=r.y;return e.x=this.a*n+this.c*s+this.tx,e.y=this.b*n+this.d*s+this.ty,e},t.prototype.applyInverse=function(r,e){e=e||new ce;var n=1/(this.a*this.d+this.c*-this.b),s=r.x,a=r.y;return e.x=this.d*n*s+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*a+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(r,e){return this.tx+=r,this.ty+=e,this},t.prototype.scale=function(r,e){return this.a*=r,this.d*=e,this.c*=r,this.b*=e,this.tx*=r,this.ty*=e,this},t.prototype.rotate=function(r){var e=Math.cos(r),n=Math.sin(r),s=this.a,a=this.c,h=this.tx;return this.a=s*e-this.b*n,this.b=s*n+this.b*e,this.c=a*e-this.d*n,this.d=a*n+this.d*e,this.tx=h*e-this.ty*n,this.ty=h*n+this.ty*e,this},t.prototype.append=function(r){var e=this.a,n=this.b,s=this.c,a=this.d;return this.a=r.a*e+r.b*s,this.b=r.a*n+r.b*a,this.c=r.c*e+r.d*s,this.d=r.c*n+r.d*a,this.tx=r.tx*e+r.ty*s+this.tx,this.ty=r.tx*n+r.ty*a+this.ty,this},t.prototype.setTransform=function(r,e,n,s,a,h,f,l,d){return this.a=Math.cos(f+d)*a,this.b=Math.sin(f+d)*a,this.c=-Math.sin(f-l)*h,this.d=Math.cos(f-l)*h,this.tx=r-(n*this.a+s*this.c),this.ty=e-(n*this.b+s*this.d),this},t.prototype.prepend=function(r){var e=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var n=this.a,s=this.c;this.a=n*r.a+this.b*r.c,this.b=n*r.b+this.b*r.d,this.c=s*r.a+this.d*r.c,this.d=s*r.b+this.d*r.d}return this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty,this},t.prototype.decompose=function(r){var e=this.a,n=this.b,s=this.c,a=this.d,h=r.pivot,f=-Math.atan2(-s,a),l=Math.atan2(n,e),d=Math.abs(f+l);return d<1e-5||Math.abs(XT-d)<1e-5?(r.rotation=l,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=f,r.skew.y=l),r.scale.x=Math.sqrt(e*e+n*n),r.scale.y=Math.sqrt(s*s+a*a),r.position.x=this.tx+(h.x*e+h.y*s),r.position.y=this.ty+(h.x*n+h.y*a),r},t.prototype.invert=function(){var r=this.a,e=this.b,n=this.c,s=this.d,a=this.tx,h=r*s-e*n;return this.a=s/h,this.b=-e/h,this.c=-n/h,this.d=r/h,this.tx=(n*this.ty-s*a)/h,this.ty=-(r*this.ty-e*a)/h,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var r=new t;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Wr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],zr=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],$r=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Yr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Pa=[],md=[],es=Math.sign;function kT(){for(var t=0;t<16;t++){var r=[];Pa.push(r);for(var e=0;e<16;e++)for(var n=es(Wr[t]*Wr[e]+$r[t]*zr[e]),s=es(zr[t]*Wr[e]+Yr[t]*zr[e]),a=es(Wr[t]*$r[e]+$r[t]*Yr[e]),h=es(zr[t]*$r[e]+Yr[t]*Yr[e]),f=0;f<16;f++)if(Wr[f]===n&&zr[f]===s&&$r[f]===a&&Yr[f]===h){r.push(f);break}}for(var t=0;t<16;t++){var l=new Ce;l.set(Wr[t],zr[t],$r[t],Yr[t],0,0),md.push(l)}}kT();var Mt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Wr[t]},uY:function(t){return zr[t]},vX:function(t){return $r[t]},vY:function(t){return Yr[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,r){return Pa[t][r]},sub:function(t,r){return Pa[t][Mt.inv(r)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,r){return Math.abs(t)*2<=Math.abs(r)?r>=0?Mt.S:Mt.N:Math.abs(r)*2<=Math.abs(t)?t>0?Mt.E:Mt.W:r>0?t>0?Mt.SE:Mt.SW:t>0?Mt.NE:Mt.NW},matrixAppendRotationInv:function(t,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var s=md[Mt.inv(r)];s.tx=e,s.ty=n,t.append(s)}},VT=function(){function t(){this.worldTransform=new Ce,this.localTransform=new Ce,this.position=new qn(this.onChange,this,0,0),this.scale=new qn(this.onChange,this,1,1),this.pivot=new qn(this.onChange,this,0,0),this.skew=new qn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(r){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var n=r.worldTransform,s=this.worldTransform;s.a=e.a*n.a+e.b*n.c,s.b=e.a*n.b+e.b*n.d,s.c=e.c*n.a+e.d*n.c,s.d=e.c*n.b+e.d*n.d,s.tx=e.tx*n.a+e.ty*n.c+n.tx,s.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=r._worldID,this._worldID++}},t.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/runner - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var oe=function(){function t(r){this.items=[],this._name=r,this._aliasCount=0}return t.prototype.emit=function(r,e,n,s,a,h,f,l){if(arguments.length>8)throw new Error("max arguments reached");var d=this,p=d.name,v=d.items;this._aliasCount++;for(var g=0,T=v.length;g<T;g++)v[g][p](r,e,n,s,a,h,f,l);return v===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},t.prototype.remove=function(r){var e=this.items.indexOf(r);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(r){return this.items.indexOf(r)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(oe.prototype,{dispatch:{value:oe.prototype.emit},run:{value:oe.prototype.emit}});/*!
 * @pixi/settings - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yf;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Yf||(Yf={}));var jf;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(jf||(jf={}));var qf;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(qf||(qf={}));var Zf;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Zf||(Zf={}));var Kf;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Kf||(Kf={}));var Jf;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Jf||(Jf={}));var Qf;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Qf||(Qf={}));var tl;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(tl||(tl={}));var el;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(el||(el={}));var Ua;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Ua||(Ua={}));var Oa;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Oa||(Oa={}));var La;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(La||(La={}));var rl;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(rl||(rl={}));var nl;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(nl||(nl={}));var Ga;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Ga||(Ga={}));var Zn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Zn||(Zn={}));var il;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(il||(il={}));var sl;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(sl||(sl={}));var Sa;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Sa||(Sa={}));var ol;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(ol||(ol={}));var WT={createCanvas:function(t,r){var e=document.createElement("canvas");return e.width=t,e.height=r,e},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,r){return fetch(t,r)}},ra=/iPhone/i,al=/iPod/i,ul=/iPad/i,hl=/\biOS-universal(?:.+)Mac\b/i,na=/\bAndroid(?:.+)Mobile\b/i,fl=/Android/i,pn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,rs=/Silk/i,lr=/Windows Phone/i,ll=/\bWindows(?:.+)ARM\b/i,cl=/BlackBerry/i,dl=/BB10/i,pl=/Opera Mini/i,_l=/\b(CriOS|Chrome)(?:.+)Mobile/i,vl=/Mobile(?:.+)Firefox\b/i,gl=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function zT(t){return function(r){return r.test(t)}}function $T(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var e=r.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var s=zT(e),a={apple:{phone:s(ra)&&!s(lr),ipod:s(al),tablet:!s(ra)&&(s(ul)||gl(r))&&!s(lr),universal:s(hl),device:(s(ra)||s(al)||s(ul)||s(hl)||gl(r))&&!s(lr)},amazon:{phone:s(pn),tablet:!s(pn)&&s(rs),device:s(pn)||s(rs)},android:{phone:!s(lr)&&s(pn)||!s(lr)&&s(na),tablet:!s(lr)&&!s(pn)&&!s(na)&&(s(rs)||s(fl)),device:!s(lr)&&(s(pn)||s(rs)||s(na)||s(fl))||s(/\bokhttp\b/i)},windows:{phone:s(lr),tablet:s(ll),device:s(lr)||s(ll)},other:{blackberry:s(cl),blackberry10:s(dl),opera:s(pl),firefox:s(vl),chrome:s(_l),device:s(cl)||s(dl)||s(pl)||s(vl)||s(_l)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var jr=$T(globalThis.navigator);function YT(){return!jr.apple.device}function jT(t){var r=!0;if(jr.tablet||jr.phone){if(jr.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(r=!1)}}if(jr.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(r=!1)}}}return r?t:4}var j={ADAPTER:WT,MIPMAP_TEXTURES:La.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Sa.NONE,SPRITE_MAX_TEXTURES:jT(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Ga.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Oa.CLAMP,SCALE_MODE:Ua.LINEAR,PRECISION_VERTEX:Zn.HIGH,PRECISION_FRAGMENT:jr.apple.device?Zn.HIGH:Zn.MEDIUM,CAN_UPLOAD_SAME_BUFFER:YT(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/extensions - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kn=function(){return Kn=Object.assign||function(r){for(var e=arguments,n,s=1,a=arguments.length;s<a;s++){n=e[s];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(r[h]=n[h])}return r},Kn.apply(this,arguments)},Zt;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(Zt||(Zt={}));var ml=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var r=typeof t.extension!="object"?{type:t.extension}:t.extension;t=Kn(Kn({},r),{ref:t})}if(typeof t=="object")t=Kn({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},ze={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,r=this,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return e.map(ml).forEach(function(s){s.type.forEach(function(a){var h,f;return(f=(h=r._removeHandlers)[a])===null||f===void 0?void 0:f.call(h,s)})}),this},add:function(){for(var t=arguments,r=this,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return e.map(ml).forEach(function(s){s.type.forEach(function(a){var h=r._addHandlers,f=r._queue;h[a]?h[a](s):(f[a]=f[a]||[],f[a].push(s))})}),this},handle:function(t,r,e){var n=this._addHandlers=this._addHandlers||{},s=this._removeHandlers=this._removeHandlers||{};if(n[t]||s[t])throw new Error("Extension type "+t+" already has a handler");n[t]=r,s[t]=e;var a=this._queue;return a[t]&&(a[t].forEach(function(h){return r(h)}),delete a[t]),this},handleByMap:function(t,r){return this.handle(t,function(e){r[e.name]=e.ref},function(e){delete r[e.name]})},handleByList:function(t,r){return this.handle(t,function(e){var n,s;r.push(e.ref),t===Zt.Loader&&((s=(n=e.ref).add)===null||s===void 0||s.call(n))},function(e){var n=r.indexOf(e.ref);n!==-1&&r.splice(n,1)})}};/*!
 * @pixi/ticker - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.TARGET_FPMS=.06;var En;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(En||(En={}));var ia=function(){function t(r,e,n,s){e===void 0&&(e=null),n===void 0&&(n=0),s===void 0&&(s=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=r,this.context=e,this.priority=n,this.once=s}return t.prototype.match=function(r,e){return e===void 0&&(e=null),this.fn===r&&this.context===e},t.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},t.prototype.destroy=function(r){r===void 0&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=r?null:e,this.previous=null,e},t}(),qe=function(){function t(){var r=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ia(null,null,1/0),this.deltaMS=1/j.TARGET_FPMS,this.elapsedMS=1/j.TARGET_FPMS,this._tick=function(e){r._requestId=null,r.started&&(r.update(e),r.started&&r._requestId===null&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(r,e,n){return n===void 0&&(n=En.NORMAL),this._addListener(new ia(r,e,n))},t.prototype.addOnce=function(r,e,n){return n===void 0&&(n=En.NORMAL),this._addListener(new ia(r,e,n,!0))},t.prototype._addListener=function(r){var e=this._head.next,n=this._head;if(!e)r.connect(n);else{for(;e;){if(r.priority>e.priority){r.connect(n);break}n=e,e=e.next}r.previous||r.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(r,e){for(var n=this._head.next;n;)n.match(r,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,e=this._head;e=e.next;)r++;return r},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(r){r===void 0&&(r=performance.now());var e;if(r>this.lastTime){if(e=this.elapsedMS=r-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=r-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=r-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*j.TARGET_FPMS;for(var s=this._head,a=s.next;a;)a=a.emit(this.deltaTime);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var e=Math.min(this.maxFPS,r),n=Math.min(Math.max(0,e)/1e3,j.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(r===0)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,r);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var r=t._shared=new t;r.autoStart=!0,r._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var r=t._system=new t;r.autoStart=!0,r._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),qT=function(){function t(){}return t.init=function(r){var e=this;r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,En.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?qe.shared:new qe,r.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}},t.extension=Zt.Application,t}(),le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZT(t){var r=t.default;if(typeof r=="function"){var e=function(){return r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),e}var yd={exports:{}};(function(t){var r=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(l,d,p){this.fn=l,this.context=d,this.once=p||!1}function a(l,d,p,v,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var T=new s(p,v||l,g),E=e?e+d:d;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],T]:l._events[E].push(T):(l._events[E]=T,l._eventsCount++),l}function h(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)r.call(p,v)&&d.push(e?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},f.prototype.listeners=function(d){var p=e?e+d:d,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var g=0,T=v.length,E=new Array(T);g<T;g++)E[g]=v[g].fn;return E},f.prototype.listenerCount=function(d){var p=e?e+d:d,v=this._events[p];return v?v.fn?1:v.length:0},f.prototype.emit=function(d,p,v,g,T,E){var C=e?e+d:d;if(!this._events[C])return!1;var I=this._events[C],N=arguments.length,F,P;if(I.fn){switch(I.once&&this.removeListener(d,I.fn,void 0,!0),N){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,p),!0;case 3:return I.fn.call(I.context,p,v),!0;case 4:return I.fn.call(I.context,p,v,g),!0;case 5:return I.fn.call(I.context,p,v,g,T),!0;case 6:return I.fn.call(I.context,p,v,g,T,E),!0}for(P=1,F=new Array(N-1);P<N;P++)F[P-1]=arguments[P];I.fn.apply(I.context,F)}else{var U=I.length,M;for(P=0;P<U;P++)switch(I[P].once&&this.removeListener(d,I[P].fn,void 0,!0),N){case 1:I[P].fn.call(I[P].context);break;case 2:I[P].fn.call(I[P].context,p);break;case 3:I[P].fn.call(I[P].context,p,v);break;case 4:I[P].fn.call(I[P].context,p,v,g);break;default:if(!F)for(M=1,F=new Array(N-1);M<N;M++)F[M-1]=arguments[M];I[P].fn.apply(I[P].context,F)}}return!0},f.prototype.on=function(d,p,v){return a(this,d,p,v,!1)},f.prototype.once=function(d,p,v){return a(this,d,p,v,!0)},f.prototype.removeListener=function(d,p,v,g){var T=e?e+d:d;if(!this._events[T])return this;if(!p)return h(this,T),this;var E=this._events[T];if(E.fn)E.fn===p&&(!g||E.once)&&(!v||E.context===v)&&h(this,T);else{for(var C=0,I=[],N=E.length;C<N;C++)(E[C].fn!==p||g&&!E[C].once||v&&E[C].context!==v)&&I.push(E[C]);I.length?this._events[T]=I.length===1?I[0]:I:h(this,T)}return this},f.prototype.removeAllListeners=function(d){var p;return d?(p=e?e+d:d,this._events[p]&&h(this,p)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,t.exports=f})(yd);const ui=yd.exports;var Td={exports:{}};Td.exports=Us;Td.exports.default=Us;function Us(t,r,e){e=e||2;var n=r&&r.length,s=n?r[0]*e:t.length,a=Ed(t,0,s,e,!0),h=[];if(!a||a.next===a.prev)return h;var f,l,d,p,v,g,T;if(n&&(a=e1(t,r,a,e)),t.length>80*e){f=d=t[0],l=p=t[1];for(var E=e;E<s;E+=e)v=t[E],g=t[E+1],v<f&&(f=v),g<l&&(l=g),v>d&&(d=v),g>p&&(p=g);T=Math.max(d-f,p-l),T=T!==0?32767/T:0}return ei(a,h,e,f,l,T,0),h}function Ed(t,r,e,n,s){var a,h;if(s===Ma(t,r,e,n)>0)for(a=r;a<e;a+=n)h=yl(a,t[a],t[a+1],h);else for(a=e-n;a>=r;a-=n)h=yl(a,t[a],t[a+1],h);return h&&Os(h,h.next)&&(ni(h),h=h.next),h}function Zr(t,r){if(!t)return t;r||(r=t);var e=t,n;do if(n=!1,!e.steiner&&(Os(e,e.next)||Xt(e.prev,e,e.next)===0)){if(ni(e),e=r=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==r);return r}function ei(t,r,e,n,s,a,h){if(!!t){!h&&a&&o1(t,n,s,a);for(var f=t,l,d;t.prev!==t.next;){if(l=t.prev,d=t.next,a?JT(t,n,s,a):KT(t)){r.push(l.i/e|0),r.push(t.i/e|0),r.push(d.i/e|0),ni(t),t=d.next,f=d.next;continue}if(t=d,t===f){h?h===1?(t=QT(Zr(t),r,e),ei(t,r,e,n,s,a,2)):h===2&&t1(t,r,e,n,s,a):ei(Zr(t),r,e,n,s,a,1);break}}}}function KT(t){var r=t.prev,e=t,n=t.next;if(Xt(r,e,n)>=0)return!1;for(var s=r.x,a=e.x,h=n.x,f=r.y,l=e.y,d=n.y,p=s<a?s<h?s:h:a<h?a:h,v=f<l?f<d?f:d:l<d?l:d,g=s>a?s>h?s:h:a>h?a:h,T=f>l?f>d?f:d:l>d?l:d,E=n.next;E!==r;){if(E.x>=p&&E.x<=g&&E.y>=v&&E.y<=T&&vn(s,f,a,l,h,d,E.x,E.y)&&Xt(E.prev,E,E.next)>=0)return!1;E=E.next}return!0}function JT(t,r,e,n){var s=t.prev,a=t,h=t.next;if(Xt(s,a,h)>=0)return!1;for(var f=s.x,l=a.x,d=h.x,p=s.y,v=a.y,g=h.y,T=f<l?f<d?f:d:l<d?l:d,E=p<v?p<g?p:g:v<g?v:g,C=f>l?f>d?f:d:l>d?l:d,I=p>v?p>g?p:g:v>g?v:g,N=Fa(T,E,r,e,n),F=Fa(C,I,r,e,n),P=t.prevZ,U=t.nextZ;P&&P.z>=N&&U&&U.z<=F;){if(P.x>=T&&P.x<=C&&P.y>=E&&P.y<=I&&P!==s&&P!==h&&vn(f,p,l,v,d,g,P.x,P.y)&&Xt(P.prev,P,P.next)>=0||(P=P.prevZ,U.x>=T&&U.x<=C&&U.y>=E&&U.y<=I&&U!==s&&U!==h&&vn(f,p,l,v,d,g,U.x,U.y)&&Xt(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;P&&P.z>=N;){if(P.x>=T&&P.x<=C&&P.y>=E&&P.y<=I&&P!==s&&P!==h&&vn(f,p,l,v,d,g,P.x,P.y)&&Xt(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;U&&U.z<=F;){if(U.x>=T&&U.x<=C&&U.y>=E&&U.y<=I&&U!==s&&U!==h&&vn(f,p,l,v,d,g,U.x,U.y)&&Xt(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function QT(t,r,e){var n=t;do{var s=n.prev,a=n.next.next;!Os(s,a)&&xd(s,n,n.next,a)&&ri(s,a)&&ri(a,s)&&(r.push(s.i/e|0),r.push(n.i/e|0),r.push(a.i/e|0),ni(n),ni(n.next),n=t=a),n=n.next}while(n!==t);return Zr(n)}function t1(t,r,e,n,s,a){var h=t;do{for(var f=h.next.next;f!==h.prev;){if(h.i!==f.i&&h1(h,f)){var l=Rd(h,f);h=Zr(h,h.next),l=Zr(l,l.next),ei(h,r,e,n,s,a,0),ei(l,r,e,n,s,a,0);return}f=f.next}h=h.next}while(h!==t)}function e1(t,r,e,n){var s=[],a,h,f,l,d;for(a=0,h=r.length;a<h;a++)f=r[a]*n,l=a<h-1?r[a+1]*n:t.length,d=Ed(t,f,l,n,!1),d===d.next&&(d.steiner=!0),s.push(u1(d));for(s.sort(r1),a=0;a<s.length;a++)e=n1(s[a],e);return e}function r1(t,r){return t.x-r.x}function n1(t,r){var e=i1(t,r);if(!e)return r;var n=Rd(e,t);return Zr(n,n.next),Zr(e,e.next)}function i1(t,r){var e=r,n=t.x,s=t.y,a=-1/0,h;do{if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){var f=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(f<=n&&f>a&&(a=f,h=e.x<e.next.x?e:e.next,f===n))return h}e=e.next}while(e!==r);if(!h)return null;var l=h,d=h.x,p=h.y,v=1/0,g;e=h;do n>=e.x&&e.x>=d&&n!==e.x&&vn(s<p?n:a,s,d,p,s<p?a:n,s,e.x,e.y)&&(g=Math.abs(s-e.y)/(n-e.x),ri(e,t)&&(g<v||g===v&&(e.x>h.x||e.x===h.x&&s1(h,e)))&&(h=e,v=g)),e=e.next;while(e!==l);return h}function s1(t,r){return Xt(t.prev,t,r.prev)<0&&Xt(r.next,t,t.next)<0}function o1(t,r,e,n){var s=t;do s.z===0&&(s.z=Fa(s.x,s.y,r,e,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,a1(s)}function a1(t){var r,e,n,s,a,h,f,l,d=1;do{for(e=t,t=null,a=null,h=0;e;){for(h++,n=e,f=0,r=0;r<d&&(f++,n=n.nextZ,!!n);r++);for(l=d;f>0||l>0&&n;)f!==0&&(l===0||!n||e.z<=n.z)?(s=e,e=e.nextZ,f--):(s=n,n=n.nextZ,l--),a?a.nextZ=s:t=s,s.prevZ=a,a=s;e=n}a.nextZ=null,d*=2}while(h>1);return t}function Fa(t,r,e,n,s){return t=(t-e)*s|0,r=(r-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t|r<<1}function u1(t){var r=t,e=t;do(r.x<e.x||r.x===e.x&&r.y<e.y)&&(e=r),r=r.next;while(r!==t);return e}function vn(t,r,e,n,s,a,h,f){return(s-h)*(r-f)>=(t-h)*(a-f)&&(t-h)*(n-f)>=(e-h)*(r-f)&&(e-h)*(a-f)>=(s-h)*(n-f)}function h1(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!f1(t,r)&&(ri(t,r)&&ri(r,t)&&l1(t,r)&&(Xt(t.prev,t,r.prev)||Xt(t,r.prev,r))||Os(t,r)&&Xt(t.prev,t,t.next)>0&&Xt(r.prev,r,r.next)>0)}function Xt(t,r,e){return(r.y-t.y)*(e.x-r.x)-(r.x-t.x)*(e.y-r.y)}function Os(t,r){return t.x===r.x&&t.y===r.y}function xd(t,r,e,n){var s=is(Xt(t,r,e)),a=is(Xt(t,r,n)),h=is(Xt(e,n,t)),f=is(Xt(e,n,r));return!!(s!==a&&h!==f||s===0&&ns(t,e,r)||a===0&&ns(t,n,r)||h===0&&ns(e,t,n)||f===0&&ns(e,r,n))}function ns(t,r,e){return r.x<=Math.max(t.x,e.x)&&r.x>=Math.min(t.x,e.x)&&r.y<=Math.max(t.y,e.y)&&r.y>=Math.min(t.y,e.y)}function is(t){return t>0?1:t<0?-1:0}function f1(t,r){var e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==r.i&&e.next.i!==r.i&&xd(e,e.next,t,r))return!0;e=e.next}while(e!==t);return!1}function ri(t,r){return Xt(t.prev,t,t.next)<0?Xt(t,r,t.next)>=0&&Xt(t,t.prev,r)>=0:Xt(t,r,t.prev)<0||Xt(t,t.next,r)<0}function l1(t,r){var e=t,n=!1,s=(t.x+r.x)/2,a=(t.y+r.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&s<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==t);return n}function Rd(t,r){var e=new Ba(t.i,t.x,t.y),n=new Ba(r.i,r.x,r.y),s=t.next,a=r.prev;return t.next=r,r.prev=t,e.next=s,s.prev=e,n.next=e,e.prev=n,a.next=n,n.prev=a,n}function yl(t,r,e,n){var s=new Ba(t,r,e);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function ni(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ba(t,r,e){this.i=t,this.x=r,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Us.deviation=function(t,r,e,n){var s=r&&r.length,a=s?r[0]*e:t.length,h=Math.abs(Ma(t,0,a,e));if(s)for(var f=0,l=r.length;f<l;f++){var d=r[f]*e,p=f<l-1?r[f+1]*e:t.length;h-=Math.abs(Ma(t,d,p,e))}var v=0;for(f=0;f<n.length;f+=3){var g=n[f]*e,T=n[f+1]*e,E=n[f+2]*e;v+=Math.abs((t[g]-t[E])*(t[T+1]-t[g+1])-(t[g]-t[T])*(t[E+1]-t[g+1]))}return h===0&&v===0?0:Math.abs((v-h)/h)};function Ma(t,r,e,n){for(var s=0,a=r,h=e-n;a<e;a+=n)s+=(t[h]-t[a])*(t[a+1]+t[h+1]),h=a;return s}Us.flatten=function(t){for(var r=t[0][0].length,e={vertices:[],holes:[],dimensions:r},n=0,s=0;s<t.length;s++){for(var a=0;a<t[s].length;a++)for(var h=0;h<r;h++)e.vertices.push(t[s][a][h]);s>0&&(n+=t[s-1].length,e.holes.push(n))}return e};var Xa={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,r){(function(e){var n=r&&!r.nodeType&&r,s=t&&!t.nodeType&&t,a=typeof le=="object"&&le;(a.global===a||a.window===a||a.self===a)&&(e=a);var h,f=2147483647,l=36,d=1,p=26,v=38,g=700,T=72,E=128,C="-",I=/^xn--/,N=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=l-d,M=Math.floor,k=String.fromCharCode,Y;function z(L){throw RangeError(P[L])}function tt(L,X){for(var W=L.length,J=[];W--;)J[W]=X(L[W]);return J}function ft(L,X){var W=L.split("@"),J="";W.length>1&&(J=W[0]+"@",L=W[1]),L=L.replace(F,".");var et=L.split("."),lt=tt(et,X).join(".");return J+lt}function dt(L){for(var X=[],W=0,J=L.length,et,lt;W<J;)et=L.charCodeAt(W++),et>=55296&&et<=56319&&W<J?(lt=L.charCodeAt(W++),(lt&64512)==56320?X.push(((et&1023)<<10)+(lt&1023)+65536):(X.push(et),W--)):X.push(et);return X}function Ot(L){return tt(L,function(X){var W="";return X>65535&&(X-=65536,W+=k(X>>>10&1023|55296),X=56320|X&1023),W+=k(X),W}).join("")}function gt(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:l}function bt(L,X){return L+22+75*(L<26)-((X!=0)<<5)}function kt(L,X,W){var J=0;for(L=W?M(L/g):L>>1,L+=M(L/X);L>U*p>>1;J+=l)L=M(L/U);return M(J+(U+1)*L/(L+v))}function Ft(L){var X=[],W=L.length,J,et=0,lt=E,ot=T,Et,xt,Ct,Vt,ct,yt,Nt,Rt,Wt;for(Et=L.lastIndexOf(C),Et<0&&(Et=0),xt=0;xt<Et;++xt)L.charCodeAt(xt)>=128&&z("not-basic"),X.push(L.charCodeAt(xt));for(Ct=Et>0?Et+1:0;Ct<W;){for(Vt=et,ct=1,yt=l;Ct>=W&&z("invalid-input"),Nt=gt(L.charCodeAt(Ct++)),(Nt>=l||Nt>M((f-et)/ct))&&z("overflow"),et+=Nt*ct,Rt=yt<=ot?d:yt>=ot+p?p:yt-ot,!(Nt<Rt);yt+=l)Wt=l-Rt,ct>M(f/Wt)&&z("overflow"),ct*=Wt;J=X.length+1,ot=kt(et-Vt,J,Vt==0),M(et/J)>f-lt&&z("overflow"),lt+=M(et/J),et%=J,X.splice(et++,0,lt)}return Ot(X)}function Yt(L){var X,W,J,et,lt,ot,Et,xt,Ct,Vt,ct,yt=[],Nt,Rt,Wt,tr;for(L=dt(L),Nt=L.length,X=E,W=0,lt=T,ot=0;ot<Nt;++ot)ct=L[ot],ct<128&&yt.push(k(ct));for(J=et=yt.length,et&&yt.push(C);J<Nt;){for(Et=f,ot=0;ot<Nt;++ot)ct=L[ot],ct>=X&&ct<Et&&(Et=ct);for(Rt=J+1,Et-X>M((f-W)/Rt)&&z("overflow"),W+=(Et-X)*Rt,X=Et,ot=0;ot<Nt;++ot)if(ct=L[ot],ct<X&&++W>f&&z("overflow"),ct==X){for(xt=W,Ct=l;Vt=Ct<=lt?d:Ct>=lt+p?p:Ct-lt,!(xt<Vt);Ct+=l)tr=xt-Vt,Wt=l-Vt,yt.push(k(bt(Vt+tr%Wt,0))),xt=M(tr/Wt);yt.push(k(bt(xt,0))),lt=kt(W,Rt,J==et),W=0,++J}++W,++X}return yt.join("")}function ne(L){return ft(L,function(X){return I.test(X)?Ft(X.slice(4).toLowerCase()):X})}function jt(L){return ft(L,function(X){return N.test(X)?"xn--"+Yt(X):X})}if(h={version:"1.3.2",ucs2:{decode:dt,encode:Ot},decode:Ft,encode:Yt,toASCII:jt,toUnicode:ne},n&&s)if(t.exports==n)s.exports=h;else for(Y in h)h.hasOwnProperty(Y)&&(n[Y]=h[Y]);else e.punycode=h})(le)})(Xa,Xa.exports);var c1={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},ii={};function d1(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var p1=function(t,r,e,n){r=r||"&",e=e||"=";var s={};if(typeof t!="string"||t.length===0)return s;var a=/\+/g;t=t.split(r);var h=1e3;n&&typeof n.maxKeys=="number"&&(h=n.maxKeys);var f=t.length;h>0&&f>h&&(f=h);for(var l=0;l<f;++l){var d=t[l].replace(a,"%20"),p=d.indexOf(e),v,g,T,E;p>=0?(v=d.substr(0,p),g=d.substr(p+1)):(v=d,g=""),T=decodeURIComponent(v),E=decodeURIComponent(g),d1(s,T)?Array.isArray(s[T])?s[T].push(E):s[T]=[s[T],E]:s[T]=E}return s},Hn=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},_1=function(t,r,e,n){return r=r||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(s){var a=encodeURIComponent(Hn(s))+e;return Array.isArray(t[s])?t[s].map(function(h){return a+encodeURIComponent(Hn(h))}).join(r):a+encodeURIComponent(Hn(t[s]))}).join(r):n?encodeURIComponent(Hn(n))+e+encodeURIComponent(Hn(t)):""};ii.decode=ii.parse=p1;ii.encode=ii.stringify=_1;var v1=Xa.exports,Ze=c1,g1=Ls,m1=N1,y1=A1;function We(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var T1=/^([a-z0-9.+-]+:)/i,E1=/:[0-9]*$/,x1=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,R1=["<",">",'"',"`"," ","\r",`
`,"	"],I1=["{","}","|","\\","^","`"].concat(R1),Da=["'"].concat(I1),Tl=["%","/","?",";","#"].concat(Da),El=["/","?","#"],b1=255,xl=/^[+a-z0-9A-Z_-]{0,63}$/,w1=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,C1={javascript:!0,"javascript:":!0},Ha={javascript:!0,"javascript:":!0},mn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ka=ii;function Ls(t,r,e){if(t&&Ze.isObject(t)&&t instanceof We)return t;var n=new We;return n.parse(t,r,e),n}We.prototype.parse=function(t,r,e){if(!Ze.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(s),h=/\\/g;a[0]=a[0].replace(h,"/"),t=a.join(s);var f=t;if(f=f.trim(),!e&&t.split("#").length===1){var l=x1.exec(f);if(l)return this.path=f,this.href=f,this.pathname=l[1],l[2]?(this.search=l[2],r?this.query=ka.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var d=T1.exec(f);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,f=f.substr(d.length)}if(e||d||f.match(/^\/\/[^@\/]+@[^@\/]+/)){var v=f.substr(0,2)==="//";v&&!(d&&Ha[d])&&(f=f.substr(2),this.slashes=!0)}if(!Ha[d]&&(v||d&&!mn[d])){for(var g=-1,T=0;T<El.length;T++){var E=f.indexOf(El[T]);E!==-1&&(g===-1||E<g)&&(g=E)}var C,I;g===-1?I=f.lastIndexOf("@"):I=f.lastIndexOf("@",g),I!==-1&&(C=f.slice(0,I),f=f.slice(I+1),this.auth=decodeURIComponent(C)),g=-1;for(var T=0;T<Tl.length;T++){var E=f.indexOf(Tl[T]);E!==-1&&(g===-1||E<g)&&(g=E)}g===-1&&(g=f.length),this.host=f.slice(0,g),f=f.slice(g),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var F=this.hostname.split(/\./),T=0,P=F.length;T<P;T++){var U=F[T];if(!!U&&!U.match(xl)){for(var M="",k=0,Y=U.length;k<Y;k++)U.charCodeAt(k)>127?M+="x":M+=U[k];if(!M.match(xl)){var z=F.slice(0,T),tt=F.slice(T+1),ft=U.match(w1);ft&&(z.push(ft[1]),tt.unshift(ft[2])),tt.length&&(f="/"+tt.join(".")+f),this.hostname=z.join(".");break}}}this.hostname.length>b1?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=v1.toASCII(this.hostname));var dt=this.port?":"+this.port:"",Ot=this.hostname||"";this.host=Ot+dt,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),f[0]!=="/"&&(f="/"+f))}if(!C1[p])for(var T=0,P=Da.length;T<P;T++){var gt=Da[T];if(f.indexOf(gt)!==-1){var bt=encodeURIComponent(gt);bt===gt&&(bt=escape(gt)),f=f.split(gt).join(bt)}}var kt=f.indexOf("#");kt!==-1&&(this.hash=f.substr(kt),f=f.slice(0,kt));var Ft=f.indexOf("?");if(Ft!==-1?(this.search=f.substr(Ft),this.query=f.substr(Ft+1),r&&(this.query=ka.parse(this.query)),f=f.slice(0,Ft)):r&&(this.search="",this.query={}),f&&(this.pathname=f),mn[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var dt=this.pathname||"",Yt=this.search||"";this.path=dt+Yt}return this.href=this.format(),this};function A1(t){return Ze.isString(t)&&(t=Ls(t)),t instanceof We?t.format():We.prototype.format.call(t)}We.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=this.protocol||"",e=this.pathname||"",n=this.hash||"",s=!1,a="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&Ze.isObject(this.query)&&Object.keys(this.query).length&&(a=ka.stringify(this.query));var h=this.search||a&&"?"+a||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||mn[r])&&s!==!1?(s="//"+(s||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),h&&h.charAt(0)!=="?"&&(h="?"+h),e=e.replace(/[?#]/g,function(f){return encodeURIComponent(f)}),h=h.replace("#","%23"),r+s+e+h+n};function N1(t,r){return Ls(t,!1,!0).resolve(r)}We.prototype.resolve=function(t){return this.resolveObject(Ls(t,!1,!0)).format()};We.prototype.resolveObject=function(t){if(Ze.isString(t)){var r=new We;r.parse(t,!1,!0),t=r}for(var e=new We,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];e[a]=this[a]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),f=0;f<h.length;f++){var l=h[f];l!=="protocol"&&(e[l]=t[l])}return mn[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!mn[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var v=d[p];e[v]=t[v]}return e.href=e.format(),e}if(e.protocol=t.protocol,!t.host&&!Ha[t.protocol]){for(var P=(t.pathname||"").split("/");P.length&&!(t.host=P.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),P[0]!==""&&P.unshift(""),P.length<2&&P.unshift(""),e.pathname=P.join("/")}else e.pathname=t.pathname;if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var g=e.pathname||"",T=e.search||"";e.path=g+T}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var E=e.pathname&&e.pathname.charAt(0)==="/",C=t.host||t.pathname&&t.pathname.charAt(0)==="/",I=C||E||e.host&&t.pathname,N=I,F=e.pathname&&e.pathname.split("/")||[],P=t.pathname&&t.pathname.split("/")||[],U=e.protocol&&!mn[e.protocol];if(U&&(e.hostname="",e.port=null,e.host&&(F[0]===""?F[0]=e.host:F.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(P[0]===""?P[0]=t.host:P.unshift(t.host)),t.host=null),I=I&&(P[0]===""||F[0]==="")),C)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,F=P;else if(P.length)F||(F=[]),F.pop(),F=F.concat(P),e.search=t.search,e.query=t.query;else if(!Ze.isNullOrUndefined(t.search)){if(U){e.hostname=e.host=F.shift();var M=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;M&&(e.auth=M.shift(),e.host=e.hostname=M.shift())}return e.search=t.search,e.query=t.query,(!Ze.isNull(e.pathname)||!Ze.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!F.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var k=F.slice(-1)[0],Y=(e.host||t.host||F.length>1)&&(k==="."||k==="..")||k==="",z=0,tt=F.length;tt>=0;tt--)k=F[tt],k==="."?F.splice(tt,1):k===".."?(F.splice(tt,1),z++):z&&(F.splice(tt,1),z--);if(!I&&!N)for(;z--;z)F.unshift("..");I&&F[0]!==""&&(!F[0]||F[0].charAt(0)!=="/")&&F.unshift(""),Y&&F.join("/").substr(-1)!=="/"&&F.push("");var ft=F[0]===""||F[0]&&F[0].charAt(0)==="/";if(U){e.hostname=e.host=ft?"":F.length?F.shift():"";var M=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;M&&(e.auth=M.shift(),e.host=e.hostname=M.shift())}return I=I||e.host&&F.length,I&&!ft&&F.unshift(""),F.length?e.pathname=F.join("/"):(e.pathname=null,e.path=null),(!Ze.isNull(e.pathname)||!Ze.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e};We.prototype.parseHost=function(){var t=this.host,r=E1.exec(t);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)};/*!
 * @pixi/utils - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Id={parse:g1,format:y1,resolve:m1};j.RETINA_PREFIX=/@([0-9\.]+)x/;j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Rl=!1,Il="6.5.2";function P1(t){var r;if(!Rl){if(j.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var e=[`
 %c %c %c PixiJS `+Il+" - \u2730 "+t+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(r=globalThis.console).log.apply(r,e)}else globalThis.console&&globalThis.console.log("PixiJS "+Il+" - "+t+" - http://www.pixijs.com/");Rl=!0}}var sa;function U1(){return typeof sa>"u"&&(sa=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!j.ADAPTER.getWebGLRenderingContext())return!1;var e=j.ADAPTER.createCanvas(),n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),s=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,s}catch{return!1}}()),sa}function O1(t,r){return r===void 0&&(r=[]),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,r}function L1(t){var r=t.toString(16);return r="000000".substring(0,6-r.length)+r,"#"+r}function G1(){for(var t=[],r=[],e=0;e<32;e++)t[e]=e,r[e]=e;t[Q.NORMAL_NPM]=Q.NORMAL,t[Q.ADD_NPM]=Q.ADD,t[Q.SCREEN_NPM]=Q.SCREEN,r[Q.NORMAL]=Q.NORMAL_NPM,r[Q.ADD]=Q.ADD_NPM,r[Q.SCREEN]=Q.SCREEN_NPM;var n=[];return n.push(r),n.push(t),n}var S1=G1();function F1(t,r){if(r===1)return(r*255<<24)+t;if(r===0)return 0;var e=t>>16&255,n=t>>8&255,s=t&255;return e=e*r+.5|0,n=n*r+.5|0,s=s*r+.5|0,(r*255<<24)+(e<<16)+(n<<8)+s}function bd(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function ws(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function bl(t){return!(t&t-1)&&!!t}function wl(t){var r=(t>65535?1:0)<<4;t>>>=r;var e=(t>255?1:0)<<3;return t>>>=e,r|=e,e=(t>15?1:0)<<2,t>>>=e,r|=e,e=(t>3?1:0)<<1,t>>>=e,r|=e,r|t>>1}function Rs(t,r,e){var n=t.length,s;if(!(r>=n||e===0)){e=r+e>n?n-r:e;var a=n-e;for(s=r;s<a;++s)t[s]=t[s+e];t.length=a}}function ss(t){return t===0?0:t<0?-1:1}var B1=0;function si(){return++B1}var Cl={};function Pr(t,r,e){if(e===void 0&&(e=3),!Cl[r]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(n))),Cl[r]=!0}}var Al={},pr=Object.create(null),Hr=Object.create(null);(function(){function t(r,e,n){this.canvas=j.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||j.RESOLUTION,this.resize(r,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,e){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t})();var os;function M1(t,r){if(r===void 0&&(r=globalThis.location),t.indexOf("data:")===0)return"";r=r||globalThis.location,os||(os=document.createElement("a")),os.href=t;var e=Id.parse(os.href),n=!e.port&&r.port===""||e.port===r.port;return e.hostname!==r.hostname||!n||e.protocol!==r.protocol?"anonymous":""}function Nl(t,r){var e=j.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):r!==void 0?r:1}/*!
 * @pixi/core - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.PREFER_ENV=jr.any?gr.WEBGL:gr.WEBGL2;j.STRICT_TEXTURE_CACHE=!1;var Va=[];function wd(t,r){if(!t)return null;var e="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(e=n[1].toLowerCase())}for(var s=Va.length-1;s>=0;--s){var a=Va[s];if(a.test&&a.test(t,e))return new a(t,r)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wa=function(t,r){return Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},Wa(t,r)};function Ut(t,r){Wa(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var za=function(){return za=Object.assign||function(r){for(var e=arguments,n,s=1,a=arguments.length;s<a;s++){n=e[s];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(r[h]=n[h])}return r},za.apply(this,arguments)};function X1(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e}var oi=function(){function t(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this._width=r,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new oe("setRealSize"),this.onUpdate=new oe("update"),this.onError=new oe("onError")}return t.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},t.prototype.resize=function(r,e){(r!==this._width||e!==this._height)&&(this._width=r,this._height=e,this.onResize.emit(r,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(r,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(r,e){return!1},t}(),hi=function(t){Ut(r,t);function r(e,n){var s=this,a=n||{},h=a.width,f=a.height;if(!h||!f)throw new Error("BufferResource width or height invalid");return s=t.call(this,h,f)||this,s.data=e,s}return r.prototype.upload=function(e,n,s){var a=e.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Qe.UNPACK);var h=n.realWidth,f=n.realHeight;return s.width===h&&s.height===f?a.texSubImage2D(n.target,0,0,0,h,f,n.format,s.type,this.data):(s.width=h,s.height=f,a.texImage2D(n.target,0,s.internalFormat,h,f,0,n.format,s.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(oi),D1={scaleMode:vr.NEAREST,format:D.RGBA,alphaMode:Qe.NPM},Gt=function(t){Ut(r,t);function r(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var s=t.call(this)||this;n=n||{};var a=n.alphaMode,h=n.mipmap,f=n.anisotropicLevel,l=n.scaleMode,d=n.width,p=n.height,v=n.wrapMode,g=n.format,T=n.type,E=n.target,C=n.resolution,I=n.resourceOptions;return e&&!(e instanceof oi)&&(e=wd(e,I),e.internal=!0),s.resolution=C||j.RESOLUTION,s.width=Math.round((d||0)*s.resolution)/s.resolution,s.height=Math.round((p||0)*s.resolution)/s.resolution,s._mipmap=h!==void 0?h:j.MIPMAP_TEXTURES,s.anisotropicLevel=f!==void 0?f:j.ANISOTROPIC_LEVEL,s._wrapMode=v||j.WRAP_MODE,s._scaleMode=l!==void 0?l:j.SCALE_MODE,s.format=g||D.RGBA,s.type=T||rt.UNSIGNED_BYTE,s.target=E||qr.TEXTURE_2D,s.alphaMode=a!==void 0?a:Qe.UNPACK,s.uid=si(),s.touched=0,s.isPowerOfTwo=!1,s._refreshPOT(),s._glTextures={},s.dirtyId=0,s.dirtyStyleId=0,s.cacheId=null,s.valid=d>0&&p>0,s.textureCacheIds=[],s.destroyed=!1,s.resource=null,s._batchEnabled=0,s._batchLocation=0,s.parentTextureArray=null,s.setResource(e),s}return Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(e,n){var s;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,s=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,s=!0),s&&this.dirtyStyleId++,this},r.prototype.setSize=function(e,n,s){return s=s||this.resolution,this.setRealSize(e*s,n*s,s)},r.prototype.setRealSize=function(e,n,s){return this.resolution=s||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=bl(this.realWidth)&&bl(this.realHeight)},r.prototype.setResolution=function(e){var n=this.resolution;return n===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*n)/e,this.height=Math.round(this.height*n)/e,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(e){this.emit("error",this,e)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Hr[this.cacheId],delete pr[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(e,n,s){s===void 0&&(s=j.STRICT_TEXTURE_CACHE);var a=typeof e=="string",h=null;if(a)h=e;else{if(!e._pixiId){var f=n&&n.pixiIdPrefix||"pixiid";e._pixiId=f+"_"+si()}h=e._pixiId}var l=Hr[h];if(a&&s&&!l)throw new Error('The cacheId "'+h+'" does not exist in BaseTextureCache.');return l||(l=new r(e,n),l.cacheId=h,r.addToCache(l,h)),l},r.fromBuffer=function(e,n,s,a){e=e||new Float32Array(n*s*4);var h=new hi(e,{width:n,height:s}),f=e instanceof Float32Array?rt.FLOAT:rt.UNSIGNED_BYTE;return new r(h,Object.assign(D1,a||{width:n,height:s,type:f}))},r.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),Hr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Hr[n]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var n=Hr[e];if(n){var s=n.textureCacheIds.indexOf(e);return s>-1&&n.textureCacheIds.splice(s,1),delete Hr[e],n}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)delete Hr[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},r._globalBatch=0,r}(ui),Cd=function(t){Ut(r,t);function r(e,n){var s=this,a=n||{},h=a.width,f=a.height;s=t.call(this,h,f)||this,s.items=[],s.itemDirtyIds=[];for(var l=0;l<e;l++){var d=new Gt;s.items.push(d),s.itemDirtyIds.push(-2)}return s.length=e,s._load=null,s.baseTexture=null,s}return r.prototype.initFromArray=function(e,n){for(var s=0;s<this.length;s++)!e[s]||(e[s].castToBaseTexture?this.addBaseTextureAt(e[s].castToBaseTexture(),s):e[s]instanceof oi?this.addResourceAt(e[s],s):this.addResourceAt(wd(e[s],n),s))},r.prototype.dispose=function(){for(var e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(e,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this},r.prototype.bind=function(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},r.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},r.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),s=n.map(function(a){return a.load()});return this._load=Promise.all(s).then(function(){var a=e.items[0],h=a.realWidth,f=a.realHeight;return e.resize(h,f),Promise.resolve(e)}),this._load},r}(oi),H1=function(t){Ut(r,t);function r(e,n){var s=this,a=n||{},h=a.width,f=a.height,l,d;return Array.isArray(e)?(l=e,d=e.length):d=e,s=t.call(this,d,{width:h,height:f})||this,l&&s.initFromArray(l,n),s}return r.prototype.addBaseTextureAt=function(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},r.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=qr.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,n,s){var a=this,h=a.length,f=a.itemDirtyIds,l=a.items,d=e.gl;s.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,s.internalFormat,this._width,this._height,h,0,n.format,s.type,null);for(var p=0;p<h;p++){var v=l[p];f[p]<v.dirtyId&&(f[p]=v.dirtyId,v.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,p,v.resource.width,v.resource.height,1,n.format,s.type,v.resource.source))}return!0},r}(Cd),Ur=function(t){Ut(r,t);function r(e){var n=this,s=e,a=s.naturalWidth||s.videoWidth||s.width,h=s.naturalHeight||s.videoHeight||s.height;return n=t.call(this,a,h)||this,n.source=e,n.noSubImage=!1,n}return r.crossOrigin=function(e,n,s){s===void 0&&n.indexOf("data:")!==0?e.crossOrigin=M1(n):s!==!1&&(e.crossOrigin=typeof s=="string"?s:"anonymous")},r.prototype.upload=function(e,n,s,a){var h=e.gl,f=n.realWidth,l=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Qe.UNPACK),!this.noSubImage&&n.target===h.TEXTURE_2D&&s.width===f&&s.height===l?h.texSubImage2D(h.TEXTURE_2D,0,0,0,n.format,s.type,a):(s.width=f,s.height=l,h.texImage2D(n.target,0,s.internalFormat,n.format,s.type,a)),!0},r.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,s=e.naturalHeight||e.videoHeight||e.height;this.resize(n,s),t.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(oi),k1=function(t){Ut(r,t);function r(e){return t.call(this,e)||this}return r.test=function(e){var n=globalThis.OffscreenCanvas;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},r}(Ur),V1=function(t){Ut(r,t);function r(e,n){var s=this,a=n||{},h=a.width,f=a.height,l=a.autoLoad,d=a.linkBaseTexture;if(e&&e.length!==r.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");s=t.call(this,6,{width:h,height:f})||this;for(var p=0;p<r.SIDES;p++)s.items[p].target=qr.TEXTURE_CUBE_MAP_POSITIVE_X+p;return s.linkBaseTexture=d!==!1,e&&s.initFromArray(e,n),l!==!1&&s.load(),s}return r.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=qr.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,n,s){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=qr.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.parentTextureArray=this.baseTexture,this.items[n]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[n]=e,this},r.prototype.upload=function(e,n,s){for(var a=this.itemDirtyIds,h=0;h<r.SIDES;h++){var f=this.items[h];(a[h]<f.dirtyId||s.dirtyId<n.dirtyId)&&(f.valid&&f.resource?(f.resource.upload(e,f,s),a[h]=f.dirtyId):a[h]<-1&&(e.gl.texImage2D(f.target,0,s.internalFormat,n.realWidth,n.realHeight,0,n.format,s.type,null),a[h]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(Cd),Ad=function(t){Ut(r,t);function r(e,n){var s=this;if(n=n||{},!(e instanceof HTMLImageElement)){var a=new Image;Ur.crossOrigin(a,e,n.crossorigin),a.src=e,e=a}return s=t.call(this,e)||this,!e.complete&&!!s._width&&!!s._height&&(s._width=0,s._height=0),s.url=e.src,s._process=null,s.preserveBitmap=!1,s.createBitmap=(n.createBitmap!==void 0?n.createBitmap:j.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,s.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,s.bitmap=null,s._load=null,n.autoLoad!==!1&&s.load(),s}return r.prototype.load=function(e){var n=this;return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise(function(s,a){var h=n.source;n.url=h.src;var f=function(){n.destroyed||(h.onload=null,h.onerror=null,n.resize(h.width,h.height),n._load=null,n.createBitmap?s(n.process()):s(n))};h.complete&&h.src?f():(h.onload=f,h.onerror=function(l){a(l),n.onError.emit(l)})}),this._load)},r.prototype.process=function(){var e=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var s=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(h){return h.blob()}).then(function(h){return s(h,0,0,n.width,n.height,{premultiplyAlpha:e.alphaMode===Qe.UNPACK?"premultiply":"none"})}).then(function(h){return e.destroyed?Promise.reject():(e.bitmap=h,e.update(),e._process=null,Promise.resolve(e))}),this._process},r.prototype.upload=function(e,n,s){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,s);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,s,this.bitmap),!this.preserveBitmap){var a=!0,h=n._glTextures;for(var f in h){var l=h[f];if(l!==s&&l.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return typeof e=="string"||e instanceof HTMLImageElement},r}(Ur),W1=function(t){Ut(r,t);function r(e,n){var s=this;return n=n||{},s=t.call(this,j.ADAPTER.createCanvas())||this,s._width=0,s._height=0,s.svg=e,s.scale=n.scale||1,s._overrideWidth=n.width,s._overrideHeight=n.height,s._resolve=null,s._crossorigin=n.crossorigin,s._load=null,n.autoLoad!==!1&&s.load(),s}return r.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(n){if(e._resolve=function(){e.resize(e.source.width,e.source.height),n(e)},r.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},r.prototype._loadSvg=function(){var e=this,n=new Image;Ur.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(s){!e._resolve||(n.onerror=null,e.onError.emit(s))},n.onload=function(){if(!!e._resolve){var s=n.width,a=n.height;if(!s||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var h=s*e.scale,f=a*e.scale;(e._overrideWidth||e._overrideHeight)&&(h=e._overrideWidth||e._overrideHeight/a*s,f=e._overrideHeight||e._overrideWidth/s*a),h=Math.round(h),f=Math.round(f);var l=e.source;l.width=h,l.height=f,l._pixiId="canvas_"+si(),l.getContext("2d").drawImage(n,0,0,s,a,0,0,h,f),e._resolve(),e._resolve=null}}},r.getSize=function(e){var n=r.SVG_SIZE.exec(e),s={};return n&&(s[n[1]]=Math.round(parseFloat(n[3])),s[n[5]]=Math.round(parseFloat(n[7]))),s},r.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(e,n){return n==="svg"||typeof e=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||typeof e=="string"&&r.SVG_XML.test(e)},r.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}(Ur),z1=function(t){Ut(r,t);function r(e,n){var s=this;if(n=n||{},!(e instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);var h=e[0].src||e[0];Ur.crossOrigin(a,h,n.crossorigin);for(var f=0;f<e.length;++f){var l=document.createElement("source"),d=e[f],p=d.src,v=d.mime;p=p||e[f];var g=p.split("?").shift().toLowerCase(),T=g.slice(g.lastIndexOf(".")+1);v=v||r.MIME_TYPES[T]||"video/"+T,l.src=p,l.type=v,a.appendChild(l)}e=a}return s=t.call(this,e)||this,s.noSubImage=!0,s._autoUpdate=!0,s._isConnectedToTicker=!1,s._updateFPS=n.updateFPS||0,s._msToNextUpdate=0,s.autoPlay=n.autoPlay!==!1,s._load=null,s._resolve=null,s._onCanPlay=s._onCanPlay.bind(s),s._onError=s._onError.bind(s),n.autoLoad!==!1&&s.load(),s}return r.prototype.update=function(e){if(!this.destroyed){var n=qe.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},r.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(s){e.valid?s(e):(e._resolve=s,n.load())}),this._load},r.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},r.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&e.paused===!1&&e.ended===!1&&e.readyState>2},r.prototype._isSourceReady=function(){var e=this.source;return e.readyState===3||e.readyState===4},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(qe.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(qe.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(e.videoWidth,e.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&(qe.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(qe.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(qe.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),r.test=function(e,n){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||r.TYPES.indexOf(n)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}(Ur),$1=function(t){Ut(r,t);function r(e){return t.call(this,e)||this}return r.test=function(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&e instanceof ImageBitmap},r}(Ur);Va.push(Ad,$1,k1,z1,W1,hi,V1,H1);var Y1=function(t){Ut(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.upload=function(e,n,s){var a=e.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Qe.UNPACK);var h=n.realWidth,f=n.realHeight;return s.width===h&&s.height===f?a.texSubImage2D(n.target,0,0,0,h,f,n.format,s.type,this.data):(s.width=h,s.height=f,a.texImage2D(n.target,0,s.internalFormat,h,f,0,n.format,s.type,this.data)),!0},r}(hi),$a=function(){function t(r,e){this.width=Math.round(r||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new oe("disposeFramebuffer"),this.multisample=qt.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(r,e){return r===void 0&&(r=0),this.colorTextures[r]=e||new Gt(null,{scaleMode:vr.NEAREST,resolution:1,mipmap:mr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(r){return this.depthTexture=r||new Gt(new Y1(null,{width:this.width,height:this.height}),{scaleMode:vr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:mr.OFF,format:D.DEPTH_COMPONENT,type:rt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(r,e){if(r=Math.round(r),e=Math.round(e),!(r===this.width&&e===this.height)){this.width=r,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var s=this.colorTextures[n],a=s.resolution;s.setSize(r/a,e/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(r/a,e/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Nd=function(t){Ut(r,t);function r(e){e===void 0&&(e={});var n=this;if(typeof e=="number"){var s=arguments[0],a=arguments[1],h=arguments[2],f=arguments[3];e={width:s,height:a,scaleMode:h,resolution:f}}return e.width=e.width||100,e.height=e.height||100,e.multisample=e.multisample!==void 0?e.multisample:qt.NONE,n=t.call(this,null,e)||this,n.mipmap=mr.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new $a(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=e.multisample,n.maskStack=[],n.filterStack=[{}],n}return r.prototype.resize=function(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},r.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(Gt),Pd=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(r,e,n){var s=e.width,a=e.height;if(n){var h=r.width/2/s,f=r.height/2/a,l=r.x/s+h,d=r.y/a+f;n=Mt.add(n,Mt.NW),this.x0=l+h*Mt.uX(n),this.y0=d+f*Mt.uY(n),n=Mt.add(n,2),this.x1=l+h*Mt.uX(n),this.y1=d+f*Mt.uY(n),n=Mt.add(n,2),this.x2=l+h*Mt.uX(n),this.y2=d+f*Mt.uY(n),n=Mt.add(n,2),this.x3=l+h*Mt.uX(n),this.y3=d+f*Mt.uY(n)}else this.x0=r.x/s,this.y0=r.y/a,this.x1=(r.x+r.width)/s,this.y1=r.y/a,this.x2=(r.x+r.width)/s,this.y2=(r.y+r.height)/a,this.x3=r.x/s,this.y3=(r.y+r.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),Pl=new Pd;function as(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var de=function(t){Ut(r,t);function r(e,n,s,a,h,f){var l=t.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new Ht(0,0,1,1)),e instanceof r&&(e=e.baseTexture),l.baseTexture=e,l._frame=n,l.trim=a,l.valid=!1,l._uvs=Pl,l.uvMatrix=null,l.orig=s||n,l._rotate=Number(h||0),h===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=f?new ce(f.x,f.y):new ce(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=n:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture.resource;n&&n.url&&pr[n.url]&&r.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){var e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),s=new r(this.baseTexture,!this.noFrame&&e,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(s._frame=e),s},r.prototype.updateUvs=function(){this._uvs===Pl&&(this._uvs=new Pd),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(e,n,s){n===void 0&&(n={}),s===void 0&&(s=j.STRICT_TEXTURE_CACHE);var a=typeof e=="string",h=null;if(a)h=e;else if(e instanceof Gt){if(!e.cacheId){var f=n&&n.pixiIdPrefix||"pixiid";e.cacheId=f+"-"+si(),Gt.addToCache(e,e.cacheId)}h=e.cacheId}else{if(!e._pixiId){var f=n&&n.pixiIdPrefix||"pixiid";e._pixiId=f+"_"+si()}h=e._pixiId}var l=pr[h];if(a&&s&&!l)throw new Error('The cacheId "'+h+'" does not exist in TextureCache.');return!l&&!(e instanceof Gt)?(n.resolution||(n.resolution=Nl(e)),l=new r(new Gt(e,n)),l.baseTexture.cacheId=h,Gt.addToCache(l.baseTexture,h),r.addToCache(l,h)):!l&&e instanceof Gt&&(l=new r(e),r.addToCache(l,h)),l},r.fromURL=function(e,n){var s=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=r.from(e,Object.assign({resourceOptions:s},n),!1),h=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):h.load().then(function(){return Promise.resolve(a)})},r.fromBuffer=function(e,n,s,a){return new r(Gt.fromBuffer(e,n,s,a))},r.fromLoader=function(e,n,s,a){var h=new Gt(e,Object.assign({scaleMode:j.SCALE_MODE,resolution:Nl(n)},a)),f=h.resource;f instanceof Ad&&(f.url=n);var l=new r(h);return s||(s=n),Gt.addToCache(l.baseTexture,s),r.addToCache(l,s),s!==n&&(Gt.addToCache(l.baseTexture,n),r.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(d){l.baseTexture.once("loaded",function(){return d(l)})})},r.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),pr[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),pr[n]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var n=pr[e];if(n){var s=n.textureCacheIds.indexOf(e);return s>-1&&n.textureCacheIds.splice(s,1),delete pr[e],n}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)pr[e.textureCacheIds[a]]===e&&delete pr[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var n=e.x,s=e.y,a=e.width,h=e.height,f=n+a>this.baseTexture.width,l=s+h>this.baseTexture.height;if(f||l){var d=f&&l?"and":"or",p="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,v="Y: "+s+" + "+h+" = "+(s+h)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(p+" "+d+" "+v))}this.valid=a&&h&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(r,"EMPTY",{get:function(){return r._EMPTY||(r._EMPTY=new r(new Gt),as(r._EMPTY),as(r._EMPTY.baseTexture)),r._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(r,"WHITE",{get:function(){if(!r._WHITE){var e=j.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),r._WHITE=new r(Gt.from(e)),as(r._WHITE),as(r._WHITE.baseTexture)}return r._WHITE},enumerable:!1,configurable:!0}),r}(ui),hu=function(t){Ut(r,t);function r(e,n){var s=t.call(this,e,n)||this;return s.valid=!0,s.filterFrame=null,s.filterPoolKey=null,s.updateUvs(),s}return Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,n,s){s===void 0&&(s=!0);var a=this.baseTexture.resolution,h=Math.round(e*a)/a,f=Math.round(n*a)/a;this.valid=h>0&&f>0,this._frame.width=this.orig.width=h,this._frame.height=this.orig.height=f,s&&this.baseTexture.resize(h,f),this.updateUvs()},r.prototype.setResolution=function(e){var n=this.baseTexture;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))},r.create=function(e){for(var n=arguments,s=[],a=1;a<arguments.length;a++)s[a-1]=n[a];return typeof e=="number"&&(Pr("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:s[0],scaleMode:s[1],resolution:s[2]}),new r(new Nd(e))},r}(de),j1=function(){function t(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(r,e,n){n===void 0&&(n=qt.NONE);var s=new Nd(Object.assign({width:r,height:e,resolution:1,multisample:n},this.textureOptions));return new hu(s)},t.prototype.getOptimalTexture=function(r,e,n,s){n===void 0&&(n=1),s===void 0&&(s=qt.NONE);var a;r=Math.ceil(r*n-1e-6),e=Math.ceil(e*n-1e-6),!this.enableFullScreen||r!==this._pixelsWidth||e!==this._pixelsHeight?(r=ws(r),e=ws(e),a=((r&65535)<<16|e&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);var h=this.texturePool[a].pop();return h||(h=this.createTexture(r,e,s)),h.filterPoolKey=a,h.setResolution(n),h},t.prototype.getFilterTexture=function(r,e,n){var s=this.getOptimalTexture(r.width,r.height,e||r.resolution,n||qt.NONE);return s.filterFrame=r.filterFrame,s},t.prototype.returnTexture=function(r){var e=r.filterPoolKey;r.filterFrame=null,this.texturePool[e].push(r)},t.prototype.returnFilterTexture=function(r){this.returnTexture(r)},t.prototype.clear=function(r){if(r=r!==!1,r)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(r){if(!(r.width===this._pixelsWidth&&r.height===this._pixelsHeight)){this.enableFullScreen=r.width>0&&r.height>0;for(var e in this.texturePool)if(Number(e)<0){var n=this.texturePool[e];if(n)for(var s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=r.width,this._pixelsHeight=r.height}},t.SCREEN_KEY=-1,t}(),Ul=function(){function t(r,e,n,s,a,h,f){e===void 0&&(e=0),n===void 0&&(n=!1),s===void 0&&(s=rt.FLOAT),this.buffer=r,this.size=e,this.normalized=n,this.type=s,this.stride=a,this.start=h,this.instance=f}return t.prototype.destroy=function(){this.buffer=null},t.from=function(r,e,n,s,a){return new t(r,e,n,s,a)},t}(),q1=0,we=function(){function t(r,e,n){e===void 0&&(e=!0),n===void 0&&(n=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=q1++,this.disposeRunner=new oe("disposeBuffer")}return t.prototype.update=function(r){r instanceof Array&&(r=new Float32Array(r)),this.data=r||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Je.ELEMENT_ARRAY_BUFFER},set:function(r){this.type=r?Je.ELEMENT_ARRAY_BUFFER:Je.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new t(r)},t}(),Z1={Float32Array,Uint32Array,Int32Array,Uint8Array};function K1(t,r){for(var e=0,n=0,s={},a=0;a<t.length;a++)n+=r[a],e+=t[a].length;for(var h=new ArrayBuffer(e*4),f=null,l=0,a=0;a<t.length;a++){var d=r[a],p=t[a],v=bd(p);s[v]||(s[v]=new Z1[v](h)),f=s[v];for(var g=0;g<p.length;g++){var T=(g/d|0)*n+l,E=g%d;f[T+E]=p[g]}l+=d}return new Float32Array(h)}var Ol={5126:4,5123:2,5121:1},J1=0,Q1={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},fu=function(){function t(r,e){r===void 0&&(r=[]),e===void 0&&(e={}),this.buffers=r,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=J1++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new oe("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(r,e,n,s,a,h,f,l){if(n===void 0&&(n=0),s===void 0&&(s=!1),l===void 0&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof we||(e instanceof Array&&(e=new Float32Array(e)),e=new we(e));var d=r.split("|");if(d.length>1){for(var p=0;p<d.length;p++)this.addAttribute(d[p],e,n,s,a);return this}var v=this.buffers.indexOf(e);return v===-1&&(this.buffers.push(e),v=this.buffers.length-1),this.attributes[r]=new Ul(v,n,s,a,h,f,l),this.instanced=this.instanced||l,this},t.prototype.getAttribute=function(r){return this.attributes[r]},t.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},t.prototype.addIndex=function(r){return r instanceof we||(r instanceof Array&&(r=new Uint16Array(r)),r=new we(r)),r.type=Je.ELEMENT_ARRAY_BUFFER,this.indexBuffer=r,this.buffers.indexOf(r)===-1&&this.buffers.push(r),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var r=[],e=[],n=new we,s;for(s in this.attributes){var a=this.attributes[s],h=this.buffers[a.buffer];r.push(h.data),e.push(a.size*Ol[a.type]/4),a.buffer=0}for(n.data=K1(r,e),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var r in this.attributes){var e=this.attributes[r],n=this.buffers[e.buffer];return n.data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var r=new t,e=0;e<this.buffers.length;e++)r.buffers[e]=new we(this.buffers[e].data.slice(0));for(var e in this.attributes){var n=this.attributes[e];r.attributes[e]=new Ul(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.type=Je.ELEMENT_ARRAY_BUFFER),r},t.merge=function(r){for(var e=new t,n=[],s=[],a=[],h,f=0;f<r.length;f++){h=r[f];for(var l=0;l<h.buffers.length;l++)s[l]=s[l]||0,s[l]+=h.buffers[l].data.length,a[l]=0}for(var f=0;f<h.buffers.length;f++)n[f]=new Q1[bd(h.buffers[f].data)](s[f]),e.buffers[f]=new we(n[f]);for(var f=0;f<r.length;f++){h=r[f];for(var l=0;l<h.buffers.length;l++)n[l].set(h.buffers[l].data,a[l]),a[l]+=h.buffers[l].data.length}if(e.attributes=h.attributes,h.indexBuffer){e.indexBuffer=e.buffers[h.buffers.indexOf(h.indexBuffer)],e.indexBuffer.type=Je.ELEMENT_ARRAY_BUFFER;for(var d=0,p=0,v=0,g=0,f=0;f<h.buffers.length;f++)if(h.buffers[f]!==h.indexBuffer){g=f;break}for(var f in h.attributes){var T=h.attributes[f];(T.buffer|0)===g&&(p+=T.size*Ol[T.type]/4)}for(var f=0;f<r.length;f++){for(var E=r[f].indexBuffer.data,l=0;l<E.length;l++)e.indexBuffer.data[l+v]+=d;d+=r[f].buffers[g].data.length/p,v+=E.length}}return e},t}(),tE=function(t){Ut(r,t);function r(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return r}(fu),eE=function(t){Ut(r,t);function r(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new we(e.vertices),e.uvBuffer=new we(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return r.prototype.map=function(e,n){var s=0,a=0;return this.uvs[0]=s,this.uvs[1]=a,this.uvs[2]=s+n.width/e.width,this.uvs[3]=a,this.uvs[4]=s+n.width/e.width,this.uvs[5]=a+n.height/e.height,this.uvs[6]=s,this.uvs[7]=a+n.height/e.height,s=n.x,a=n.y,this.vertices[0]=s,this.vertices[1]=a,this.vertices[2]=s+n.width,this.vertices[3]=a,this.vertices[4]=s+n.width,this.vertices[5]=a+n.height,this.vertices[6]=s,this.vertices[7]=a+n.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(fu),rE=0,yn=function(){function t(r,e,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=rE++,this.static=!!e,this.ubo=!!n,r instanceof we?(this.buffer=r,this.buffer.type=Je.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=r,this.ubo&&(this.buffer=new we(new Float32Array(1)),this.buffer.type=Je.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(r,e,n){if(!this.ubo)this.uniforms[r]=new t(e,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(r,e,n){return new t(r,e,n)},t.uboFrom=function(r,e){return new t(r,e!=null?e:!0,!0)},t}(),nE=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qt.NONE,this.sourceFrame=new Ht,this.destinationFrame=new Ht,this.bindingSourceFrame=new Ht,this.bindingDestinationFrame=new Ht,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),us=[new ce,new ce,new ce,new ce],oa=new Ce,iE=function(){function t(r){this.renderer=r,this.defaultFilterStack=[{}],this.texturePool=new j1,this.texturePool.setScreenSize(r.view),this.statePool=[],this.quad=new tE,this.quadUv=new eE,this.tempRect=new Ht,this.activeState={},this.globalUniforms=new yn({outputFrame:new Ht,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(r,e){for(var n,s,a=this.renderer,h=this.defaultFilterStack,f=this.statePool.pop()||new nE,l=this.renderer.renderTexture,d=e[0].resolution,p=e[0].multisample,v=e[0].padding,g=e[0].autoFit,T=(n=e[0].legacy)!==null&&n!==void 0?n:!0,E=1;E<e.length;E++){var C=e[E];d=Math.min(d,C.resolution),p=Math.min(p,C.multisample),v=this.useMaxPadding?Math.max(v,C.padding):v+C.padding,g=g&&C.autoFit,T=T||((s=C.legacy)!==null&&s!==void 0?s:!0)}h.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),h.push(f),f.resolution=d,f.multisample=p,f.legacy=T,f.target=r,f.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),f.sourceFrame.pad(v);var I=this.tempRect.copyFrom(l.sourceFrame);a.projection.transform&&this.transformAABB(oa.copyFrom(a.projection.transform).invert(),I),g?(f.sourceFrame.fit(I),(f.sourceFrame.width<=0||f.sourceFrame.height<=0)&&(f.sourceFrame.width=0,f.sourceFrame.height=0)):f.sourceFrame.intersects(I)||(f.sourceFrame.width=0,f.sourceFrame.height=0),this.roundFrame(f.sourceFrame,l.current?l.current.resolution:a.resolution,l.sourceFrame,l.destinationFrame,a.projection.transform),f.renderTexture=this.getOptimalFilterTexture(f.sourceFrame.width,f.sourceFrame.height,d,p),f.filters=e,f.destinationFrame.width=f.renderTexture.width,f.destinationFrame.height=f.renderTexture.height;var N=this.tempRect;N.x=0,N.y=0,N.width=f.sourceFrame.width,N.height=f.sourceFrame.height,f.renderTexture.filterFrame=f.sourceFrame,f.bindingSourceFrame.copyFrom(l.sourceFrame),f.bindingDestinationFrame.copyFrom(l.destinationFrame),f.transform=a.projection.transform,a.projection.transform=null,l.bind(f.renderTexture,f.sourceFrame,N),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var r=this.defaultFilterStack,e=r.pop(),n=e.filters;this.activeState=e;var s=this.globalUniforms.uniforms;s.outputFrame=e.sourceFrame,s.resolution=e.resolution;var a=s.inputSize,h=s.inputPixel,f=s.inputClamp;if(a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],h[0]=Math.round(a[0]*e.resolution),h[1]=Math.round(a[1]*e.resolution),h[2]=1/h[0],h[3]=1/h[1],f[0]=.5*h[2],f[1]=.5*h[3],f[2]=e.sourceFrame.width*a[2]-.5*h[2],f[3]=e.sourceFrame.height*a[3]-.5*h[3],e.legacy){var l=s.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();var d=r[r.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,e.renderTexture,d.renderTexture,Nr.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var p=e.renderTexture,v=this.getOptimalFilterTexture(p.width,p.height,e.resolution);v.filterFrame=p.filterFrame;var g=0;for(g=0;g<n.length-1;++g){g===1&&e.multisample>1&&(v=this.getOptimalFilterTexture(p.width,p.height,e.resolution),v.filterFrame=p.filterFrame),n[g].apply(this,p,v,Nr.CLEAR,e);var T=p;p=v,v=T}n[g].apply(this,p,d.renderTexture,Nr.BLEND,e),g>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(p),this.returnFilterTexture(v)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(r,e){e===void 0&&(e=Nr.CLEAR);var n=this.renderer,s=n.renderTexture,a=n.state;if(r===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,r&&r.filterFrame){var h=this.tempRect;h.x=0,h.y=0,h.width=r.filterFrame.width,h.height=r.filterFrame.height,s.bind(r,r.filterFrame,h)}else r!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?s.bind(r):this.renderer.renderTexture.bind(r,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var f=a.stateId&1||this.forceClear;(e===Nr.CLEAR||e===Nr.BLIT&&f)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(r,e,n,s){var a=this.renderer;a.state.set(r.state),this.bindAndClear(n,s),r.uniforms.uSampler=e,r.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(r),r.legacy=!!r.program.attributeData.aTextureCoord,r.legacy?(this.quadUv.map(e._frame,e.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(ti.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(ti.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,e){var n=this.activeState,s=n.sourceFrame,a=n.destinationFrame,h=e._texture.orig,f=r.set(a.width,0,0,a.height,s.x,s.y),l=e.worldTransform.copyTo(Ce.TEMP_MATRIX);return l.invert(),f.prepend(l),f.scale(1/h.width,1/h.height),f.translate(e.anchor.x,e.anchor.y),f},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,e,n,s){return n===void 0&&(n=1),s===void 0&&(s=qt.NONE),this.texturePool.getOptimalTexture(r,e,n,s)},t.prototype.getFilterTexture=function(r,e,n){if(typeof r=="number"){var s=r;r=e,e=s}r=r||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(r.width,r.height,e||r.resolution,n||qt.NONE);return a.filterFrame=r.filterFrame,a},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(r,e){var n=us[0],s=us[1],a=us[2],h=us[3];n.set(e.left,e.top),s.set(e.left,e.bottom),a.set(e.right,e.top),h.set(e.right,e.bottom),r.apply(n,n),r.apply(s,s),r.apply(a,a),r.apply(h,h);var f=Math.min(n.x,s.x,a.x,h.x),l=Math.min(n.y,s.y,a.y,h.y),d=Math.max(n.x,s.x,a.x,h.x),p=Math.max(n.y,s.y,a.y,h.y);e.x=f,e.y=l,e.width=d-f,e.height=p-l},t.prototype.roundFrame=function(r,e,n,s,a){if(!(r.width<=0||r.height<=0||n.width<=0||n.height<=0)){if(a){var h=a.a,f=a.b,l=a.c,d=a.d;if((Math.abs(f)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(d)>1e-4))return}a=a?oa.copyFrom(a):oa.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(a,r),r.ceil(e),this.transformAABB(a.invert(),r)}},t}(),Ud=function(){function t(r){this.renderer=r}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(r){},t}(),sE=function(){function t(r){this.renderer=r,this.emptyRenderer=new Ud(r),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(r,e){for(var n=this.renderer.texture.boundTextures,s=e-1;s>=0;--s)r[s]=n[s]||null,r[s]&&(r[s]._batchLocation=s)},t.prototype.boundArray=function(r,e,n,s){for(var a=r.elements,h=r.ids,f=r.count,l=0,d=0;d<f;d++){var p=a[d],v=p._batchLocation;if(v>=0&&v<s&&e[v]===p){h[d]=v;continue}for(;l<s;){var g=e[l];if(g&&g._batchEnabled===n&&g._batchLocation===l){l++;continue}h[d]=l,p._batchLocation=l,e[l]=p;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),Ll=0,oE=function(){function t(r){this.renderer=r,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=Ll++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=Ll++,this.renderer.runners.contextChange.emit(r)},t.prototype.initFromOptions=function(r){var e=this.createContext(this.renderer.view,r);this.initFromContext(e)},t.prototype.createContext=function(r,e){var n;if(j.PREFER_ENV>=gr.WEBGL2&&(n=r.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var r=this.gl,e={anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:r.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(r){r.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var r=this.renderer.view;this.renderer=null,r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(r){var e=r.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var s=n||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),aE=function(){function t(r){this.framebuffer=r,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),uE=new Ht,hE=function(){function t(r){this.renderer=r,this.managedFramebuffers=[],this.unknownFramebuffer=new $a(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ht,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;j.PREFER_ENV===gr.WEBGL_LEGACY&&(e=null,n=null),e?r.drawBuffers=function(s){return e.drawBuffersWEBGL(s)}:(this.hasMRT=!1,r.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},t.prototype.bind=function(r,e,n){n===void 0&&(n=0);var s=this.gl;if(r){var a=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(r.dirtyId++,r.dirtyFormat++,a.mipLevel=n),a.dirtyId!==r.dirtyId&&(a.dirtyId=r.dirtyId,a.dirtyFormat!==r.dirtyFormat?(a.dirtyFormat=r.dirtyFormat,a.dirtySize=r.dirtySize,this.updateFramebuffer(r,n)):a.dirtySize!==r.dirtySize&&(a.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var h=0;h<r.colorTextures.length;h++){var f=r.colorTextures[h];this.renderer.texture.unbind(f.parentTextureArray||f)}if(r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),e){var l=e.width>>n,d=e.height>>n,p=l/e.width;this.setViewport(e.x*p,e.y*p,l,d)}else{var l=r.width>>n,d=r.height>>n;this.setViewport(0,0,l,d)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(r,e,n,s){var a=this.viewport;r=Math.round(r),e=Math.round(e),n=Math.round(n),s=Math.round(s),(a.width!==n||a.height!==s||a.x!==r||a.y!==e)&&(a.x=r,a.y=e,a.width=n,a.height=s,this.gl.viewport(r,e,n,s))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(r,e,n,s,a){a===void 0&&(a=Is.COLOR|Is.DEPTH);var h=this.gl;h.clearColor(r,e,n,s),h.clear(a)},t.prototype.initFramebuffer=function(r){var e=this.gl,n=new aE(e.createFramebuffer());return n.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(r),r.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(r){var e=this.gl,n=r.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,r.width,r.height)),n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),n.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.DEPTH24_STENCIL8,r.width,r.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r.width,r.height));var s=r.colorTextures,a=s.length;e.drawBuffers||(a=Math.min(a,1));for(var h=0;h<a;h++){var f=s[h],l=f.parentTextureArray||f;this.renderer.texture.bind(l,0)}r.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(r.depthTexture,0)},t.prototype.updateFramebuffer=function(r,e){var n=this.gl,s=r.glFramebuffers[this.CONTEXT_UID],a=r.colorTextures,h=a.length;n.drawBuffers||(h=Math.min(h,1)),s.multisample>1&&this.canMultisampleFramebuffer(r)?(s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,n.RGBA8,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));for(var f=[],l=0;l<h;l++){var d=a[l],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),!(l===0&&s.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,d.target,p._glTextures[this.CONTEXT_UID].texture,e),f.push(n.COLOR_ATTACHMENT0+l))}if(f.length>1&&n.drawBuffers(f),r.depthTexture){var v=this.writeDepthTexture;if(v){var g=r.depthTexture;this.renderer.texture.bind(g,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,g._glTextures[this.CONTEXT_UID].texture,e)}}(r.stencil||r.depth)&&!(r.depthTexture&&this.writeDepthTexture)?(s.stencil=s.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,n.DEPTH24_STENCIL8,r.width,r.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s.stencil)):s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)},t.prototype.canMultisampleFramebuffer=function(r){return this.renderer.context.webGLVersion!==1&&r.colorTextures.length<=1&&!r.depthTexture},t.prototype.detectSamples=function(r){var e=this.msaaSamples,n=qt.NONE;if(r<=1||e===null)return n;for(var s=0;s<e.length;s++)if(e[s]<=r){n=e[s];break}return n===1&&(n=qt.NONE),n},t.prototype.blit=function(r,e,n){var s=this,a=s.current,h=s.renderer,f=s.gl,l=s.CONTEXT_UID;if(h.context.webGLVersion===2&&!!a){var d=a.glFramebuffers[l];if(!!d){if(!r){if(!d.msaaBuffer)return;var p=a.colorTextures[0];if(!p)return;d.blitFramebuffer||(d.blitFramebuffer=new $a(a.width,a.height),d.blitFramebuffer.addColorTexture(0,p)),r=d.blitFramebuffer,r.colorTextures[0]!==p&&(r.colorTextures[0]=p,r.dirtyId++,r.dirtyFormat++),(r.width!==a.width||r.height!==a.height)&&(r.width=a.width,r.height=a.height,r.dirtyId++,r.dirtySize++)}e||(e=uE,e.width=a.width,e.height=a.height),n||(n=e);var v=e.width===n.width&&e.height===n.height;this.bind(r),f.bindFramebuffer(f.READ_FRAMEBUFFER,d.framebuffer),f.blitFramebuffer(e.left,e.top,e.right,e.bottom,n.left,n.top,n.right,n.bottom,f.COLOR_BUFFER_BIT,v?f.NEAREST:f.LINEAR)}}},t.prototype.disposeFramebuffer=function(r,e){var n=r.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!!n){delete r.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(r);a>=0&&this.managedFramebuffers.splice(a,1),r.disposeRunner.remove(this),e||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(r){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],r)},t.prototype.forceStencil=function(){var r=this.current;if(!!r){var e=r.glFramebuffers[this.CONTEXT_UID];if(!(!e||e.stencil)){r.stencil=!0;var n=r.width,s=r.height,a=this.gl,h=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,h),e.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,e.multisample,a.DEPTH24_STENCIL8,n,s):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,s),e.stencil=h,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,h)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ht},t.prototype.destroy=function(){this.renderer=null},t}(),aa={5126:4,5123:2,5121:1},fE=function(){function t(r){this.renderer=r,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;j.PREFER_ENV===gr.WEBGL_LEGACY&&(n=null),n?(r.createVertexArray=function(){return n.createVertexArrayOES()},r.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},r.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(e.webGLVersion!==2){var s=r.getExtension("ANGLE_instanced_arrays");s?(r.vertexAttribDivisor=function(a,h){return s.vertexAttribDivisorANGLE(a,h)},r.drawElementsInstanced=function(a,h,f,l,d){return s.drawElementsInstancedANGLE(a,h,f,l,d)},r.drawArraysInstanced=function(a,h,f,l){return s.drawArraysInstancedANGLE(a,h,f,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(r,e){e=e||this.renderer.shader.shader;var n=this.gl,s=r.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);var h=s[e.program.id]||this.initGeometryVao(r,e,a);this._activeGeometry=r,this._activeVao!==h&&(this._activeVao=h,this.hasVao?n.bindVertexArray(h):this.activateVao(r,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,e=this.renderer.buffer,n=0;n<r.buffers.length;n++){var s=r.buffers[n];e.update(s)}},t.prototype.checkCompatibility=function(r,e){var n=r.attributes,s=e.attributeData;for(var a in s)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(r,e){var n=r.attributes,s=e.attributeData,a=["g",r.id];for(var h in n)s[h]&&a.push(h,s[h].location);return a.join("-")},t.prototype.initGeometryVao=function(r,e,n){n===void 0&&(n=!0);var s=this.gl,a=this.CONTEXT_UID,h=this.renderer.buffer,f=e.program;f.glPrograms[a]||this.renderer.shader.generateProgram(e),this.checkCompatibility(r,f);var l=this.getSignature(r,f),d=r.glVertexArrayObjects[this.CONTEXT_UID],p=d[l];if(p)return d[f.id]=p,p;var v=r.buffers,g=r.attributes,T={},E={};for(var C in v)T[C]=0,E[C]=0;for(var C in g)!g[C].size&&f.attributeData[C]?g[C].size=f.attributeData[C].size:g[C].size||console.warn("PIXI Geometry attribute '"+C+"' size cannot be determined (likely the bound shader does not have the attribute)"),T[g[C].buffer]+=g[C].size*aa[g[C].type];for(var C in g){var I=g[C],N=I.size;I.stride===void 0&&(T[I.buffer]===N*aa[I.type]?I.stride=0:I.stride=T[I.buffer]),I.start===void 0&&(I.start=E[I.buffer],E[I.buffer]+=N*aa[I.type])}p=s.createVertexArray(),s.bindVertexArray(p);for(var F=0;F<v.length;F++){var P=v[F];h.bind(P),n&&P._glBuffers[a].refCount++}return this.activateVao(r,f),this._activeVao=p,d[f.id]=p,d[l]=p,p},t.prototype.disposeGeometry=function(r,e){var n;if(!!this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var s=r.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,h=r.buffers,f=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(r.disposeRunner.remove(this),!!s){if(f)for(var l=0;l<h.length;l++){var d=h[l]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!e&&f.dispose(h[l],e))}if(!e){for(var p in s)if(p[0]==="g"){var v=s[p];this._activeVao===v&&this.unbind(),a.deleteVertexArray(v)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],r)},t.prototype.activateVao=function(r,e){var n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,h=r.buffers,f=r.attributes;r.indexBuffer&&a.bind(r.indexBuffer);var l=null;for(var d in f){var p=f[d],v=h[p.buffer],g=v._glBuffers[s];if(e.attributeData[d]){l!==g&&(a.bind(v),l=g);var T=e.attributeData[d].location;if(n.enableVertexAttribArray(T),n.vertexAttribPointer(T,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(T,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,e,n,s){var a=this.gl,h=this._activeGeometry;if(h.indexBuffer){var f=h.indexBuffer.data.BYTES_PER_ELEMENT,l=f===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;f===2||f===4&&this.canUseUInt32ElementIndex?h.instanced?a.drawElementsInstanced(r,e||h.indexBuffer.data.length,l,(n||0)*f,s||1):a.drawElements(r,e||h.indexBuffer.data.length,l,(n||0)*f):console.warn("unsupported index buffer type: uint32")}else h.instanced?a.drawArraysInstanced(r,n,e||h.getSize(),s||1):a.drawArrays(r,n,e||h.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),lE=function(){function t(r){r===void 0&&(r=null),this.type=Qt.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=j.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(r){r?this._filters?this._filters[0]=r:this._filters=[r]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Qt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Gl(t,r,e){var n=t.createShader(r);return t.shaderSource(n,e),t.compileShader(n),n}function Sl(t,r){var e=t.getShaderSource(r).split(`
`).map(function(d,p){return p+": "+d}),n=t.getShaderInfoLog(r),s=n.split(`
`),a={},h=s.map(function(d){return parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(d){return d&&!a[d]?(a[d]=!0,!0):!1}),f=[""];h.forEach(function(d){e[d-1]="%c"+e[d-1]+"%c",f.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join(`
`);f[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,f),console.groupEnd()}function cE(t,r,e,n){t.getProgramParameter(r,t.LINK_STATUS)||(t.getShaderParameter(e,t.COMPILE_STATUS)||Sl(t,e),t.getShaderParameter(n,t.COMPILE_STATUS)||Sl(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(r)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(r)))}function ua(t){for(var r=new Array(t),e=0;e<r.length;e++)r[e]=!1;return r}function Od(t,r){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"uvec2":return new Uint32Array(2*r);case"uvec3":return new Uint32Array(3*r);case"uvec4":return new Uint32Array(4*r);case"bool":return!1;case"bvec2":return ua(2*r);case"bvec3":return ua(3*r);case"bvec4":return ua(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ld={},kn=Ld;function dE(){if(kn===Ld||kn&&kn.isContextLost()){var t=j.ADAPTER.createCanvas(),r=void 0;j.PREFER_ENV>=gr.WEBGL2&&(r=t.getContext("webgl2",{})),r||(r=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),r?r.getExtension("WEBGL_draw_buffers"):r=null),kn=r}return kn}var hs;function pE(){if(!hs){hs=Ke.MEDIUM;var t=dE();if(t&&t.getShaderPrecisionFormat){var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);hs=r.precision?Ke.HIGH:Ke.MEDIUM}}return hs}function Fl(t,r,e){if(t.substring(0,9)!=="precision"){var n=r;return r===Ke.HIGH&&e!==Ke.HIGH&&(n=Ke.MEDIUM),"precision "+n+` float;
`+t}else if(e!==Ke.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var _E={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Gd(t){return _E[t]}var fs=null,Bl={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Sd(t,r){if(!fs){var e=Object.keys(Bl);fs={};for(var n=0;n<e.length;++n){var s=e[n];fs[t[s]]=Bl[s]}}return fs[r]}var Tn=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,r){return t.type==="mat3"&&t.size===1&&r.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,r){return t.type==="vec2"&&t.size===1&&r.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,r){return t.type==="vec4"&&t.size===1&&r.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],vE={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},gE={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function mE(t,r){var e,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var s in t.uniforms){var a=r[s];if(!a){!((e=t.uniforms[s])===null||e===void 0)&&e.group&&(t.uniforms[s].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+s+", '"+s+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+s+`, syncData);
                    `));continue}for(var h=t.uniforms[s],f=!1,l=0;l<Tn.length;l++)if(Tn[l].test(a,h)){n.push(Tn[l].code(s,h)),f=!0;break}if(!f){var d=a.size===1?vE:gE,p=d[a.type].replace("location",'ud["'+s+'"].location');n.push(`
            cu = ud["`+s+`"];
            cv = cu.value;
            v = uv["`+s+`"];
            `+p+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var yE=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function TE(t){for(var r="",e=0;e<t;++e)e>0&&(r+=`
else `),e<t-1&&(r+="if(test == "+e+".0){}");return r}function EE(t,r){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=r.createShader(r.FRAGMENT_SHADER);;){var n=yE.replace(/%forloop%/gi,TE(t));if(r.shaderSource(e,n),r.compileShader(e),!r.getShaderParameter(e,r.COMPILE_STATUS))t=t/2|0;else break}return t}var Vn;function xE(){if(typeof Vn=="boolean")return Vn;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Vn=t({a:"b"},"a","b")===!0}catch{Vn=!1}return Vn}var RE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,IE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,bE=0,ls={},lu=function(){function t(r,e,n){n===void 0&&(n="pixi-shader"),this.id=bE++,this.vertexSrc=r||t.defaultVertexSrc,this.fragmentSrc=e||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),ls[n]?(ls[n]++,n+="-"+ls[n]):ls[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Fl(this.vertexSrc,j.PRECISION_VERTEX,Ke.HIGH),this.fragmentSrc=Fl(this.fragmentSrc,j.PRECISION_FRAGMENT,pE())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return IE},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return RE},enumerable:!1,configurable:!0}),t.from=function(r,e,n){var s=r+e,a=Al[s];return a||(Al[s]=a=new t(r,e,n)),a},t}(),Fd=function(){function t(r,e){this.uniformBindCount=0,this.program=r,e?e instanceof yn?this.uniformGroup=e:this.uniformGroup=new yn(e):this.uniformGroup=new yn({})}return t.prototype.checkUniformExists=function(r,e){if(e.uniforms[r])return!0;for(var n in e.uniforms){var s=e.uniforms[n];if(s.group&&this.checkUniformExists(r,s))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(r,e,n){var s=lu.from(r,e);return new t(s,n)},t}(),ha=0,fa=1,la=2,ca=3,da=4,pa=5,cu=function(){function t(){this.data=0,this.blendMode=Q.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<ha)},set:function(r){!!(this.data&1<<ha)!==r&&(this.data^=1<<ha)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<fa)},set:function(r){!!(this.data&1<<fa)!==r&&(this.data^=1<<fa)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<la)},set:function(r){!!(this.data&1<<la)!==r&&(this.data^=1<<la)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<ca)},set:function(r){!!(this.data&1<<ca)!==r&&(this.data^=1<<ca)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<pa)},set:function(r){!!(this.data&1<<pa)!==r&&(this.data^=1<<pa)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<da)},set:function(r){!!(this.data&1<<da)!==r&&(this.data^=1<<da)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==Q.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var r=new t;return r.depthTest=!1,r.blend=!0,r},t}(),wE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,CE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,AE=function(t){Ut(r,t);function r(e,n,s){var a=this,h=lu.from(e||r.defaultVertexSrc,n||r.defaultFragmentSrc);return a=t.call(this,h,s)||this,a.padding=0,a.resolution=j.FILTER_RESOLUTION,a.multisample=j.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new cu,a}return r.prototype.apply=function(e,n,s,a,h){e.applyFilter(this,n,s,a)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return CE},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return wE},enumerable:!1,configurable:!0}),r}(Fd),NE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,PE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Ml=new Ce,UE=function(){function t(r,e){this._texture=r,this.mapCoord=new Ce,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(r,e){e===void 0&&(e=r);for(var n=this.mapCoord,s=0;s<r.length;s+=2){var a=r[s],h=r[s+1];e[s]=a*n.a+h*n.c+n.tx,e[s+1]=a*n.b+h*n.d+n.ty}return e},t.prototype.update=function(r){var e=this._texture;if(!e||!e.valid||!r&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var s=e.orig,a=e.trim;a&&(Ml.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(Ml));var h=e.baseTexture,f=this.uClampFrame,l=this.clampMargin/h.resolution,d=this.clampOffset;return f[0]=(e._frame.x+l+d)/h.width,f[1]=(e._frame.y+l+d)/h.height,f[2]=(e._frame.x+e._frame.width-l+d)/h.width,f[3]=(e._frame.y+e._frame.height-l+d)/h.height,this.uClampOffset[0]=d/h.realWidth,this.uClampOffset[1]=d/h.realHeight,this.isSimple=e._frame.width===h.width&&e._frame.height===h.height&&e.rotate===0,!0},t}(),OE=function(t){Ut(r,t);function r(e,n,s){var a=this,h=null;return typeof e!="string"&&n===void 0&&s===void 0&&(h=e,e=void 0,n=void 0,s=void 0),a=t.call(this,e||NE,n||PE,s)||this,a.maskSprite=h,a.maskMatrix=new Ce,a}return Object.defineProperty(r.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),r.prototype.apply=function(e,n,s,a){var h=this._maskSprite,f=h._texture;!f.valid||(f.uvMatrix||(f.uvMatrix=new UE(f,0)),f.uvMatrix.update(),this.uniforms.npmAlpha=f.baseTexture.alphaMode?0:1,this.uniforms.mask=f,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,h).prepend(f.uvMatrix.mapCoord),this.uniforms.alpha=h.worldAlpha,this.uniforms.maskClamp=f.uvMatrix.uClampFrame,e.applyFilter(this,n,s,a))},r}(AE),LE=function(){function t(r){this.renderer=r,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},t.prototype.push=function(r,e){var n=e;if(!n.isMaskData){var s=this.maskDataPool.pop()||new lE;s.pooled=!0,s.maskObject=e,n=s}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n._colorMask=a?a._colorMask:15,n.autoDetect&&this.detect(n),n._target=r,n.type!==Qt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Qt.SCISSOR:this.renderer.scissor.push(n);break;case Qt.STENCIL:this.renderer.stencil.push(n);break;case Qt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Qt.COLOR:this.pushColorMask(n);break}n.type===Qt.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(r){var e=this.maskStack.pop();if(!(!e||e._target!==r)){if(e.enabled)switch(e.type){case Qt.SCISSOR:this.renderer.scissor.pop(e);break;case Qt.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Qt.SPRITE:this.popSpriteMask(e);break;case Qt.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Qt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(r){var e=r.maskObject;e?e.isSprite?r.type=Qt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(r)?r.type=Qt.SCISSOR:r.type=Qt.STENCIL:r.type=Qt.COLOR},t.prototype.pushSpriteMask=function(r){var e,n,s=r.maskObject,a=r._target,h=r._filters;h||(h=this.alphaMaskPool[this.alphaMaskIndex],h||(h=this.alphaMaskPool[this.alphaMaskIndex]=[new OE]));var f=this.renderer,l=f.renderTexture,d,p;if(l.current){var v=l.current;d=r.resolution||v.resolution,p=(e=r.multisample)!==null&&e!==void 0?e:v.multisample}else d=r.resolution||f.resolution,p=(n=r.multisample)!==null&&n!==void 0?n:f.multisample;h[0].resolution=d,h[0].multisample=p,h[0].maskSprite=s;var g=a.filterArea;a.filterArea=s.getBounds(!0),f.filter.push(a,h),a.filterArea=g,r._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(r){this.renderer.filter.pop(),r._filters?r._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(r){var e=r._colorMask,n=r._colorMask=e&r.colorMask;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(r){var e=r._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),Bd=function(){function t(r){this.renderer=r,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(r){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=r;var s=this.getStackLength();s!==n&&(s===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),Xl=new Ce,Dl=[],GE=function(t){Ut(r,t);function r(e){var n=t.call(this,e)||this;return n.glConst=j.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},r.prototype.calcScissorRect=function(e){var n;if(!e._scissorRectLocal){var s=e._scissorRect,a=e.maskObject,h=this.renderer,f=h.renderTexture,l=a.getBounds(!0,(n=Dl.pop())!==null&&n!==void 0?n:new Ht);this.roundFrameToPixels(l,f.current?f.current.resolution:h.resolution,f.sourceFrame,f.destinationFrame,h.projection.transform),s&&l.fit(s),e._scissorRectLocal=l}},r.isMatrixRotated=function(e){if(!e)return!1;var n=e.a,s=e.b,a=e.c,h=e.d;return(Math.abs(s)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(h)>1e-4)},r.prototype.testScissor=function(e){var n=e.maskObject;if(!n.isFastRect||!n.isFastRect()||r.isMatrixRotated(n.worldTransform)||r.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var s=e._scissorRectLocal;return s.width>0&&s.height>0},r.prototype.roundFrameToPixels=function(e,n,s,a,h){r.isMatrixRotated(h)||(h=h?Xl.copyFrom(h):Xl.identity(),h.translate(-s.x,-s.y).scale(a.width/s.width,a.height/s.height).translate(a.x,a.y),this.renderer.filter.transformAABB(h,e),e.fit(a),e.x=Math.round(e.x*n),e.y=Math.round(e.y*n),e.width=Math.round(e.width*n),e.height=Math.round(e.height*n))},r.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var n=this.renderer.gl;e._scissorRect||n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},r.prototype.pop=function(e){var n=this.renderer.gl;e&&Dl.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},r.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=e.y:n=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,n,e.width,e.height)},r}(Bd),SE=function(t){Ut(r,t);function r(e){var n=t.call(this,e)||this;return n.glConst=j.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},r.prototype.push=function(e){var n=e.maskObject,s=this.renderer.gl,a=e._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),s.clearStencil(0),s.clear(s.STENCIL_BUFFER_BIT),s.enable(s.STENCIL_TEST)),e._stencilCounter++;var h=e._colorMask;h!==0&&(e._colorMask=0,s.colorMask(!1,!1,!1,!1)),s.stencilFunc(s.EQUAL,a,4294967295),s.stencilOp(s.KEEP,s.KEEP,s.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,h!==0&&(e._colorMask=h,s.colorMask((h&1)!==0,(h&2)!==0,(h&4)!==0,(h&8)!==0)),this._useCurrent()},r.prototype.pop=function(e){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,a=s?s._colorMask:15;a!==0&&(s._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,a!==0&&(s._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}},r.prototype._useCurrent=function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},r}(Bd),FE=function(){function t(r){this.renderer=r,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ce,this.transform=null}return t.prototype.update=function(r,e,n,s){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,e,n,s){var a=this.projectionMatrix,h=s?-1:1;a.identity(),a.a=1/e.width*2,a.d=h*(1/e.height*2),a.tx=-1-e.x*a.a,a.ty=-h-e.y*a.d},t.prototype.setTransform=function(r){},t.prototype.destroy=function(){this.renderer=null},t}(),kr=new Ht,Wn=new Ht,BE=function(){function t(r){this.renderer=r,this.clearColor=r._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ht,this.destinationFrame=new Ht,this.viewportFrame=new Ht}return t.prototype.bind=function(r,e,n){r===void 0&&(r=null);var s=this.renderer;this.current=r;var a,h,f;r?(a=r.baseTexture,f=a.resolution,e||(kr.width=r.frame.width,kr.height=r.frame.height,e=kr),n||(Wn.x=r.frame.x,Wn.y=r.frame.y,Wn.width=e.width,Wn.height=e.height,n=Wn),h=a.framebuffer):(f=s.resolution,e||(kr.width=s.screen.width,kr.height=s.screen.height,e=kr),n||(n=kr,n.width=e.width,n.height=e.height));var l=this.viewportFrame;l.x=n.x*f,l.y=n.y*f,l.width=n.width*f,l.height=n.height*f,r||(l.y=s.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(h,l),this.renderer.projection.update(n,e,f,!h),r?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(r,e){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor;var n=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==s.width||n.height!==s.height;if(a){var h=this.viewportFrame,f=h.x,l=h.y,d=h.width,p=h.height;f=Math.round(f),l=Math.round(l),d=Math.round(d),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(f,l,d,p)}this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],e),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function ME(t,r,e,n,s){e.buffer.update(s)}var XE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Md={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function DE(t){for(var r=t.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,n=0,s=0,a=0;a<r.length;a++){var h=r[a];if(e=Md[h.data.type],h.data.size>1&&(e=Math.max(e,16)*h.data.size),h.dataLen=e,n%e!==0&&n<16){var f=n%e%16;n+=f,s+=f}n+e>16?(s=Math.ceil(s/16)*16,h.offset=s,s+=e,n=e):(h.offset=s,n+=e,s+=e)}return s=Math.ceil(s/16)*16,{uboElements:r,size:s}}function HE(t,r){var e=[];for(var n in t)r[n]&&e.push(r[n]);return e.sort(function(s,a){return s.index-a.index}),e}function kE(t,r){if(!t.autoManage)return{size:0,syncFunc:ME};for(var e=HE(t.uniforms,r),n=DE(e),s=n.uboElements,a=n.size,h=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],f=0;f<s.length;f++){for(var l=s[f],d=t.uniforms[l.data.name],p=l.data.name,v=!1,g=0;g<Tn.length;g++){var T=Tn[g];if(T.codeUbo&&T.test(l.data,d)){h.push("offset = "+l.offset/4+";",Tn[g].codeUbo(l.data.name,d)),v=!0;break}}if(!v)if(l.data.size>1){var E=Gd(l.data.type),C=Math.max(Md[l.data.type]/16,1),I=E/C,N=(4-I%4)%4;h.push(`
                cv = ud.`+p+`.value;
                v = uv.`+p+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*C+`; i++)
                {
                    for(var j = 0; j < `+I+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+N+`;
                }

                `)}else{var F=XE[l.data.type];h.push(`
                cv = ud.`+p+`.value;
                v = uv.`+p+`;
                offset = `+l.offset/4+`;
                `+F+`;
                `)}}return h.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",h.join(`
`))}}var VE=function(){function t(r,e){this.program=r,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function WE(t,r){for(var e={},n=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),s=0;s<n;s++){var a=r.getActiveAttrib(t,s);if(a.name.indexOf("gl_")!==0){var h=Sd(r,a.type),f={type:h,name:a.name,size:Gd(h),location:r.getAttribLocation(t,a.name)};e[a.name]=f}}return e}function zE(t,r){for(var e={},n=r.getProgramParameter(t,r.ACTIVE_UNIFORMS),s=0;s<n;s++){var a=r.getActiveUniform(t,s),h=a.name.replace(/\[.*?\]$/,""),f=!!a.name.match(/\[.*?\]$/),l=Sd(r,a.type);e[h]={name:h,index:s,type:l,size:a.size,isArray:f,value:Od(l,a.size)}}return e}function $E(t,r){var e=Gl(t,t.VERTEX_SHADER,r.vertexSrc),n=Gl(t,t.FRAGMENT_SHADER,r.fragmentSrc),s=t.createProgram();if(t.attachShader(s,e),t.attachShader(s,n),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||cE(t,s,e,n),r.attributeData=WE(s,t),r.uniformData=zE(s,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(r.vertexSrc)){var a=Object.keys(r.attributeData);a.sort(function(p,v){return p>v?1:-1});for(var h=0;h<a.length;h++)r.attributeData[a[h]].location=h,t.bindAttribLocation(s,h,a[h]);t.linkProgram(s)}t.deleteShader(e),t.deleteShader(n);var f={};for(var h in r.uniformData){var l=r.uniformData[h];f[h]={location:t.getUniformLocation(s,h),value:Od(l.type,l.size)}}var d=new VE(s,f);return d}var YE=0,cs={textureCount:0,uboCount:0},jE=function(){function t(r){this.destroyed=!1,this.renderer=r,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=YE++}return t.prototype.systemCheck=function(){if(!xE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,e){r.uniforms.globals=this.renderer.globalUniforms;var n=r.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(r);return this.shader=r,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),e||(cs.textureCount=0,cs.uboCount=0,this.syncUniformGroup(r.uniformGroup,cs)),s},t.prototype.setUniforms=function(r){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r,e){var n=this.getGlProgram();(!r.static||r.dirtyId!==n.uniformDirtyGroups[r.id])&&(n.uniformDirtyGroups[r.id]=r.dirtyId,this.syncUniforms(r,n,e))},t.prototype.syncUniforms=function(r,e,n){var s=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);s(e.uniformData,r.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(r){var e=this.getSignature(r,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=mE(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[e],r.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(r,e){var n=this.getGlProgram();if(!r.static||r.dirtyId!==0||!n.uniformGroups[r.id]){r.dirtyId=0;var s=n.uniformGroups[r.id]||this.createSyncBufferGroup(r,n,e);r.buffer.update(),s(n.uniformData,r.uniforms,this.renderer,cs,r.buffer)}this.renderer.buffer.bindBufferBase(r.buffer,n.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(r,e,n){var s=this.renderer.gl;this.renderer.buffer.bind(r.buffer);var a=this.gl.getUniformBlockIndex(e.program,n);e.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(e.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var h=this.getSignature(r,this.shader.program.uniformData,"ubo"),f=this._uboCache[h];if(f||(f=this._uboCache[h]=kE(r,this.shader.program.uniformData)),r.autoManage){var l=new Float32Array(f.size/4);r.buffer.update(l)}return e.uniformGroups[r.id]=f.syncFunc,e.uniformGroups[r.id]},t.prototype.getSignature=function(r,e,n){var s=r.uniforms,a=[n+"-"];for(var h in s)a.push(h),e[h]&&a.push(e[h].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(r){var e=this.gl,n=r.program,s=$E(e,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function qE(t,r){return r===void 0&&(r=[]),r[Q.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.ADD]=[t.ONE,t.ONE],r[Q.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.NONE]=[0,0],r[Q.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],r[Q.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.SRC_IN]=[t.DST_ALPHA,t.ZERO],r[Q.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],r[Q.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[Q.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],r[Q.DST_IN]=[t.ZERO,t.SRC_ALPHA],r[Q.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],r[Q.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],r[Q.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[Q.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],r}var ZE=0,KE=1,JE=2,QE=3,tx=4,ex=5,rx=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Q.NONE,this._blendEq=!1,this.map=[],this.map[ZE]=this.setBlend,this.map[KE]=this.setOffset,this.map[JE]=this.setCullFace,this.map[QE]=this.setDepthTest,this.map[tx]=this.setFrontFace,this.map[ex]=this.setDepthMask,this.checks=[],this.defaultState=new cu,this.defaultState.blend=!0}return t.prototype.contextChange=function(r){this.gl=r,this.blendModes=qE(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var e=this.stateId^r.data,n=0;e;)e&1&&this.map[n].call(this,!!(r.data&1<<n)),e=e>>1,n++;this.stateId=r.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(r.data&1<<e));for(var e=0;e<this.checks.length;e++)this.checks[e](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(r){this.gl.depthMask(r)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var e=this.blendModes[r],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,e){this.gl.polygonOffset(r,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,e){var n=this.checks.indexOf(r);e&&n===-1?this.checks.push(r):!e&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(r,e){r.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(r,e){r.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),nx=function(){function t(r){this.renderer=r,this.count=0,this.checkCount=0,this.maxIdle=j.GC_MAX_IDLE,this.checkCountMax=j.GC_MAX_CHECK_COUNT,this.mode=j.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Aa.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var r=this.renderer.texture,e=r.managedTextures,n=!1,s=0;s<e.length;s++){var a=e[s];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(r.destroyTexture(a,!0),e[s]=null,n=!0)}if(n){for(var h=0,s=0;s<e.length;s++)e[s]!==null&&(e[h++]=e[s]);e.length=h}},t.prototype.unload=function(r){var e=this.renderer.texture,n=r._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var s=r.children.length-1;s>=0;s--)this.unload(r.children[s])},t.prototype.destroy=function(){this.renderer=null},t}();function ix(t){var r,e,n,s,a,h,f,l,d,p,v,g,T,E,C,I,N,F,P,U,M,k,Y;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?Y=(r={},r[rt.UNSIGNED_BYTE]=(e={},e[D.RGBA]=t.RGBA8,e[D.RGB]=t.RGB8,e[D.RG]=t.RG8,e[D.RED]=t.R8,e[D.RGBA_INTEGER]=t.RGBA8UI,e[D.RGB_INTEGER]=t.RGB8UI,e[D.RG_INTEGER]=t.RG8UI,e[D.RED_INTEGER]=t.R8UI,e[D.ALPHA]=t.ALPHA,e[D.LUMINANCE]=t.LUMINANCE,e[D.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,e),r[rt.BYTE]=(n={},n[D.RGBA]=t.RGBA8_SNORM,n[D.RGB]=t.RGB8_SNORM,n[D.RG]=t.RG8_SNORM,n[D.RED]=t.R8_SNORM,n[D.RGBA_INTEGER]=t.RGBA8I,n[D.RGB_INTEGER]=t.RGB8I,n[D.RG_INTEGER]=t.RG8I,n[D.RED_INTEGER]=t.R8I,n),r[rt.UNSIGNED_SHORT]=(s={},s[D.RGBA_INTEGER]=t.RGBA16UI,s[D.RGB_INTEGER]=t.RGB16UI,s[D.RG_INTEGER]=t.RG16UI,s[D.RED_INTEGER]=t.R16UI,s[D.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,s),r[rt.SHORT]=(a={},a[D.RGBA_INTEGER]=t.RGBA16I,a[D.RGB_INTEGER]=t.RGB16I,a[D.RG_INTEGER]=t.RG16I,a[D.RED_INTEGER]=t.R16I,a),r[rt.UNSIGNED_INT]=(h={},h[D.RGBA_INTEGER]=t.RGBA32UI,h[D.RGB_INTEGER]=t.RGB32UI,h[D.RG_INTEGER]=t.RG32UI,h[D.RED_INTEGER]=t.R32UI,h[D.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,h),r[rt.INT]=(f={},f[D.RGBA_INTEGER]=t.RGBA32I,f[D.RGB_INTEGER]=t.RGB32I,f[D.RG_INTEGER]=t.RG32I,f[D.RED_INTEGER]=t.R32I,f),r[rt.FLOAT]=(l={},l[D.RGBA]=t.RGBA32F,l[D.RGB]=t.RGB32F,l[D.RG]=t.RG32F,l[D.RED]=t.R32F,l[D.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,l),r[rt.HALF_FLOAT]=(d={},d[D.RGBA]=t.RGBA16F,d[D.RGB]=t.RGB16F,d[D.RG]=t.RG16F,d[D.RED]=t.R16F,d),r[rt.UNSIGNED_SHORT_5_6_5]=(p={},p[D.RGB]=t.RGB565,p),r[rt.UNSIGNED_SHORT_4_4_4_4]=(v={},v[D.RGBA]=t.RGBA4,v),r[rt.UNSIGNED_SHORT_5_5_5_1]=(g={},g[D.RGBA]=t.RGB5_A1,g),r[rt.UNSIGNED_INT_2_10_10_10_REV]=(T={},T[D.RGBA]=t.RGB10_A2,T[D.RGBA_INTEGER]=t.RGB10_A2UI,T),r[rt.UNSIGNED_INT_10F_11F_11F_REV]=(E={},E[D.RGB]=t.R11F_G11F_B10F,E),r[rt.UNSIGNED_INT_5_9_9_9_REV]=(C={},C[D.RGB]=t.RGB9_E5,C),r[rt.UNSIGNED_INT_24_8]=(I={},I[D.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,I),r[rt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(N={},N[D.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,N),r):Y=(F={},F[rt.UNSIGNED_BYTE]=(P={},P[D.RGBA]=t.RGBA,P[D.RGB]=t.RGB,P[D.ALPHA]=t.ALPHA,P[D.LUMINANCE]=t.LUMINANCE,P[D.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,P),F[rt.UNSIGNED_SHORT_5_6_5]=(U={},U[D.RGB]=t.RGB,U),F[rt.UNSIGNED_SHORT_4_4_4_4]=(M={},M[D.RGBA]=t.RGBA,M),F[rt.UNSIGNED_SHORT_5_5_5_1]=(k={},k[D.RGBA]=t.RGBA,k),F),Y}var _a=function(){function t(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=rt.UNSIGNED_BYTE,this.internalFormat=D.RGBA,this.samplerType=0}return t}(),sx=function(){function t(r){this.renderer=r,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Gt,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=ix(r);var e=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var s=new _a(r.createTexture());r.bindTexture(r.TEXTURE_2D,s.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=s,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new _a(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(r,e){e===void 0&&(e=0);var n=this.gl;if(r=r==null?void 0:r.castToBaseTexture(),r&&r.valid&&!r.parentTextureArray){r.touched=this.renderer.textureGC.count;var s=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[e]!==r&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(r.target,s.texture)),s.dirtyId!==r.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(r)),this.boundTextures[e]=r}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var e=this,n=e.gl,s=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<s.length;a++)s[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<s.length;a++)s[a]===r&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(r.target,this.emptyTextures[r.target].texture),s[a]=null)},t.prototype.ensureSamplerType=function(r){var e=this,n=e.boundTextures,s=e.hasIntegerTextures,a=e.CONTEXT_UID;if(!!s)for(var h=r-1;h>=0;--h){var f=n[h];if(f){var l=f._glTextures[a];l.samplerType!==bs.FLOAT&&this.renderer.texture.unbind(f)}}},t.prototype.initTexture=function(r){var e=new _a(this.gl.createTexture());return e.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(r,e){var n,s;e.internalFormat=(s=(n=this.internalFormats[r.type])===null||n===void 0?void 0:n[r.format])!==null&&s!==void 0?s:r.format,this.webGLVersion===2&&r.type===rt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=r.type},t.prototype.updateTexture=function(r){var e=r._glTextures[this.CONTEXT_UID];if(!!e){var n=this.renderer;if(this.initTextureType(r,e),r.resource&&r.resource.upload(n,r,e))e.samplerType!==bs.FLOAT&&(this.hasIntegerTextures=!0);else{var s=r.realWidth,a=r.realHeight,h=n.gl;(e.width!==s||e.height!==a||e.dirtyId<0)&&(e.width=s,e.height=a,h.texImage2D(r.target,0,e.internalFormat,s,a,0,r.format,e.type,null))}r.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(r),e.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,e){var n=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),n.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!e)){var s=this.managedTextures.indexOf(r);s!==-1&&Rs(this.managedTextures,s,1)}},t.prototype.updateTextureStyle=function(r){var e=r._glTextures[this.CONTEXT_UID];!e||((r.mipmap===mr.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?e.mipmap=!1:e.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?e.wrapMode=Ca.CLAMP:e.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,e)||this.setStyle(r,e),e.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,e){var n=this.gl;if(e.mipmap&&r.mipmap!==mr.ON_MANUAL&&n.generateMipmap(r.target),n.texParameteri(r.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(r.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(r.target,n.TEXTURE_MIN_FILTER,r.scaleMode===vr.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var s=this.renderer.context.extensions.anisotropicFiltering;if(s&&r.anisotropicLevel>0&&r.scaleMode===vr.LINEAR){var a=Math.min(r.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(r.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(r.target,n.TEXTURE_MIN_FILTER,r.scaleMode===vr.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(r.target,n.TEXTURE_MAG_FILTER,r.scaleMode===vr.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),va=new Ce,ox=function(t){Ut(r,t);function r(e,n){e===void 0&&(e=Qn.UNKNOWN);var s=t.call(this)||this;return n=Object.assign({},j.RENDER_OPTIONS,n),s.options=n,s.type=e,s.screen=new Ht(0,0,n.width,n.height),s.view=n.view||j.ADAPTER.createCanvas(),s.resolution=n.resolution||j.RESOLUTION,s.useContextAlpha=n.useContextAlpha,s.autoDensity=!!n.autoDensity,s.preserveDrawingBuffer=n.preserveDrawingBuffer,s.clearBeforeRender=n.clearBeforeRender,s._backgroundColor=0,s._backgroundColorRgba=[0,0,0,1],s._backgroundColorString="#000000",s.backgroundColor=n.backgroundColor||s._backgroundColor,s.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Pr("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),s.useContextAlpha=n.transparent,s.backgroundAlpha=n.transparent?0:1),s._lastObjectRendered=null,s.plugins={},s}return r.prototype.initPlugins=function(e){for(var n in e)this.plugins[n]=new e[n](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,n){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(n*this.resolution);var s=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=s,this.screen.height=a,this.autoDensity&&(this.view.style.width=s+"px",this.view.style.height=a+"px"),this.emit("resize",s,a)},r.prototype.generateTexture=function(e,n,s,a){n===void 0&&(n={}),typeof n=="number"&&(Pr("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:s,region:a});var h=n.region,f=X1(n,["region"]);a=h||e.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var l=hu.create(za({width:a.width,height:a.height},f));return va.tx=-a.x,va.ty=-a.y,this.render(e,{renderTexture:l,clear:!1,transform:va,skipUpdateTransform:!!e.parent}),l},r.prototype.destroy=function(e){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var s=this;s.plugins=null,s.type=Qn.UNKNOWN,s.view=null,s.screen=null,s._tempDisplayObjectParent=null,s.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=L1(e),O1(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),r}(ui),ax=function(){function t(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),ux=function(){function t(r){this.renderer=r,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(r){var e=this,n=e.gl,s=e.CONTEXT_UID,a=r._glBuffers[s]||this.createGLBuffer(r);n.bindBuffer(r.type,a.buffer)},t.prototype.bindBufferBase=function(r,e){var n=this,s=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[e]!==r){var h=r._glBuffers[a]||this.createGLBuffer(r);this.boundBufferBases[e]=r,s.bindBufferBase(s.UNIFORM_BUFFER,e,h.buffer)}},t.prototype.bindBufferRange=function(r,e,n){var s=this,a=s.gl,h=s.CONTEXT_UID;n=n||0;var f=r._glBuffers[h]||this.createGLBuffer(r);a.bindBufferRange(a.UNIFORM_BUFFER,e||0,f.buffer,n*256,256)},t.prototype.update=function(r){var e=this,n=e.gl,s=e.CONTEXT_UID,a=r._glBuffers[s];if(r._updateID!==a.updateID)if(a.updateID=r._updateID,n.bindBuffer(r.type,a.buffer),a.byteLength>=r.data.byteLength)n.bufferSubData(r.type,0,r.data);else{var h=r.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=r.data.byteLength,n.bufferData(r.type,r.data,h)}},t.prototype.dispose=function(r,e){if(!!this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var n=r._glBuffers[this.CONTEXT_UID],s=this.gl;r.disposeRunner.remove(this),n&&(e||s.deleteBuffer(n.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(r){for(var e=Object.keys(this.managedBuffers),n=0;n<e.length;n++)this.dispose(this.managedBuffers[e[n]],r)},t.prototype.createGLBuffer=function(r){var e=this,n=e.CONTEXT_UID,s=e.gl;return r._glBuffers[n]=new ax(s.createBuffer()),this.managedBuffers[r.id]=r,r.disposeRunner.add(this),r._glBuffers[n]},t}(),Xd=function(t){Ut(r,t);function r(e){var n=t.call(this,Qn.WEBGL,e)||this;return e=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new oe("destroy"),contextChange:new oe("contextChange"),reset:new oe("reset"),update:new oe("update"),postrender:new oe("postrender"),prerender:new oe("prerender"),resize:new oe("resize")},n.runners.contextChange.add(n),n.globalUniforms=new yn({projectionMatrix:new Ce},!0),n.addSystem(LE,"mask").addSystem(oE,"context").addSystem(rx,"state").addSystem(jE,"shader").addSystem(sx,"texture").addSystem(ux,"buffer").addSystem(fE,"geometry").addSystem(hE,"framebuffer").addSystem(GE,"scissor").addSystem(SE,"stencil").addSystem(FE,"projection").addSystem(nx,"textureGC").addSystem(iE,"filter").addSystem(BE,"renderTexture").addSystem(sE,"batch"),n.initPlugins(r.__plugins),n.multisample=void 0,e.context?n.context.initFromContext(e.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:e.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,P1(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return r.create=function(e){if(U1())return new r(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.contextChange=function(){var e=this.gl,n;if(this.context.webGLVersion===1){var s=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,s)}else{var s=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,s)}n>=qt.HIGH?this.multisample=qt.HIGH:n>=qt.MEDIUM?this.multisample=qt.MEDIUM:n>=qt.LOW?this.multisample=qt.LOW:this.multisample=qt.NONE},r.prototype.addSystem=function(e,n){var s=new e(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=s;for(var a in this.runners)this.runners[a].add(s);return this},r.prototype.render=function(e,n){var s,a,h,f;if(n&&(n instanceof hu?(Pr("6.0.0","Renderer#render arguments changed, use options instead."),s=n,a=arguments[2],h=arguments[3],f=arguments[4]):(s=n.renderTexture,a=n.clear,h=n.transform,f=n.skipUpdateTransform)),this.renderingToScreen=!s,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=h,!this.context.isLost){if(s||(this._lastObjectRendered=e),!f){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(s),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),s&&s.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.generateTexture=function(e,n,s,a){n===void 0&&(n={});var h=t.prototype.generateTexture.call(this,e,n,s,a);return this.framebuffer.blit(),h},r.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(this.screen.height,this.screen.width)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(e){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(r.prototype,"extract",{get:function(){return Pr("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),r.registerPlugin=function(e,n){Pr("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),ze.add({name:e,type:Zt.RendererPlugin,ref:n})},r.__plugins={},r}(ox);ze.handleByMap(Zt.RendererPlugin,Xd.__plugins);function hx(t){return Xd.create(t)}var fx=function(){function t(){this.texArray=null,this.blend=0,this.type=ti.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),lx=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},t}(),Ya=function(){function t(r){typeof r=="number"?this.rawBinaryData=new ArrayBuffer(r):r instanceof Uint8Array?this.rawBinaryData=r.buffer:this.rawBinaryData=r,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(r){return this[r+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},t}(),cx=function(t){Ut(r,t);function r(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=cu.for2d(),n.size=j.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return r.prototype.contextChange=function(){var e=this.renderer.gl;j.PREFER_ENV===gr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),j.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=EE(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var e=r._drawCallPool,n=r._textureArrayPool,s=this.size/4,a=Math.floor(s/this.MAX_TEXTURES)+1;e.length<s;)e.push(new fx);for(;n.length<a;)n.push(new lx);for(var h=0;h<this.MAX_TEXTURES;h++)this._tempBoundTextures[h]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},r.prototype.buildTexturesAndDrawCalls=function(){var e=this,n=e._bufferedTextures,s=e.MAX_TEXTURES,a=r._textureArrayPool,h=this.renderer.batch,f=this._tempBoundTextures,l=this.renderer.textureGC.count,d=++Gt._globalBatch,p=0,v=a[0],g=0;h.copyBoundTextures(f,s);for(var T=0;T<this._bufferSize;++T){var E=n[T];n[T]=null,E._batchEnabled!==d&&(v.count>=s&&(h.boundArray(v,f,d,s),this.buildDrawCalls(v,g,T),g=T,v=a[++p],++d),E._batchEnabled=d,E.touched=l,v.elements[v.count++]=E)}v.count>0&&(h.boundArray(v,f,d,s),this.buildDrawCalls(v,g,this._bufferSize),++p,++d);for(var T=0;T<f.length;T++)f[T]=null;Gt._globalBatch=d},r.prototype.buildDrawCalls=function(e,n,s){var a=this,h=a._bufferedElements,f=a._attributeBuffer,l=a._indexBuffer,d=a.vertexSize,p=r._drawCallPool,v=this._dcIndex,g=this._aIndex,T=this._iIndex,E=p[v];E.start=this._iIndex,E.texArray=e;for(var C=n;C<s;++C){var I=h[C],N=I._texture.baseTexture,F=S1[N.alphaMode?1:0][I.blendMode];h[C]=null,n<C&&E.blend!==F&&(E.size=T-E.start,n=C,E=p[++v],E.texArray=e,E.start=T),this.packInterleavedGeometry(I,f,l,g,T),g+=I.vertexData.length/2*d,T+=I.indices.length,E.blend=F}n<s&&(E.size=T-E.start,++v),this._dcIndex=v,this._aIndex=g,this._iIndex=T},r.prototype.bindAndClearTexArray=function(e){for(var n=this.renderer.texture,s=0;s<e.count;s++)n.bind(e.elements[s],e.ids[s]),e.elements[s]=null;e.count=0},r.prototype.updateGeometry=function(){var e=this,n=e._packedGeometries,s=e._attributeBuffer,a=e._indexBuffer;j.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(s.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(s.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,s=n.gl,a=n.state,h=r._drawCallPool,f=null,l=0;l<e;l++){var d=h[l],p=d.texArray,v=d.type,g=d.size,T=d.start,E=d.blend;f!==p&&(f=p,this.bindAndClearTexArray(p)),this.state.blendMode=E,a.set(this.state),s.drawElements(v,g,s.UNSIGNED_SHORT,T*2)}},r.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),j.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(e){var n=ws(Math.ceil(e/8)),s=wl(n),a=n*8;this._aBuffers.length<=s&&(this._iBuffers.length=s+1);var h=this._aBuffers[a];return h||(this._aBuffers[a]=h=new Ya(a*this.vertexSize*4)),h},r.prototype.getIndexBuffer=function(e){var n=ws(Math.ceil(e/12)),s=wl(n),a=n*12;this._iBuffers.length<=s&&(this._iBuffers.length=s+1);var h=this._iBuffers[s];return h||(this._iBuffers[s]=h=new Uint16Array(a)),h},r.prototype.packInterleavedGeometry=function(e,n,s,a,h){for(var f=n.uint32View,l=n.float32View,d=a/this.vertexSize,p=e.uvs,v=e.indices,g=e.vertexData,T=e._texture.baseTexture._batchLocation,E=Math.min(e.worldAlpha,1),C=E<1&&e._texture.baseTexture.alphaMode?F1(e._tintRGB,E):e._tintRGB+(E*255<<24),I=0;I<g.length;I+=2)l[a++]=g[I],l[a++]=g[I+1],l[a++]=p[I],l[a++]=p[I+1],f[a++]=C,l[a++]=T;for(var I=0;I<v.length;I++)s[h++]=d+v[I]},r._drawCallPool=[],r._textureArrayPool=[],r}(Ud),dx=function(){function t(r,e){if(this.vertexSrc=r,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(r){if(!this.programCache[r]){for(var e=new Int32Array(r),n=0;n<r;n++)e[n]=n;this.defaultGroupCache[r]=yn.from({uSamplers:e},!0);var s=this.fragTemplate;s=s.replace(/%count%/gi,""+r),s=s.replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new lu(this.vertexSrc,s)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ce,default:this.defaultGroupCache[r]};return new Fd(this.programCache[r],a)},t.prototype.generateSampleSrc=function(r){var e="";e+=`
`,e+=`
`;for(var n=0;n<r;n++)n>0&&(e+=`
else `),n<r-1&&(e+="if(vTextureId < "+n+".5)"),e+=`
{`,e+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",e+=`
}`;return e+=`
`,e+=`
`,e},t}(),px=function(t){Ut(r,t);function r(e){e===void 0&&(e=!1);var n=t.call(this)||this;return n._buffer=new we(null,e,!1),n._indexBuffer=new we(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,rt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,rt.FLOAT).addAttribute("aColor",n._buffer,4,!0,rt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,rt.FLOAT).addIndex(n._indexBuffer),n}return r}(fu),Hl=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,kl=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,_x=function(){function t(){}return t.create=function(r){var e=Object.assign({vertex:Hl,fragment:kl,geometryClass:px,vertexSize:6},r),n=e.vertex,s=e.fragment,a=e.vertexSize,h=e.geometryClass;return function(f){Ut(l,f);function l(d){var p=f.call(this,d)||this;return p.shaderGenerator=new dx(n,s),p.geometryClass=h,p.vertexSize=a,p}return l}(cx)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Hl},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return kl},enumerable:!1,configurable:!0}),t}(),Dd=_x.create();Object.assign(Dd,{extension:{name:"batch",type:Zt.RendererPlugin}});/*!
 * @pixi/loaders - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ds=function(){function t(r,e,n){e===void 0&&(e=!1),this._fn=r,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function Vl(t,r){return t._head?(t._tail._next=r,r._prev=t._tail,t._tail=r):(t._head=r,t._tail=r),r._owner=t,r}var _r=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(r){r===void 0&&(r=!1);var e=this._head;if(r)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n},t.prototype.has=function(r){if(!(r instanceof ds))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return r._owner===this},t.prototype.dispatch=function(){for(var r=arguments,e=[],n=0;n<arguments.length;n++)e[n]=r[n];var s=this._head;if(!s)return!1;for(;s;)s._once&&this.detach(s),s._fn.apply(s._thisArg,e),s=s._next;return!0},t.prototype.add=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Vl(this,new ds(r,!1,e))},t.prototype.once=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Vl(this,new ds(r,!0,e))},t.prototype.detach=function(r){if(!(r instanceof ds))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return r._owner!==this?this:(r._prev&&(r._prev._next=r._next),r._next&&(r._next._prev=r._prev),r===this._head?(this._head=r._next,r._next===null&&(this._tail=null)):r===this._tail&&(this._tail=r._prev,this._tail._next=null),r._owner=null,this)},t.prototype.detachAll=function(){var r=this._head;if(!r)return this;for(this._head=this._tail=null;r;)r._owner=null,r=r._next;return this},t}();function Hd(t,r){r=r||{};for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[r.strictMode?"strict":"loose"].exec(t),s={},a=14;a--;)s[e.key[a]]=n[a]||"";return s[e.q.name]={},s[e.key[12]].replace(e.q.parser,function(h,f,l){f&&(s[e.q.name][f]=l)}),s}var ga,ps=null,vx=0,Wl=200,gx=204,mx=1223,yx=2;function zl(){}function $l(t,r,e){r&&r.indexOf(".")===0&&(r=r.substring(1)),r&&(t[r]=e)}function ma(t){return t.toString().replace("object ","")}var ae=function(){function t(r,e,n){if(this._dequeue=zl,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof r!="string"||typeof e!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,e.indexOf("data:")===0),this.name=r,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=zl,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new _r,this.onProgress=new _r,this.onComplete=new _r,this.onAfterMiddleware=new _r}return t.setExtensionLoadType=function(r,e){$l(t._loadTypeMap,r,e)},t.setExtensionXhrType=function(r,e){$l(t._xhrTypeMap,r,e)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(r){var e=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(e)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof ga>"u"&&(ga=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),ga&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(r){return(this._flags&r)!==0},t.prototype._setFlag=function(r,e){this._flags=e?this._flags|r:this._flags&~r},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(r,this.url[n],Array.isArray(e)?e[n]:e));else{var e=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(r.withCredentials=!0),r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=t.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new globalThis.XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t.prototype._createSource=function(r,e,n){n||(n=r+"/"+this._getExtension(e));var s=document.createElement("source");return s.src=e,s.type=n,s},t.prototype._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t.prototype._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var r=this.xhr;this.abort(ma(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t.prototype._xhrOnTimeout=function(){var r=this.xhr;this.abort(ma(r)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var r=this.xhr;this.abort(ma(r)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var r=this.xhr,e="",n=typeof r.status>"u"?Wl:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType>"u")&&(e=r.responseText),n===vx&&(e.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=Wl:n===mx&&(n=gx);var s=n/100|0;if(s===yx)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=t.TYPE.JSON}catch(f){this.abort("Error trying to parse loaded json: "+f);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(e,"text/xml")}else{var h=document.createElement("div");h.innerHTML=e,this.data=h}this.type=t.TYPE.XML}catch(f){this.abort("Error trying to parse loaded xml: "+f);return}else this.data=r.response||e;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(r,e){if(r.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,ps||(ps=document.createElement("a")),ps.href=r;var n=Hd(ps.href,{strictMode:!0}),s=!n.port&&e.port===""||n.port===e.port,a=n.protocol?n.protocol+":":"";return n.host!==e.hostname||!s||a!==e.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(r){r===void 0&&(r=this.url);var e="";if(this.isDataUrl){var n=r.indexOf("/");e=r.substring(n+1,r.indexOf(";",n))}else{var s=r.indexOf("?"),a=r.indexOf("#"),h=Math.min(s>-1?s:r.length,a>-1?a:r.length);r=r.substring(0,h),e=r.substring(r.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(r){r[r.NONE=0]="NONE",r[r.DATA_URL=1]="DATA_URL",r[r.COMPLETE=2]="COMPLETE",r[r.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.JSON=1]="JSON",r[r.XML=2]="XML",r[r.IMAGE=3]="IMAGE",r[r.AUDIO=4]="AUDIO",r[r.VIDEO=5]="VIDEO",r[r.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(r){r[r.XHR=1]="XHR",r[r.IMAGE=2]="IMAGE",r[r.AUDIO=3]="AUDIO",r[r.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(r){r.DEFAULT="text",r.BUFFER="arraybuffer",r.BLOB="blob",r.DOCUMENT="document",r.JSON="json",r.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(ae||(ae={}));function Vr(){}function Tx(t){return function(){for(var e=arguments,n=[],s=0;s<arguments.length;s++)n[s]=e[s];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var Ex=function(){function t(r,e){this.data=r,this.callback=e}return t}(),ya=function(){function t(r,e){var n=this;if(e===void 0&&(e=1),this.workers=0,this.saturated=Vr,this.unsaturated=Vr,this.empty=Vr,this.drain=Vr,this.error=Vr,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(s,a,h){if(h&&typeof h!="function")throw new Error("task callback must be a function");if(n.started=!0,s==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var f=new Ex(s,typeof h=="function"?h:Vr);a?n._tasks.unshift(f):n._tasks.push(f),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var s=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(s.data,Tx(n._next(s)))}},this._worker=r,e===0)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(r){var e=this;return function(){for(var n=arguments,s=[],a=0;a<arguments.length;a++)s[a]=n[a];e.workers-=1,r.callback.apply(r,s),s[0]!=null&&e.error(s[0],r.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(r,e){this._insert(r,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=Vr,this.started=!1,this._tasks=[]},t.prototype.unshift=function(r,e){this._insert(r,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var r=1;r<=this.concurrency;r++)this.process()}},t.eachSeries=function(r,e,n,s){var a=0,h=r.length;function f(l){if(l||a===h){n&&n(l);return}s?setTimeout(function(){e(r[a++],f)},1):e(r[a++],f)}f()},t.queue=function(r,e){return new t(r,e)},t}(),Ta=100,xx=/(#[\w-]+)?$/,Cs=function(){function t(r,e){var n=this;r===void 0&&(r=""),e===void 0&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,d){return n._loadResource(l,d)},this.resources={},this.baseUrl=r,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,d){return n._loadResource(l,d)},this._queue=ya.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new _r,this.onError=new _r,this.onLoad=new _r,this.onStart=new _r,this.onComplete=new _r;for(var s=0;s<t._plugins.length;++s){var a=t._plugins[s],h=a.pre,f=a.use;h&&this.pre(h),f&&this.use(f)}this._protected=!1}return t.prototype._add=function(r,e,n,s){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(e=this._prepareUrl(e),this.resources[r]=new ae(r,e,n),typeof s=="function"&&this.resources[r].onAfterMiddleware.once(s),this.loading){for(var a=n.parentResource,h=[],f=0;f<a.children.length;++f)a.children[f].isComplete||h.push(a.children[f]);var l=a.progressChunk*(h.length+1),d=l/(h.length+2);a.children.push(this.resources[r]),a.progressChunk=d;for(var f=0;f<h.length;++f)h[f].progressChunk=d;this.resources[r].progressChunk=d}return this._queue.push(this.resources[r]),this},t.prototype.pre=function(r){return this._beforeMiddleware.push(r),this},t.prototype.use=function(r){return this._afterMiddleware.push(r),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var e=this.resources[r];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(r){if(Pr("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,n=Ta/e,s=0;s<this._queue._tasks.length;++s)this._queue._tasks[s].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(r){var e=Hd(r,{strictMode:!0}),n;if(e.protocol||!e.path||r.indexOf("//")===0?n=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?n=this.baseUrl+"/"+r:n=this.baseUrl+r,this.defaultQueryString){var s=xx.exec(n)[0];n=n.slice(0,n.length-s.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=s}return n},t.prototype._loadResource=function(r,e){var n=this;r._dequeue=e,ya.eachSeries(this._beforeMiddleware,function(s,a){s.call(n,r,function(){a(r.isComplete?{}:null)})},function(){r.isComplete?n._onLoad(r):(r._onLoadBinding=r.onComplete.once(n._onLoad,n),r.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=Ta,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(r){var e=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),ya.eachSeries(this._afterMiddleware,function(n,s){n.call(e,r,s)},function(){r.onAfterMiddleware.dispatch(r),e.progress=Math.min(Ta,e.progress+r.progressChunk),e.onProgress.dispatch(e,r),r.error?e.onError.dispatch(r.error,e,r):e.onLoad.dispatch(e,r),e._resourcesParsing.splice(e._resourcesParsing.indexOf(r),1),e._queue.idle()&&e._resourcesParsing.length===0&&e._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},enumerable:!1,configurable:!0}),t.registerPlugin=function(r){return Pr("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),ze.add({type:Zt.Loader,ref:r}),t},t._plugins=[],t}();ze.handleByList(Zt.Loader,Cs._plugins);Cs.prototype.add=function(r,e,n,s){if(Array.isArray(r)){for(var a=0;a<r.length;++a)this.add(r[a]);return this}if(typeof r=="object"&&(n=r,s=e||n.callback||n.onComplete,e=n.url,r=n.name||n.key||n.url),typeof e!="string"&&(s=n,n=e,e=r),typeof e!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(s=n,n=null),this._add(r,e,n,s)};(function(){function t(){}return t.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?Cs.shared:new Cs},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=Zt.Application,t})();var Rx=function(){function t(){}return t.add=function(){ae.setExtensionLoadType("svg",ae.LOAD_TYPE.XHR),ae.setExtensionXhrType("svg",ae.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,e){if(r.data&&(r.type===ae.TYPE.IMAGE||r.extension==="svg")){var n=r.data,s=r.url,a=r.name,h=r.metadata;de.fromLoader(n,s,a,h).then(function(f){r.texture=f,e()}).catch(e)}else e()},t.extension=Zt.Loader,t}(),Ix="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bx(t){for(var r="",e=0;e<t.length;){for(var n=[0,0,0],s=[0,0,0,0],a=0;a<n.length;++a)e<t.length?n[a]=t.charCodeAt(e++)&255:n[a]=0;s[0]=n[0]>>2,s[1]=(n[0]&3)<<4|n[1]>>4,s[2]=(n[1]&15)<<2|n[2]>>6,s[3]=n[2]&63;var h=e-(t.length-1);switch(h){case 2:s[3]=64,s[2]=64;break;case 1:s[3]=64;break}for(var a=0;a<s.length;++a)r+=Ix.charAt(s[a])}return r}function wx(t,r){if(!t.data){r();return}if(t.xhr&&t.xhrType===ae.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var e=t.xhr.getResponseHeader("content-type");if(e&&e.indexOf("image")===0){t.data=new Image,t.data.src="data:"+e+";base64,"+bx(t.xhr.responseText),t.type=ae.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,r()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,s=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=s,t.type=ae.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(s),t.data.onload=null,r()};return}}r()}var Cx=function(){function t(){}return t.extension=Zt.Loader,t.use=wx,t}();ze.add(Rx,Cx);/*!
 * @pixi/compressed-textures - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wt,ut;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(ut||(ut={}));var As=(wt={},wt[ut.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,wt[ut.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,wt[ut.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,wt[ut.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,wt[ut.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,wt[ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,wt[ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,wt[ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,wt[ut.COMPRESSED_R11_EAC]=.5,wt[ut.COMPRESSED_SIGNED_R11_EAC]=.5,wt[ut.COMPRESSED_RG11_EAC]=1,wt[ut.COMPRESSED_SIGNED_RG11_EAC]=1,wt[ut.COMPRESSED_RGB8_ETC2]=.5,wt[ut.COMPRESSED_RGBA8_ETC2_EAC]=1,wt[ut.COMPRESSED_SRGB8_ETC2]=.5,wt[ut.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,wt[ut.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,wt[ut.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,wt[ut.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,wt[ut.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,wt[ut.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,wt[ut.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,wt[ut.COMPRESSED_RGB_ETC1_WEBGL]=.5,wt[ut.COMPRESSED_RGB_ATC_WEBGL]=.5,wt[ut.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,wt[ut.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,wt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ja=function(t,r){return ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},ja(t,r)};function kd(t,r){ja(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function Ax(t,r,e,n){function s(a){return a instanceof e?a:new e(function(h){h(a)})}return new(e||(e=Promise))(function(a,h){function f(p){try{d(n.next(p))}catch(v){h(v)}}function l(p){try{d(n.throw(p))}catch(v){h(v)}}function d(p){p.done?a(p.value):s(p.value).then(f,l)}d((n=n.apply(t,r||[])).next())})}function Nx(t,r){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(d){return function(p){return l([d,p])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,s=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){e.label=d[1];break}if(d[0]===6&&e.label<a[1]){e.label=a[1],a=d;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(d);break}a[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(t,e)}catch(p){d=[6,p],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Px=function(t){kd(r,t);function r(e,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var s=this,a,h;return typeof e=="string"?(a=e,h=new Uint8Array):(a=null,h=e),s=t.call(this,h,n)||this,s.origin=a,s.buffer=h?new Ya(h):null,s.origin&&n.autoLoad!==!1&&s.load(),h&&h.length&&(s.loaded=!0,s.onBlobLoaded(s.buffer.rawBinaryData)),s}return r.prototype.onBlobLoaded=function(e){},r.prototype.load=function(){return Ax(this,void 0,Promise,function(){var e,n,s;return Nx(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return e=a.sent(),[4,e.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return s=a.sent(),this.data=new Uint32Array(s),this.buffer=new Ya(s),this.loaded=!0,this.onBlobLoaded(s),this.update(),[2,this]}})})},r}(hi),qa=function(t){kd(r,t);function r(e,n){var s=t.call(this,e,n)||this;return s.format=n.format,s.levels=n.levels||1,s._width=n.width,s._height=n.height,s._extension=r._formatToExtension(s.format),(n.levelBuffers||s.buffer)&&(s._levelBuffers=n.levelBuffers||r._createLevelBuffers(e instanceof Uint8Array?e:s.buffer.uint8View,s.format,s.levels,4,4,s.width,s.height)),s}return r.prototype.upload=function(e,n,s){var a=e.gl,h=e.context.extensions[this._extension];if(!h)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var f=0,l=this.levels;f<l;f++){var d=this._levelBuffers[f],p=d.levelID,v=d.levelWidth,g=d.levelHeight,T=d.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,p,this.format,v,g,0,T)}return!0},r.prototype.onBlobLoaded=function(){this._levelBuffers=r._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},r._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},r._createLevelBuffers=function(e,n,s,a,h,f,l){for(var d=new Array(s),p=e.byteOffset,v=f,g=l,T=v+a-1&~(a-1),E=g+h-1&~(h-1),C=T*E*As[n],I=0;I<s;I++)d[I]={levelID:I,levelWidth:s>1?v:T,levelHeight:s>1?g:E,levelBuffer:new Uint8Array(e.buffer,p,C)},p+=C,v=v>>1||1,g=g>>1||1,T=v+a-1&~(a-1),E=g+h-1&~(h-1),C=T*E*As[n];return d},r}(Px);(function(){function t(){}return t.use=function(r,e){var n=r.data,s=this;if(r.type===ae.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,h=void 0,f=void 0,l=0,d=a.length;l<d;l++){var p=a[l],v=p.src,g=p.format;if(g||(f=v),t.textureFormats[g]){h=v;break}}if(h=h||f,!h){e(new Error("Cannot load compressed-textures in "+r.url+", make sure you provide a fallback"));return}if(h===r.url){e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var T={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},E=Id.resolve(r.url.replace(s.baseUrl,""),h),C=n.cacheID;s.add(C,E,T,function(I){if(I.error){e(I.error);return}var N=I.texture,F=N===void 0?null:N,P=I.textures,U=P===void 0?{}:P;Object.assign(r,{texture:F,textures:U}),e()})}else e()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var r=j.ADAPTER.createCanvas(),e=r.getContext("webgl");if(!e)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var r=t.textureExtensions;t._textureFormats={};for(var e in r){var n=r[e];!n||Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=Zt.Loader,t})();function Vd(t,r,e){var n={textures:{},texture:null};if(!r)return n;var s=r.map(function(a){return new de(new Gt(a,Object.assign({mipmap:mr.OFF,alphaMode:Qe.NO_PREMULTIPLIED_ALPHA},e)))});return s.forEach(function(a,h){var f=a.baseTexture,l=t+"-"+(h+1);Gt.addToCache(f,l),de.addToCache(a,l),h===0&&(Gt.addToCache(f,t),de.addToCache(a,t),n.texture=a),n.textures[l]=a}),n}var zn,He,Ea=4,_s=124,Ux=32,Yl=20,Ox=542327876,vs={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Lx={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},gs={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Ve;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Ve||(Ve={}));var Za;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(Za||(Za={}));var Gx=1,Sx=2,Fx=4,Bx=64,Mx=512,Xx=131072,Dx=827611204,Hx=861165636,kx=894720068,Vx=808540228,Wx=4,zx=(zn={},zn[Dx]=ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,zn[Hx]=ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,zn[kx]=ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,zn),$x=(He={},He[Ve.DXGI_FORMAT_BC1_TYPELESS]=ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,He[Ve.DXGI_FORMAT_BC1_UNORM]=ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,He[Ve.DXGI_FORMAT_BC2_TYPELESS]=ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,He[Ve.DXGI_FORMAT_BC2_UNORM]=ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,He[Ve.DXGI_FORMAT_BC3_TYPELESS]=ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,He[Ve.DXGI_FORMAT_BC3_UNORM]=ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,He[Ve.DXGI_FORMAT_BC1_UNORM_SRGB]=ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,He[Ve.DXGI_FORMAT_BC2_UNORM_SRGB]=ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,He[Ve.DXGI_FORMAT_BC3_UNORM_SRGB]=ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,He);function Yx(t){var r=new Uint32Array(t),e=r[0];if(e!==Ox)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,_s/Uint32Array.BYTES_PER_ELEMENT),s=n[vs.HEIGHT],a=n[vs.WIDTH],h=n[vs.MIPMAP_COUNT],f=new Uint32Array(t,vs.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Ux/Uint32Array.BYTES_PER_ELEMENT),l=f[Gx];if(l&Fx){var d=f[Lx.FOURCC];if(d!==Vx){var p=zx[d],v=Ea+_s,g=new Uint8Array(t,v),T=new qa(g,{format:p,width:a,height:s,levels:h});return[T]}var E=Ea+_s,C=new Uint32Array(r.buffer,E,Yl/Uint32Array.BYTES_PER_ELEMENT),I=C[gs.DXGI_FORMAT],N=C[gs.RESOURCE_DIMENSION],F=C[gs.MISC_FLAG],P=C[gs.ARRAY_SIZE],U=$x[I];if(U===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+I);if(F===Wx)throw new Error("DDSParser does not support cubemap textures");if(N===Za.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var M=new Array,k=Ea+_s+Yl;if(P===1)M.push(new Uint8Array(t,k));else{for(var Y=As[U],z=0,tt=a,ft=s,dt=0;dt<h;dt++){var Ot=Math.max(1,tt+3&-4),gt=Math.max(1,ft+3&-4),bt=Ot*gt*Y;z+=bt,tt=tt>>>1,ft=ft>>>1}for(var kt=k,dt=0;dt<P;dt++)M.push(new Uint8Array(t,kt,z)),kt+=z}return M.map(function(Ft){return new qa(Ft,{format:U,width:a,height:s,levels:h})})}throw l&Bx?new Error("DDSParser does not support uncompressed texture data."):l&Mx?new Error("DDSParser does not supported YUV uncompressed texture data."):l&Xx?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Sx?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Ar,cr,$n,jl=[171,75,84,88,32,49,49,187,13,10,26,10],jx=67305985,ke={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Ka=64,ql=(Ar={},Ar[rt.UNSIGNED_BYTE]=1,Ar[rt.UNSIGNED_SHORT]=2,Ar[rt.INT]=4,Ar[rt.UNSIGNED_INT]=4,Ar[rt.FLOAT]=4,Ar[rt.HALF_FLOAT]=8,Ar),qx=(cr={},cr[D.RGBA]=4,cr[D.RGB]=3,cr[D.RG]=2,cr[D.RED]=1,cr[D.LUMINANCE]=1,cr[D.LUMINANCE_ALPHA]=2,cr[D.ALPHA]=1,cr),Zx=($n={},$n[rt.UNSIGNED_SHORT_4_4_4_4]=2,$n[rt.UNSIGNED_SHORT_5_5_5_1]=2,$n[rt.UNSIGNED_SHORT_5_6_5]=2,$n);function Kx(t,r,e){e===void 0&&(e=!1);var n=new DataView(r);if(!Jx(t,n))return null;var s=n.getUint32(ke.ENDIANNESS,!0)===jx,a=n.getUint32(ke.GL_TYPE,s),h=n.getUint32(ke.GL_FORMAT,s),f=n.getUint32(ke.GL_INTERNAL_FORMAT,s),l=n.getUint32(ke.PIXEL_WIDTH,s),d=n.getUint32(ke.PIXEL_HEIGHT,s)||1,p=n.getUint32(ke.PIXEL_DEPTH,s)||1,v=n.getUint32(ke.NUMBER_OF_ARRAY_ELEMENTS,s)||1,g=n.getUint32(ke.NUMBER_OF_FACES,s),T=n.getUint32(ke.NUMBER_OF_MIPMAP_LEVELS,s),E=n.getUint32(ke.BYTES_OF_KEY_VALUE_DATA,s);if(d===0||p!==1)throw new Error("Only 2D textures are supported");if(g!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(v!==1)throw new Error("WebGL does not support array textures");var C=4,I=4,N=l+3&-4,F=d+3&-4,P=new Array(v),U=l*d;a===0&&(U=N*F);var M;if(a!==0?ql[a]?M=ql[a]*qx[h]:M=Zx[a]:M=As[f],M===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var k=e?tR(n,E,s):null,Y=U*M,z=Y,tt=l,ft=d,dt=N,Ot=F,gt=Ka+E,bt=0;bt<T;bt++){for(var kt=n.getUint32(gt,s),Ft=gt+4,Yt=0;Yt<v;Yt++){var ne=P[Yt];ne||(ne=P[Yt]=new Array(T)),ne[bt]={levelID:bt,levelWidth:T>1||a!==0?tt:dt,levelHeight:T>1||a!==0?ft:Ot,levelBuffer:new Uint8Array(r,Ft,z)},Ft+=z}gt+=kt+4,gt=gt%4!==0?gt+4-gt%4:gt,tt=tt>>1||1,ft=ft>>1||1,dt=tt+C-1&~(C-1),Ot=ft+I-1&~(I-1),z=dt*Ot*M}return a!==0?{uncompressed:P.map(function(jt){var L=jt[0].levelBuffer,X=!1;return a===rt.FLOAT?L=new Float32Array(jt[0].levelBuffer.buffer,jt[0].levelBuffer.byteOffset,jt[0].levelBuffer.byteLength/4):a===rt.UNSIGNED_INT?(X=!0,L=new Uint32Array(jt[0].levelBuffer.buffer,jt[0].levelBuffer.byteOffset,jt[0].levelBuffer.byteLength/4)):a===rt.INT&&(X=!0,L=new Int32Array(jt[0].levelBuffer.buffer,jt[0].levelBuffer.byteOffset,jt[0].levelBuffer.byteLength/4)),{resource:new hi(L,{width:jt[0].levelWidth,height:jt[0].levelHeight}),type:a,format:X?Qx(h):h}}),kvData:k}:{compressed:P.map(function(jt){return new qa(null,{format:f,width:l,height:d,levels:T,levelBuffers:jt})}),kvData:k}}function Jx(t,r){for(var e=0;e<jl.length;e++)if(r.getUint8(e)!==jl[e])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function Qx(t){switch(t){case D.RGBA:return D.RGBA_INTEGER;case D.RGB:return D.RGB_INTEGER;case D.RG:return D.RG_INTEGER;case D.RED:return D.RED_INTEGER;default:return t}}function tR(t,r,e){for(var n=new Map,s=0;s<r;){var a=t.getUint32(Ka+s,e),h=Ka+s+4,f=3-(a+3)%4;if(a===0||a>r-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<a&&t.getUint8(h+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var d=new TextDecoder().decode(new Uint8Array(t.buffer,h,l)),p=new DataView(t.buffer,h+l+1,a-l-1);n.set(d,p),s+=4+a+f}return n}ae.setExtensionXhrType("dds",ae.XHR_RESPONSE_TYPE.BUFFER);(function(){function t(){}return t.use=function(r,e){if(r.extension==="dds"&&r.data)try{Object.assign(r,Vd(r.name||r.url,Yx(r.data),r.metadata))}catch(n){e(n);return}e()},t.extension=Zt.Loader,t})();ae.setExtensionXhrType("ktx",ae.XHR_RESPONSE_TYPE.BUFFER);(function(){function t(){}return t.use=function(r,e){if(r.extension==="ktx"&&r.data)try{var n=r.name||r.url,s=Kx(n,r.data,this.loadKeyValueData),a=s.compressed,h=s.uncompressed,f=s.kvData;if(a){var l=Vd(n,a,r.metadata);if(f&&l.textures)for(var d in l.textures)l.textures[d].baseTexture.ktxKeyValueData=f;Object.assign(r,l)}else if(h){var p={};h.forEach(function(v,g){var T=new de(new Gt(v.resource,{mipmap:mr.OFF,alphaMode:Qe.NO_PREMULTIPLIED_ALPHA,type:v.type,format:v.format})),E=n+"-"+(g+1);f&&(T.baseTexture.ktxKeyValueData=f),Gt.addToCache(T.baseTexture,E),de.addToCache(T,E),g===0&&(p[n]=T,Gt.addToCache(T.baseTexture,n),de.addToCache(T,n)),p[E]=T}),Object.assign(r,{textures:p})}}catch(v){e(v);return}e()},t.extension=Zt.Loader,t.loadKeyValueData=!1,t})();/*!
 * @pixi/display - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.SORTABLE_CHILDREN=!1;var Ja=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Ht.EMPTY:(r=r||new Ht(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},t.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},t.prototype.addPointMatrix=function(r,e){var n=r.a,s=r.b,a=r.c,h=r.d,f=r.tx,l=r.ty,d=n*e.x+a*e.y+f,p=s*e.x+h*e.y+l;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)},t.prototype.addQuad=function(r){var e=this.minX,n=this.minY,s=this.maxX,a=this.maxY,h=r[0],f=r[1];e=h<e?h:e,n=f<n?f:n,s=h>s?h:s,a=f>a?f:a,h=r[2],f=r[3],e=h<e?h:e,n=f<n?f:n,s=h>s?h:s,a=f>a?f:a,h=r[4],f=r[5],e=h<e?h:e,n=f<n?f:n,s=h>s?h:s,a=f>a?f:a,h=r[6],f=r[7],e=h<e?h:e,n=f<n?f:n,s=h>s?h:s,a=f>a?f:a,this.minX=e,this.minY=n,this.maxX=s,this.maxY=a},t.prototype.addFrame=function(r,e,n,s,a){this.addFrameMatrix(r.worldTransform,e,n,s,a)},t.prototype.addFrameMatrix=function(r,e,n,s,a){var h=r.a,f=r.b,l=r.c,d=r.d,p=r.tx,v=r.ty,g=this.minX,T=this.minY,E=this.maxX,C=this.maxY,I=h*e+l*n+p,N=f*e+d*n+v;g=I<g?I:g,T=N<T?N:T,E=I>E?I:E,C=N>C?N:C,I=h*s+l*n+p,N=f*s+d*n+v,g=I<g?I:g,T=N<T?N:T,E=I>E?I:E,C=N>C?N:C,I=h*e+l*a+p,N=f*e+d*a+v,g=I<g?I:g,T=N<T?N:T,E=I>E?I:E,C=N>C?N:C,I=h*s+l*a+p,N=f*s+d*a+v,g=I<g?I:g,T=N<T?N:T,E=I>E?I:E,C=N>C?N:C,this.minX=g,this.minY=T,this.maxX=E,this.maxY=C},t.prototype.addVertexData=function(r,e,n){for(var s=this.minX,a=this.minY,h=this.maxX,f=this.maxY,l=e;l<n;l+=2){var d=r[l],p=r[l+1];s=d<s?d:s,a=p<a?p:a,h=d>h?d:h,f=p>f?p:f}this.minX=s,this.minY=a,this.maxX=h,this.maxY=f},t.prototype.addVertices=function(r,e,n,s){this.addVerticesMatrix(r.worldTransform,e,n,s)},t.prototype.addVerticesMatrix=function(r,e,n,s,a,h){a===void 0&&(a=0),h===void 0&&(h=a);for(var f=r.a,l=r.b,d=r.c,p=r.d,v=r.tx,g=r.ty,T=this.minX,E=this.minY,C=this.maxX,I=this.maxY,N=n;N<s;N+=2){var F=e[N],P=e[N+1],U=f*F+d*P+v,M=p*P+l*F+g;T=Math.min(T,U-a),C=Math.max(C,U+a),E=Math.min(E,M-h),I=Math.max(I,M+h)}this.minX=T,this.minY=E,this.maxX=C,this.maxY=I},t.prototype.addBounds=function(r){var e=this.minX,n=this.minY,s=this.maxX,a=this.maxY;this.minX=r.minX<e?r.minX:e,this.minY=r.minY<n?r.minY:n,this.maxX=r.maxX>s?r.maxX:s,this.maxY=r.maxY>a?r.maxY:a},t.prototype.addBoundsMask=function(r,e){var n=r.minX>e.minX?r.minX:e.minX,s=r.minY>e.minY?r.minY:e.minY,a=r.maxX<e.maxX?r.maxX:e.maxX,h=r.maxY<e.maxY?r.maxY:e.maxY;if(n<=a&&s<=h){var f=this.minX,l=this.minY,d=this.maxX,p=this.maxY;this.minX=n<f?n:f,this.minY=s<l?s:l,this.maxX=a>d?a:d,this.maxY=h>p?h:p}},t.prototype.addBoundsMatrix=function(r,e){this.addFrameMatrix(e,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.addBoundsArea=function(r,e){var n=r.minX>e.x?r.minX:e.x,s=r.minY>e.y?r.minY:e.y,a=r.maxX<e.x+e.width?r.maxX:e.x+e.width,h=r.maxY<e.y+e.height?r.maxY:e.y+e.height;if(n<=a&&s<=h){var f=this.minX,l=this.minY,d=this.maxX,p=this.maxY;this.minX=n<f?n:f,this.minY=s<l?s:l,this.maxX=a>d?a:d,this.maxY=h>p?h:p}},t.prototype.pad=function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(r,e,n,s,a,h){r-=a,e-=h,n+=a,s+=h,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>s?this.maxY:s},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qa=function(t,r){return Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},Qa(t,r)};function du(t,r){Qa(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var ai=function(t){du(r,t);function r(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new VT,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Ja,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return r.mixin=function(e){for(var n=Object.keys(e),s=0;s<n.length;++s){var a=n[s];Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(e,a))}},Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ht),n=this._boundsRect),this._bounds.getRectangle(n)},r.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ht),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Ja);var n=this.transform,s=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,h=this._boundsID;this._bounds=this._localBounds;var f=this.getBounds(!1,e);return this.parent=s,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-h,f},r.prototype.toGlobal=function(e,n,s){return s===void 0&&(s=!1),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)},r.prototype.toLocal=function(e,n,s,a){return n&&(e=n.toGlobal(e,s,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,s)},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.setTransform=function(e,n,s,a,h,f,l,d,p){return e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=1),a===void 0&&(a=1),h===void 0&&(h=0),f===void 0&&(f=0),l===void 0&&(l=0),d===void 0&&(d=0),p===void 0&&(p=0),this.position.x=e,this.position.y=n,this.scale.x=s||1,this.scale.y=a||1,this.rotation=h,this.skew.x=f,this.skew.y=l,this.pivot.x=d,this.pivot.y=p,this},r.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Wd),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},r.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*DT},set:function(e){this.transform.rotation=e*HT},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),r}(ui),Wd=function(t){du(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return r}(ai);ai.prototype.displayObjectUpdateTransform=ai.prototype.updateTransform;/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Zl;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Zl||(Zl={}));var Kl;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Kl||(Kl={}));var Jl;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Jl||(Jl={}));var Ql;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Ql||(Ql={}));var tc;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(tc||(tc={}));var ec;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ec||(ec={}));var rc;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(rc||(rc={}));var nc;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(nc||(nc={}));var ic;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(ic||(ic={}));var sc;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(sc||(sc={}));var oc;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(oc||(oc={}));var ac;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(ac||(ac={}));var uc;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(uc||(uc={}));var hc;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(hc||(hc={}));var fc;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(fc||(fc={}));var lc;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(lc||(lc={}));var tu;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(tu||(tu={}));var cc;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(cc||(cc={}));var dc;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(dc||(dc={}));var pc;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(pc||(pc={}));function eR(t,r){return t.zIndex===r.zIndex?t._lastSortedIndex-r._lastSortedIndex:t.zIndex-r.zIndex}var Ns=function(t){du(r,t);function r(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=j.SORTABLE_CHILDREN,e.sortDirty=!1,e}return r.prototype.onChildrenChange=function(e){},r.prototype.addChild=function(){for(var e=arguments,n=[],s=0;s<arguments.length;s++)n[s]=e[s];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var h=n[0];h.parent&&h.parent.removeChild(h),h.parent=this,this.sortDirty=!0,h.transform._parentID=-1,this.children.push(h),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",h,this,this.children.length-1),h.emit("added",this)}return n[0]},r.prototype.addChildAt=function(e,n){if(n<0||n>this.children.length)throw new Error(e+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(n,0,e),this._boundsID++,this.onChildrenChange(n),e.emit("added",this),this.emit("childAdded",e,this,n),e},r.prototype.swapChildren=function(e,n){if(e!==n){var s=this.getChildIndex(e),a=this.getChildIndex(n);this.children[s]=n,this.children[a]=e,this.onChildrenChange(s<a?s:a)}},r.prototype.getChildIndex=function(e){var n=this.children.indexOf(e);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},r.prototype.setChildIndex=function(e,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var s=this.getChildIndex(e);Rs(this.children,s,1),this.children.splice(n,0,e),this.onChildrenChange(n)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},r.prototype.removeChild=function(){for(var e=arguments,n=[],s=0;s<arguments.length;s++)n[s]=e[s];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var h=n[0],f=this.children.indexOf(h);if(f===-1)return null;h.parent=null,h.transform._parentID=-1,Rs(this.children,f,1),this._boundsID++,this.onChildrenChange(f),h.emit("removed",this),this.emit("childRemoved",h,this,f)}return n[0]},r.prototype.removeChildAt=function(e){var n=this.getChildAt(e);return n.parent=null,n.transform._parentID=-1,Rs(this.children,e,1),this._boundsID++,this.onChildrenChange(e),n.emit("removed",this),this.emit("childRemoved",n,this,e),n},r.prototype.removeChildren=function(e,n){e===void 0&&(e=0),n===void 0&&(n=this.children.length);var s=e,a=n,h=a-s,f;if(h>0&&h<=a){f=this.children.splice(s,h);for(var l=0;l<f.length;++l)f[l].parent=null,f[l].transform&&(f[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var l=0;l<f.length;++l)f[l].emit("removed",this),this.emit("childRemoved",f[l],this,l);return f}else if(h===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var e=!1,n=0,s=this.children.length;n<s;++n){var a=this.children[n];a._lastSortedIndex=n,!e&&a.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(eR),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,n=this.children.length;e<n;++e){var s=this.children[e];s.visible&&s.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var n=this.children[e];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var s=n._mask.isMaskData?n._mask.maskObject:n._mask;s?(s.calculateBounds(),this._bounds.addBoundsMask(n._bounds,s._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(e,n){n===void 0&&(n=!1);var s=t.prototype.getLocalBounds.call(this,e);if(!n)for(var a=0,h=this.children.length;a<h;++a){var f=this.children[a];f.visible&&f.updateTransform()}return s},r.prototype._calculateBounds=function(){},r.prototype._renderWithCulling=function(e){var n=e.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var s,a;if(this.cullArea?(s=this.cullArea,a=this.worldTransform):this._render!==r.prototype._render&&(s=this.getBounds(!0)),s&&n.intersects(s,a))this._render(e);else if(this.cullArea)return;for(var h=0,f=this.children.length;h<f;++h){var l=this.children[h],d=l.cullable;l.cullable=d||!this.cullArea,l.render(e),l.cullable=d}}},r.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var n=0,s=this.children.length;n<s;++n)this.children[n].render(e)}},r.prototype.renderAdvanced=function(e){var n=this.filters,s=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var h=n&&this._enabledFilters&&this._enabledFilters.length||s&&(!s.isMaskData||s.enabled&&(s.autoDetect||s.type!==tu.NONE));if(h&&e.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),s&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var a=0,f=this.children.length;a<f;++a)this.children[a].render(e)}h&&e.batch.flush(),s&&e.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},r.prototype._render=function(e){},r.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof e=="boolean"?e:e&&e.children,s=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<s.length;++a)s[a].destroy(e)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var n=this.getLocalBounds().width;n!==0?this.scale.x=e/n:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var n=this.getLocalBounds().height;n!==0?this.scale.y=e/n:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),r}(ai);Ns.prototype.containerUpdateTransform=Ns.prototype.updateTransform;/*!
 * @pixi/sprite - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eu=function(t,r){return eu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},eu(t,r)};function rR(t,r){eu(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Yn=new ce,nR=new Uint16Array([0,1,2,0,2,3]),iR=function(t){rR(r,t);function r(e){var n=t.call(this)||this;return n._anchor=new qn(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Q.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||de.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=nR,n.pluginName="batch",n.isSprite=!0,n._roundPixels=j.ROUND_PIXELS,n}return r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ss(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ss(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var e=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===e._updateID)){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var n=this.transform.worldTransform,s=n.a,a=n.b,h=n.c,f=n.d,l=n.tx,d=n.ty,p=this.vertexData,v=e.trim,g=e.orig,T=this._anchor,E=0,C=0,I=0,N=0;if(v?(C=v.x-T._x*g.width,E=C+v.width,N=v.y-T._y*g.height,I=N+v.height):(C=-T._x*g.width,E=C+g.width,N=-T._y*g.height,I=N+g.height),p[0]=s*C+h*N+l,p[1]=f*N+a*C+d,p[2]=s*E+h*N+l,p[3]=f*N+a*E+d,p[4]=s*E+h*I+l,p[5]=f*I+a*E+d,p[6]=s*C+h*I+l,p[7]=f*I+a*C+d,this._roundPixels)for(var F=j.RESOLUTION,P=0;P<p.length;++P)p[P]=Math.round((p[P]*F|0)/F)}},r.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,n=this.vertexTrimmedData,s=e.orig,a=this._anchor,h=this.transform.worldTransform,f=h.a,l=h.b,d=h.c,p=h.d,v=h.tx,g=h.ty,T=-a._x*s.width,E=T+s.width,C=-a._y*s.height,I=C+s.height;n[0]=f*T+d*C+v,n[1]=p*C+l*T+g,n[2]=f*E+d*C+v,n[3]=p*C+l*E+g,n[4]=f*E+d*I+v,n[5]=p*I+l*E+g,n[6]=f*T+d*I+v,n[7]=p*I+l*T+g},r.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Ja),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ht),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Yn);var n=this._texture.orig.width,s=this._texture.orig.height,a=-n*this.anchor.x,h=0;return Yn.x>=a&&Yn.x<a+n&&(h=-s*this.anchor.y,Yn.y>=h&&Yn.y<h+s)},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof e=="boolean"?e:e&&e.texture;if(n){var s=typeof e=="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!s)}this._texture=null},r.from=function(e,n){var s=e instanceof de?e:de.from(e,n);return new r(s)},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var n=ss(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var n=ss(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||de.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(Ns);/*!
 * @pixi/app - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var sR=function(){function t(){}return t.init=function(r){var e=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(!!e._resizeTo){e.cancelResize();var n,s;if(e._resizeTo===globalThis.window)n=globalThis.innerWidth,s=globalThis.innerHeight;else{var a=e._resizeTo,h=a.clientWidth,f=a.clientHeight;n=h,s=f}e.renderer.resize(n,s)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=Zt.Application,t}();/*!
 * @pixi/settings - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _c;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(_c||(_c={}));var vc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(vc||(vc={}));var gc;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(gc||(gc={}));var mc;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(mc||(mc={}));var yc;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(yc||(yc={}));var Tc;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Tc||(Tc={}));var Ec;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Ec||(Ec={}));var xc;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(xc||(xc={}));var Rc;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Rc||(Rc={}));var ru;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(ru||(ru={}));var nu;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(nu||(nu={}));var iu;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(iu||(iu={}));var Ic;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Ic||(Ic={}));var bc;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(bc||(bc={}));var su;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(su||(su={}));var Jn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Jn||(Jn={}));var wc;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(wc||(wc={}));var Cc;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(Cc||(Cc={}));var ou;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(ou||(ou={}));var Ac;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Ac||(Ac={}));var oR={createCanvas:function(t,r){var e=document.createElement("canvas");return e.width=t,e.height=r,e},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,r){return fetch(t,r)}},xa=/iPhone/i,Nc=/iPod/i,Pc=/iPad/i,Uc=/\biOS-universal(?:.+)Mac\b/i,Ra=/\bAndroid(?:.+)Mobile\b/i,Oc=/Android/i,_n=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ms=/Silk/i,dr=/Windows Phone/i,Lc=/\bWindows(?:.+)ARM\b/i,Gc=/BlackBerry/i,Sc=/BB10/i,Fc=/Opera Mini/i,Bc=/\b(CriOS|Chrome)(?:.+)Mobile/i,Mc=/Mobile(?:.+)Firefox\b/i,Xc=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function aR(t){return function(r){return r.test(t)}}function uR(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var e=r.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var s=aR(e),a={apple:{phone:s(xa)&&!s(dr),ipod:s(Nc),tablet:!s(xa)&&(s(Pc)||Xc(r))&&!s(dr),universal:s(Uc),device:(s(xa)||s(Nc)||s(Pc)||s(Uc)||Xc(r))&&!s(dr)},amazon:{phone:s(_n),tablet:!s(_n)&&s(ms),device:s(_n)||s(ms)},android:{phone:!s(dr)&&s(_n)||!s(dr)&&s(Ra),tablet:!s(dr)&&!s(_n)&&!s(Ra)&&(s(ms)||s(Oc)),device:!s(dr)&&(s(_n)||s(ms)||s(Ra)||s(Oc))||s(/\bokhttp\b/i)},windows:{phone:s(dr),tablet:s(Lc),device:s(dr)||s(Lc)},other:{blackberry:s(Gc),blackberry10:s(Sc),opera:s(Fc),firefox:s(Mc),chrome:s(Bc),device:s(Gc)||s(Sc)||s(Fc)||s(Mc)||s(Bc)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var gn=uR(globalThis.navigator);function hR(){return!gn.apple.device}function fR(t){var r=!0;if(gn.tablet||gn.phone){if(gn.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(r=!1)}}if(gn.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(r=!1)}}}return r?t:4}var Ps={ADAPTER:oR,MIPMAP_TEXTURES:iu.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ou.NONE,SPRITE_MAX_TEXTURES:fR(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:su.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:nu.CLAMP,SCALE_MODE:ru.LINEAR,PRECISION_VERTEX:Jn.HIGH,PRECISION_FRAGMENT:gn.apple.device?Jn.HIGH:Jn.MEDIUM,CAN_UPLOAD_SAME_BUFFER:hR(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pu(t,r,e){return e={path:r,exports:{},require:function(n,s){return lR(n,s==null?e.path:s)}},t(e,e.exports),e.exports}function lR(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}pu(function(t){var r=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(l,d,p){this.fn=l,this.context=d,this.once=p||!1}function a(l,d,p,v,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var T=new s(p,v||l,g),E=e?e+d:d;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],T]:l._events[E].push(T):(l._events[E]=T,l._eventsCount++),l}function h(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)r.call(p,v)&&d.push(e?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},f.prototype.listeners=function(d){var p=e?e+d:d,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var g=0,T=v.length,E=new Array(T);g<T;g++)E[g]=v[g].fn;return E},f.prototype.listenerCount=function(d){var p=e?e+d:d,v=this._events[p];return v?v.fn?1:v.length:0},f.prototype.emit=function(d,p,v,g,T,E){var C=arguments,I=e?e+d:d;if(!this._events[I])return!1;var N=this._events[I],F=arguments.length,P,U;if(N.fn){switch(N.once&&this.removeListener(d,N.fn,void 0,!0),F){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,v),!0;case 4:return N.fn.call(N.context,p,v,g),!0;case 5:return N.fn.call(N.context,p,v,g,T),!0;case 6:return N.fn.call(N.context,p,v,g,T,E),!0}for(U=1,P=new Array(F-1);U<F;U++)P[U-1]=C[U];N.fn.apply(N.context,P)}else{var M=N.length,k;for(U=0;U<M;U++)switch(N[U].once&&this.removeListener(d,N[U].fn,void 0,!0),F){case 1:N[U].fn.call(N[U].context);break;case 2:N[U].fn.call(N[U].context,p);break;case 3:N[U].fn.call(N[U].context,p,v);break;case 4:N[U].fn.call(N[U].context,p,v,g);break;default:if(!P)for(k=1,P=new Array(F-1);k<F;k++)P[k-1]=C[k];N[U].fn.apply(N[U].context,P)}}return!0},f.prototype.on=function(d,p,v){return a(this,d,p,v,!1)},f.prototype.once=function(d,p,v){return a(this,d,p,v,!0)},f.prototype.removeListener=function(d,p,v,g){var T=e?e+d:d;if(!this._events[T])return this;if(!p)return h(this,T),this;var E=this._events[T];if(E.fn)E.fn===p&&(!g||E.once)&&(!v||E.context===v)&&h(this,T);else{for(var C=0,I=[],N=E.length;C<N;C++)(E[C].fn!==p||g&&!E[C].once||v&&E[C].context!==v)&&I.push(E[C]);I.length?this._events[T]=I.length===1?I[0]:I:h(this,T)}return this},f.prototype.removeAllListeners=function(d){var p;return d?(p=e?e+d:d,this._events[p]&&h(this,p)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,t.exports=f});pu(function(t,r){(function(e){var n=r&&!r.nodeType&&r,s=t&&!t.nodeType&&t,a=typeof Ia=="object"&&Ia;(a.global===a||a.window===a||a.self===a)&&(e=a);var h,f=2147483647,l=36,d=1,p=26,v=38,g=700,T=72,E=128,C="-",I=/^xn--/,N=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=l-d,M=Math.floor,k=String.fromCharCode,Y;function z(L){throw RangeError(P[L])}function tt(L,X){for(var W=L.length,J=[];W--;)J[W]=X(L[W]);return J}function ft(L,X){var W=L.split("@"),J="";W.length>1&&(J=W[0]+"@",L=W[1]),L=L.replace(F,".");var et=L.split("."),lt=tt(et,X).join(".");return J+lt}function dt(L){for(var X=[],W=0,J=L.length,et,lt;W<J;)et=L.charCodeAt(W++),et>=55296&&et<=56319&&W<J?(lt=L.charCodeAt(W++),(lt&64512)==56320?X.push(((et&1023)<<10)+(lt&1023)+65536):(X.push(et),W--)):X.push(et);return X}function Ot(L){return tt(L,function(X){var W="";return X>65535&&(X-=65536,W+=k(X>>>10&1023|55296),X=56320|X&1023),W+=k(X),W}).join("")}function gt(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:l}function bt(L,X){return L+22+75*(L<26)-((X!=0)<<5)}function kt(L,X,W){var J=0;for(L=W?M(L/g):L>>1,L+=M(L/X);L>U*p>>1;J+=l)L=M(L/U);return M(J+(U+1)*L/(L+v))}function Ft(L){var X=[],W=L.length,J,et=0,lt=E,ot=T,Et,xt,Ct,Vt,ct,yt,Nt,Rt,Wt;for(Et=L.lastIndexOf(C),Et<0&&(Et=0),xt=0;xt<Et;++xt)L.charCodeAt(xt)>=128&&z("not-basic"),X.push(L.charCodeAt(xt));for(Ct=Et>0?Et+1:0;Ct<W;){for(Vt=et,ct=1,yt=l;Ct>=W&&z("invalid-input"),Nt=gt(L.charCodeAt(Ct++)),(Nt>=l||Nt>M((f-et)/ct))&&z("overflow"),et+=Nt*ct,Rt=yt<=ot?d:yt>=ot+p?p:yt-ot,!(Nt<Rt);yt+=l)Wt=l-Rt,ct>M(f/Wt)&&z("overflow"),ct*=Wt;J=X.length+1,ot=kt(et-Vt,J,Vt==0),M(et/J)>f-lt&&z("overflow"),lt+=M(et/J),et%=J,X.splice(et++,0,lt)}return Ot(X)}function Yt(L){var X,W,J,et,lt,ot,Et,xt,Ct,Vt,ct,yt=[],Nt,Rt,Wt,tr;for(L=dt(L),Nt=L.length,X=E,W=0,lt=T,ot=0;ot<Nt;++ot)ct=L[ot],ct<128&&yt.push(k(ct));for(J=et=yt.length,et&&yt.push(C);J<Nt;){for(Et=f,ot=0;ot<Nt;++ot)ct=L[ot],ct>=X&&ct<Et&&(Et=ct);for(Rt=J+1,Et-X>M((f-W)/Rt)&&z("overflow"),W+=(Et-X)*Rt,X=Et,ot=0;ot<Nt;++ot)if(ct=L[ot],ct<X&&++W>f&&z("overflow"),ct==X){for(xt=W,Ct=l;Vt=Ct<=lt?d:Ct>=lt+p?p:Ct-lt,!(xt<Vt);Ct+=l)tr=xt-Vt,Wt=l-Vt,yt.push(k(bt(Vt+tr%Wt,0))),xt=M(tr/Wt);yt.push(k(bt(xt,0))),lt=kt(W,Rt,J==et),W=0,++J}++W,++X}return yt.join("")}function ne(L){return ft(L,function(X){return I.test(X)?Ft(X.slice(4).toLowerCase()):X})}function jt(L){return ft(L,function(X){return N.test(X)?"xn--"+Yt(X):X})}if(h={version:"1.3.2",ucs2:{decode:dt,encode:Ot},decode:Ft,encode:Yt,toASCII:jt,toUnicode:ne},n&&s)if(t.exports==n)s.exports=h;else for(Y in h)h.hasOwnProperty(Y)&&(n[Y]=h[Y]);else e.punycode=h})(Ia)});function cR(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var dR=function(t,r,e,n){r=r||"&",e=e||"=";var s={};if(typeof t!="string"||t.length===0)return s;var a=/\+/g;t=t.split(r);var h=1e3;n&&typeof n.maxKeys=="number"&&(h=n.maxKeys);var f=t.length;h>0&&f>h&&(f=h);for(var l=0;l<f;++l){var d=t[l].replace(a,"%20"),p=d.indexOf(e),v,g,T,E;p>=0?(v=d.substr(0,p),g=d.substr(p+1)):(v=d,g=""),T=decodeURIComponent(v),E=decodeURIComponent(g),cR(s,T)?Array.isArray(s[T])?s[T].push(E):s[T]=[s[T],E]:s[T]=E}return s},jn=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},pR=function(t,r,e,n){return r=r||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(s){var a=encodeURIComponent(jn(s))+e;return Array.isArray(t[s])?t[s].map(function(h){return a+encodeURIComponent(jn(h))}).join(r):a+encodeURIComponent(jn(t[s]))}).join(r):n?encodeURIComponent(jn(n))+e+encodeURIComponent(jn(t)):""};pu(function(t,r){r.decode=r.parse=dR,r.encode=r.stringify=pR});/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Dc;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Dc||(Dc={}));var Hc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Hc||(Hc={}));var kc;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(kc||(kc={}));var me;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(me||(me={}));var Vc;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Vc||(Vc={}));var Wc;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Wc||(Wc={}));var zc;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(zc||(zc={}));var $c;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})($c||($c={}));var Yc;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Yc||(Yc={}));var jc;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(jc||(jc={}));var qc;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(qc||(qc={}));var Zc;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Zc||(Zc={}));var Kc;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Kc||(Kc={}));var Jc;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Jc||(Jc={}));var Qc;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Qc||(Qc={}));var td;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(td||(td={}));var ed;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(ed||(ed={}));var rd;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(rd||(rd={}));var nd;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(nd||(nd={}));var id;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(id||(id={}));/*!
 * @pixi/utils - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ps.RETINA_PREFIX=/@([0-9\.]+)x/;Ps.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;function _R(){for(var t=[],r=[],e=0;e<32;e++)t[e]=e,r[e]=e;t[me.NORMAL_NPM]=me.NORMAL,t[me.ADD_NPM]=me.ADD,t[me.SCREEN_NPM]=me.SCREEN,r[me.NORMAL]=me.NORMAL_NPM,r[me.ADD]=me.ADD_NPM,r[me.SCREEN]=me.SCREEN_NPM;var n=[];return n.push(r),n.push(t),n}_R();var sd={};function vR(t,r,e){if(e===void 0&&(e=3),!sd[r]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(n))),sd[r]=!0}}(function(){function t(r,e,n){this.canvas=Ps.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||Ps.RESOLUTION,this.resize(r,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,e){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t})();var zd=function(){function t(r){var e=this;this.stage=new Ns,r=Object.assign({forceCanvas:!1},r),this.renderer=hx(r),t._plugins.forEach(function(n){n.init.call(e,r)})}return t.registerPlugin=function(r){vR("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),ze.add({type:Zt.Application,ref:r})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r,e){var n=this,s=t._plugins.slice(0);s.reverse(),s.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(r),this.renderer=null},t._plugins=[],t}();ze.handleByList(Zt.Application,zd._plugins);ze.add(sR);/*!
 * @pixi/interaction - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var od=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new ce,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(r,e,n){return r.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var e="buttons"in r&&r.buttons;this.buttons=Number.isInteger(e)?e:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var au=function(t,r){return au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},au(t,r)};function gR(t,r){au(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var mR=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),ba=function(){function t(r){this._pointerId=r,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(r,e){e?this._flags=this._flags|r:this._flags=this._flags&~r},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(r){this._doSet(t.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),yR=function(){function t(){this._tempPoint=new ce}return t.prototype.recursiveFindHit=function(r,e,n,s,a){var h;if(!e||!e.visible)return!1;var f=r.data.global;a=e.interactive||a;var l=!1,d=a,p=!0;if(e.hitArea)s&&(e.worldTransform.applyInverse(f,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(s=!1,p=!1)),d=!1;else if(e._mask&&s){var v=e._mask.isMaskData?e._mask.maskObject:e._mask;v&&!(!((h=v.containsPoint)===null||h===void 0)&&h.call(v,f))&&(s=!1)}if(p&&e.interactiveChildren&&e.children)for(var g=e.children,T=g.length-1;T>=0;T--){var E=g[T],C=this.recursiveFindHit(r,E,n,s,d);if(C){if(!E.parent)continue;d=!1,C&&(r.target&&(s=!1),l=!0)}}return a&&(s&&!r.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(f)&&(l=!0),e.interactive&&(l&&!r.target&&(r.target=e),n&&n(r,e,!!l))),l},t.prototype.findHit=function(r,e,n,s){this.recursiveFindHit(r,e,n,s,!1)},t}(),TR={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ai.mixin(TR);var ys=1,Ts={target:null,data:{global:null}},ER=function(t){gR(r,t);function r(e,n){var s=t.call(this)||this;return n=n||{},s.renderer=e,s.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,s.interactionFrequency=n.interactionFrequency||10,s.mouse=new od,s.mouse.identifier=ys,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[ys]=s.mouse,s.interactionDataPool=[],s.eventData=new mR,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.tickerAdded=!1,s.mouseOverRenderer=!("PointerEvent"in globalThis),s.supportsTouchEvents="ontouchstart"in globalThis,s.supportsPointerEvents=!!globalThis.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s.resolution=1,s.delayedEvents=[],s.search=new yR,s._tempDisplayObject=new Wd,s._eventListenerOptions={capture:!0,passive:!1},s._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(e,n){return Ts.target=null,Ts.data.global=e,n||(n=this.lastObjectRendered),this.processInteractive(Ts,n,null,!0),Ts.target},r.prototype.setTargetElement=function(e,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=n,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(qe.system.add(this.tickerUpdate,this,En.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){!this.tickerAdded||(qe.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&n.pointerType!=="touch"){var s=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(e){e=e||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var s=this.cursorStyles[e];if(s)switch(typeof s){case"string":n&&(this.interactionDOMElement.style.cursor=s);break;case"function":s(e);break;case"object":n&&Object.assign(this.interactionDOMElement.style,s);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},r.prototype.dispatchEvent=function(e,n,s){(!s.stopPropagationHint||e===s.stopsPropagatingAt)&&(s.currentTarget=e,s.type=n,e.emit(n,s),e[n]&&e[n](s))},r.prototype.delayDispatchEvent=function(e,n,s){this.delayedEvents.push({displayObject:e,eventString:n,eventData:s})},r.prototype.mapPositionToPoint=function(e,n,s){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var h=1/this.resolution;e.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*h,e.y=(s-a.top)*(this.interactionDOMElement.height/a.height)*h},r.prototype.processInteractive=function(e,n,s,a){var h=this.search.findHit(e,n,s,a),f=this.delayedEvents;if(!f.length)return h;e.stopPropagationHint=!1;var l=f.length;this.delayedEvents=[];for(var d=0;d<l;d++){var p=f[d],v=p.displayObject,g=p.eventString,T=p.eventData;T.stopsPropagatingAt===v&&(T.stopPropagationHint=!0),this.dispatchEvent(v,g,T)}return h},r.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);if(this.autoPreventDefault&&n[0].isNormalized){var s=e.cancelable||!("cancelable"in e);s&&e.preventDefault()}for(var a=n.length,h=0;h<a;h++){var f=n[h],l=this.getInteractionDataForPointerId(f),d=this.configureInteractionEventForDOMEvent(this.eventData,f,l);if(d.data.originalEvent=e,this.processInteractive(d,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",d),f.pointerType==="touch")this.emit("touchstart",d);else if(f.pointerType==="mouse"||f.pointerType==="pen"){var p=f.button===2;this.emit(p?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(e,n,s){var a=e.data,h=e.data.identifier;if(s){if(n.trackedPointers[h]||(n.trackedPointers[h]=new ba(h)),this.dispatchEvent(n,"pointerdown",e),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",e);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var f=a.button===2;f?n.trackedPointers[h].rightDown=!0:n.trackedPointers[h].leftDown=!0,this.dispatchEvent(n,f?"rightdown":"mousedown",e)}}},r.prototype.onPointerComplete=function(e,n,s){var a=this.normalizeToPointerData(e),h=a.length,f=e.target;e.composedPath&&e.composedPath().length>0&&(f=e.composedPath()[0]);for(var l=f!==this.interactionDOMElement?"outside":"",d=0;d<h;d++){var p=a[d],v=this.getInteractionDataForPointerId(p),g=this.configureInteractionEventForDOMEvent(this.eventData,p,v);if(g.data.originalEvent=e,this.processInteractive(g,this.lastObjectRendered,s,n||!l),this.emit(n?"pointercancel":"pointerup"+l,g),p.pointerType==="mouse"||p.pointerType==="pen"){var T=p.button===2;this.emit(T?"rightup"+l:"mouseup"+l,g)}else p.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+l,g),this.releaseInteractionDataForPointerId(p.pointerId))}},r.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(e,n){var s=e.data,a=e.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",e),s.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",e))},r.prototype.onPointerUp=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!1,this.processPointerUp)},r.prototype.processPointerUp=function(e,n,s){var a=e.data,h=e.data.identifier,f=n.trackedPointers[h],l=a.pointerType==="touch",d=a.pointerType==="mouse"||a.pointerType==="pen",p=!1;if(d){var v=a.button===2,g=ba.FLAGS,T=v?g.RIGHT_DOWN:g.LEFT_DOWN,E=f!==void 0&&f.flags&T;s?(this.dispatchEvent(n,v?"rightup":"mouseup",e),E&&(this.dispatchEvent(n,v?"rightclick":"click",e),p=!0)):E&&this.dispatchEvent(n,v?"rightupoutside":"mouseupoutside",e),f&&(v?f.rightDown=!1:f.leftDown=!1)}s?(this.dispatchEvent(n,"pointerup",e),l&&this.dispatchEvent(n,"touchend",e),f&&((!d||p)&&this.dispatchEvent(n,"pointertap",e),l&&(this.dispatchEvent(n,"tap",e),f.over=!1))):f&&(this.dispatchEvent(n,"pointerupoutside",e),l&&this.dispatchEvent(n,"touchendoutside",e)),f&&f.none&&delete n.trackedPointers[h]},r.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var s=n.length,a=0;a<s;a++){var h=n[a],f=this.getInteractionDataForPointerId(h),l=this.configureInteractionEventForDOMEvent(this.eventData,h,f);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),h.pointerType==="touch"&&this.emit("touchmove",l),(h.pointerType==="mouse"||h.pointerType==="pen")&&this.emit("mousemove",l)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(e,n,s){var a=e.data,h=a.pointerType==="touch",f=a.pointerType==="mouse"||a.pointerType==="pen";f&&this.processPointerOverOut(e,n,s),(!this.moveWhenInside||s)&&(this.dispatchEvent(n,"pointermove",e),h&&this.dispatchEvent(n,"touchmove",e),f&&this.dispatchEvent(n,"mousemove",e))},r.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e),s=n[0];s.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(s),h=this.configureInteractionEventForDOMEvent(this.eventData,s,a);h.data.originalEvent=s,this.processInteractive(h,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",h),s.pointerType==="mouse"||s.pointerType==="pen"?this.emit("mouseout",h):this.releaseInteractionDataForPointerId(a.identifier)}},r.prototype.processPointerOverOut=function(e,n,s){var a=e.data,h=e.data.identifier,f=a.pointerType==="mouse"||a.pointerType==="pen",l=n.trackedPointers[h];s&&!l&&(l=n.trackedPointers[h]=new ba(h)),l!==void 0&&(s&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(n,"pointerover",e),f&&this.delayDispatchEvent(n,"mouseover",e)),f&&this.cursor===null&&(this.cursor=n.cursor)):l.over&&(l.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),f&&this.dispatchEvent(n,"mouseout",e),l.none&&delete n.trackedPointers[h]))},r.prototype.onPointerOver=function(e){var n=this.normalizeToPointerData(e),s=n[0],a=this.getInteractionDataForPointerId(s),h=this.configureInteractionEventForDOMEvent(this.eventData,s,a);h.data.originalEvent=s,s.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",h),(s.pointerType==="mouse"||s.pointerType==="pen")&&this.emit("mouseover",h)},r.prototype.getInteractionDataForPointerId=function(e){var n=e.pointerId,s;return n===ys||e.pointerType==="mouse"?s=this.mouse:this.activeInteractionData[n]?s=this.activeInteractionData[n]:(s=this.interactionDataPool.pop()||new od,s.identifier=n,this.activeInteractionData[n]=s),s.copyEvent(e),s},r.prototype.releaseInteractionDataForPointerId=function(e){var n=this.activeInteractionData[e];n&&(delete this.activeInteractionData[e],n.reset(),this.interactionDataPool.push(n))},r.prototype.configureInteractionEventForDOMEvent=function(e,n,s){return e.data=s,this.mapPositionToPoint(s.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=s.global.x,n.globalY=s.global.y),s.originalEvent=n,e.reset(),e},r.prototype.normalizeToPointerData=function(e){var n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var s=0,a=e.changedTouches.length;s<a;s++){var h=e.changedTouches[s];typeof h.button>"u"&&(h.button=e.touches.length?1:0),typeof h.buttons>"u"&&(h.buttons=e.touches.length?1:0),typeof h.isPrimary>"u"&&(h.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof h.width>"u"&&(h.width=h.radiusX||1),typeof h.height>"u"&&(h.height=h.radiusY||1),typeof h.tiltX>"u"&&(h.tiltX=0),typeof h.tiltY>"u"&&(h.tiltY=0),typeof h.pointerType>"u"&&(h.pointerType="touch"),typeof h.pointerId>"u"&&(h.pointerId=h.identifier||0),typeof h.pressure>"u"&&(h.pressure=h.force||.5),typeof h.twist>"u"&&(h.twist=0),typeof h.tangentialPressure>"u"&&(h.tangentialPressure=0),typeof h.layerX>"u"&&(h.layerX=h.offsetX=h.clientX),typeof h.layerY>"u"&&(h.layerY=h.offsetY=h.clientY),h.isNormalized=!0,n.push(h)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){var f=e;typeof f.isPrimary>"u"&&(f.isPrimary=!0),typeof f.width>"u"&&(f.width=1),typeof f.height>"u"&&(f.height=1),typeof f.tiltX>"u"&&(f.tiltX=0),typeof f.tiltY>"u"&&(f.tiltY=0),typeof f.pointerType>"u"&&(f.pointerType="mouse"),typeof f.pointerId>"u"&&(f.pointerId=ys),typeof f.pressure>"u"&&(f.pressure=.5),typeof f.twist>"u"&&(f.twist=0),typeof f.tangentialPressure>"u"&&(f.tangentialPressure=0),f.isNormalized=!0,n.push(f)}else n.push(e);return n},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r.extension={name:"interaction",type:[Zt.RendererPlugin,Zt.CanvasRendererPlugin]},r}(ui);ze.add(Dd);ze.add(ER);ze.add(qT);const xR="/hot-map/assets/4-hov.04dd0320.svg",RR="/hot-map/assets/5-hov.4188b987.svg",IR="/hot-map/assets/1-hov.8bdc8872.svg";var $d={exports:{}};(function(t){(function(r,e,n){function s(l){var d=this,p=f();d.next=function(){var v=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=v-(d.c=v|0)},d.c=1,d.s0=p(" "),d.s1=p(" "),d.s2=p(" "),d.s0-=p(l),d.s0<0&&(d.s0+=1),d.s1-=p(l),d.s1<0&&(d.s1+=1),d.s2-=p(l),d.s2<0&&(d.s2+=1),p=null}function a(l,d){return d.c=l.c,d.s0=l.s0,d.s1=l.s1,d.s2=l.s2,d}function h(l,d){var p=new s(l),v=d&&d.state,g=p.next;return g.int32=function(){return p.next()*4294967296|0},g.double=function(){return g()+(g()*2097152|0)*11102230246251565e-32},g.quick=g,v&&(typeof v=="object"&&a(v,p),g.state=function(){return a(p,{})}),g}function f(){var l=4022871197,d=function(p){p=String(p);for(var v=0;v<p.length;v++){l+=p.charCodeAt(v);var g=.02519603282416938*l;l=g>>>0,g-=l,g*=l,l=g>>>0,g-=l,l+=g*4294967296}return(l>>>0)*23283064365386963e-26};return d}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.alea=h})(le,t,!1)})($d);var Yd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this,d="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var v=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^v^v>>>8},f===(f|0)?l.x=f:d+=f;for(var p=0;p<d.length+64;p++)l.x^=d.charCodeAt(p)|0,l.next()}function a(f,l){return l.x=f.x,l.y=f.y,l.z=f.z,l.w=f.w,l}function h(f,l){var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var g=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(g+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(typeof p=="object"&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.xor128=h})(le,t,!1)})(Yd);var jd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this,d="";l.next=function(){var v=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(v^v<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,f===(f|0)?l.x=f:d+=f;for(var p=0;p<d.length+64;p++)l.x^=d.charCodeAt(p)|0,p==d.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(f,l){return l.x=f.x,l.y=f.y,l.z=f.z,l.w=f.w,l.v=f.v,l.d=f.d,l}function h(f,l){var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var g=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(g+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(typeof p=="object"&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.xorwow=h})(le,t,!1)})(jd);var qd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this;l.next=function(){var p=l.x,v=l.i,g,T;return g=p[v],g^=g>>>7,T=g^g<<24,g=p[v+1&7],T^=g^g>>>10,g=p[v+3&7],T^=g^g>>>3,g=p[v+4&7],T^=g^g<<7,g=p[v+7&7],g=g^g<<13,T^=g^g<<9,p[v]=T,l.i=v+1&7,T};function d(p,v){var g,T=[];if(v===(v|0))T[0]=v;else for(v=""+v,g=0;g<v.length;++g)T[g&7]=T[g&7]<<15^v.charCodeAt(g)+T[g+1&7]<<13;for(;T.length<8;)T.push(0);for(g=0;g<8&&T[g]===0;++g);for(g==8?T[7]=-1:T[g],p.x=T,p.i=0,g=256;g>0;--g)p.next()}d(l,f)}function a(f,l){return l.x=f.x.slice(),l.i=f.i,l}function h(f,l){f==null&&(f=+new Date);var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var g=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(g+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(p.x&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.xorshift7=h})(le,t,!1)})(qd);var Zd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this;l.next=function(){var p=l.w,v=l.X,g=l.i,T,E;return l.w=p=p+1640531527|0,E=v[g+34&127],T=v[g=g+1&127],E^=E<<13,T^=T<<17,E^=E>>>15,T^=T>>>12,E=v[g]=E^T,l.i=g,E+(p^p>>>16)|0};function d(p,v){var g,T,E,C,I,N=[],F=128;for(v===(v|0)?(T=v,v=null):(v=v+"\0",T=0,F=Math.max(F,v.length)),E=0,C=-32;C<F;++C)v&&(T^=v.charCodeAt((C+32)%v.length)),C===0&&(I=T),T^=T<<10,T^=T>>>15,T^=T<<4,T^=T>>>13,C>=0&&(I=I+1640531527|0,g=N[C&127]^=T+I,E=g==0?E+1:0);for(E>=128&&(N[(v&&v.length||0)&127]=-1),E=127,C=4*128;C>0;--C)T=N[E+34&127],g=N[E=E+1&127],T^=T<<13,g^=g<<17,T^=T>>>15,g^=g>>>12,N[E]=T^g;p.w=I,p.X=N,p.i=E}d(l,f)}function a(f,l){return l.i=f.i,l.w=f.w,l.X=f.X.slice(),l}function h(f,l){f==null&&(f=+new Date);var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var g=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(g+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(p.X&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.xor4096=h})(le,t,!1)})(Zd);var Kd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this,d="";l.next=function(){var v=l.b,g=l.c,T=l.d,E=l.a;return v=v<<25^v>>>7^g,g=g-T|0,T=T<<24^T>>>8^E,E=E-v|0,l.b=v=v<<20^v>>>12^g,l.c=g=g-T|0,l.d=T<<16^g>>>16^E,l.a=E-v|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,f===Math.floor(f)?(l.a=f/4294967296|0,l.b=f|0):d+=f;for(var p=0;p<d.length+20;p++)l.b^=d.charCodeAt(p)|0,l.next()}function a(f,l){return l.a=f.a,l.b=f.b,l.c=f.c,l.d=f.d,l}function h(f,l){var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var g=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(g+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(typeof p=="object"&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.tychei=h})(le,t,!1)})(Kd);var Jd={exports:{}};const bR={},wR=Object.freeze(Object.defineProperty({__proto__:null,default:bR},Symbol.toStringTag,{value:"Module"})),CR=ZT(wR);(function(t){(function(r,e,n){var s=256,a=6,h=52,f="random",l=n.pow(s,a),d=n.pow(2,h),p=d*2,v=s-1,g;function T(U,M,k){var Y=[];M=M==!0?{entropy:!0}:M||{};var z=N(I(M.entropy?[U,P(e)]:U==null?F():U,3),Y),tt=new E(Y),ft=function(){for(var dt=tt.g(a),Ot=l,gt=0;dt<d;)dt=(dt+gt)*s,Ot*=s,gt=tt.g(1);for(;dt>=p;)dt/=2,Ot/=2,gt>>>=1;return(dt+gt)/Ot};return ft.int32=function(){return tt.g(4)|0},ft.quick=function(){return tt.g(4)/4294967296},ft.double=ft,N(P(tt.S),e),(M.pass||k||function(dt,Ot,gt,bt){return bt&&(bt.S&&C(bt,tt),dt.state=function(){return C(tt,{})}),gt?(n[f]=dt,Ot):dt})(ft,z,"global"in M?M.global:this==n,M.state)}function E(U){var M,k=U.length,Y=this,z=0,tt=Y.i=Y.j=0,ft=Y.S=[];for(k||(U=[k++]);z<s;)ft[z]=z++;for(z=0;z<s;z++)ft[z]=ft[tt=v&tt+U[z%k]+(M=ft[z])],ft[tt]=M;(Y.g=function(dt){for(var Ot,gt=0,bt=Y.i,kt=Y.j,Ft=Y.S;dt--;)Ot=Ft[bt=v&bt+1],gt=gt*s+Ft[v&(Ft[bt]=Ft[kt=v&kt+Ot])+(Ft[kt]=Ot)];return Y.i=bt,Y.j=kt,gt})(s)}function C(U,M){return M.i=U.i,M.j=U.j,M.S=U.S.slice(),M}function I(U,M){var k=[],Y=typeof U,z;if(M&&Y=="object")for(z in U)try{k.push(I(U[z],M-1))}catch{}return k.length?k:Y=="string"?U:U+"\0"}function N(U,M){for(var k=U+"",Y,z=0;z<k.length;)M[v&z]=v&(Y^=M[v&z]*19)+k.charCodeAt(z++);return P(M)}function F(){try{var U;return g&&(U=g.randomBytes)?U=U(s):(U=new Uint8Array(s),(r.crypto||r.msCrypto).getRandomValues(U)),P(U)}catch{var M=r.navigator,k=M&&M.plugins;return[+new Date,r,k,r.screen,P(e)]}}function P(U){return String.fromCharCode.apply(0,U)}if(N(n.random(),e),t.exports){t.exports=T;try{g=CR}catch{}}else n["seed"+f]=T})(typeof self<"u"?self:le,[],Math)})(Jd);var AR=$d.exports,NR=Yd.exports,PR=jd.exports,UR=qd.exports,OR=Zd.exports,LR=Kd.exports,Kr=Jd.exports;Kr.alea=AR;Kr.xor128=NR;Kr.xorwow=PR;Kr.xorshift7=UR;Kr.xor4096=OR;Kr.tychei=LR;var GR=Kr;let SR=GR();function Qd(){return SR()}function fi(t,r){const e=Array.isArray(t)?()=>tp(t):t;return(r==null?void 0:r.length)===void 0?e(0):Array.from({length:r.length},(n,s)=>e(s))}function tp(t){return t[Math.floor(Qd()*t.length)]}function ep({min:t=1,max:r=9999.99,fraction:e=0}={}){return Number((Qd()*(r-t)+t).toFixed(e))}const FR="abcdefghijklmnopqrstuvwxyz";function ad(t){return fi(FR.split(""),t)}function ud(t){return t===null||typeof t>"u"}function BR(t){const r={min:ud(t==null?void 0:t.min)?0:t.min,max:ud(t==null?void 0:t.max)?999999:t.max,precision:t==null?void 0:t.precision,fraction:t==null?void 0:t.fraction};return fi(()=>{if(r.min===r.max)return r.min;const e=ep(r);return r.precision!==void 0?Math.floor(e/r.precision)*r.precision:e},t)}var MR=["est","voluptatem","non","aut","aliquid","quaerat","quos","vel","tenetur","consectetur","ipsum","voluptate","numquam","nulla","asperiores","in","laborum","quas","et","ullam","consequuntur","enim","dicta","quia","facilis","voluptatibus","at","hic","sunt","excepturi","maiores","vitae","fugit","possimus","unde","repellat","sit","necessitatibus","nemo","qui","exercitationem","dolores","esse","reiciendis","nihil","commodi","id","sequi","consequatur","occaecati","deserunt","quae","eos","sapiente","fugiat","neque","quasi","nostrum","magnam","sed","omnis","doloribus","error","ducimus","rerum","beatae","cupiditate","blanditiis","labore"];function XR(t){return t.charAt(0).toUpperCase()+t.slice(1)}function hd(t){return fi(()=>{let e=tp(MR);return t!=null&&t.capitalize&&(e=XR(e)),e},t)}var DR={china:["Peking roasted duck","Kung pao chicken","Sweet and sour pork","Hot pot","Dim sum","Dumplings","Ma po tofu","Char siu","Chicken chow mein","Beef chow mein","vegetable chow mein","Chicken fried rice","Beef fried rice","Vegetable fried Rice","Special fried Rice","Sichuan pork","Xiaolongbao","Zhajiangmian","Wonton soup","Sweet and sour pork","Duck spring Rolls","Vegetable spring Rolls","Wonton","Peking duck","Lamb hot pot","Spicy crayfish","Guilin rice noodles","Lanzhou hand-pulled noodles","Steamed crab","Shredded pork with garlic sauce","Red braised pork","Sweet and sour Ribs","Xinjiang","Braised pork with vermicelli"],italy:["Butternut squash risotto","Mushroom risotto","Beetroot risotto","Courgette risotto","Pizza","Gnocchi","Spaghetti bolognese","Spaghetti carbonara","Pesto alla Genovese","Beef lasagne","Vegetable lasagne","Gelato","Prosciutto di Parma","Ribollita","Bagna cauda","Polenta","Tortelli and ravioli","Focaccia","Garlic bread","Arancini","Il tartufo","Panzerotto fritto","Fiorentina","Minestrone","Frico","Arrosticini","Olive ascolante","Fritto misto piemontes","Tiramis\xF9"],india:["Biryani","Dosa","Tandoori chicken","Samosas","Chaat","Plain naan","Garlic naan","Pilau rice","Steamed rice","Chicken madras","Vegetable madras","Chicken vindaloo","Chicken jalfrezi","Chicken roghan josh","Lamb roghan josh","Beef roghan josh","Butter chicken","Dosa","Gulab jamun","Chicken korma","Mutter paneer","Papadum","Paratha","Raita","Saag paneer","Tandoori chicken","Chicken tikka masala","Pakora","Dal","Chapati","Pasanda","Aloo gobi","Kofta","Chicken makhani","Paneer naan","Chana Aloo Curry"],mexico:["Chilaquiles","Pozole","Tacos al pastor","Tostadas","Chiles en nogada","Elote","Enchiladas","Mole","Guacamole","Tamales","Huevos rancheros","Machaca","Discada","Beef Burrito","Chicken Burrito","Pozole de pollo o duajolote","Menudo","Cochinita pibil","Tamale","Quesadilla","Frijoles puercos","Chile en nogada","Esquites","Alegria de amaranto","Pipi\xE1n","Aguachile","Ceviche","Pescado zarandeado","Camarones a la diabla","Birria de chivo","Tlayuda","Guacamole con chapulines","Flautas","Torta Ahogada","Carnitas","Caldo Azteca","Gorditas de Nata"],japan:["Sushi","Udon","Tofu","Tempura","Yakitori","Sashimi","Ramen","Donburi","Natto","Oden","Tamagoyaki","Soba","Tonkatsu","Kashipan","Sukiyaki","Miso soup","Okonomiyaki","Mentaiko","Nikujaga","Unagi no kabayaki","Shabu Shabu","Onigiri","Gyoza","Takoyaki","aiseki ryori","Edamame","Yakisoba","Chawanmushi","Wagashi"],france:["Foie gras","Hu\xEEtres","Cassoulet","Poulet basquaise","Escargots au beurre persill\xE9","Mouclade charentaise","Galettes bretonnes","Flemish carbonnade","Quiche lorraine","Raclette","Cheese fondue","Beef fondue","Gratin dauphinois","Tartiflette","Bouillabaisse","Ratatouille","Boeuf bourguignon","Blanquette de veau","Pot-au-feu","Coq-au-vin","Hachis parmentier","Steak tartare","Choucroute","Souffl\xE9 au fromage","Cuisses de grenouilles","Soupe \xE0 l\u2019oignon","Baguette","Croissant","French cheeses","Fondant au chocolat","Tarte tatin","Macarons","Cr\xE8me br\xFBl\xE9e","\xCEle flottante","Profiteroles","Pain au chocolat"],lebanon:["Kibbeh","Kafta","Kanafeh","Hummus","Rice pilaf","Fattoush","Manakish","Tabbouleh","Sfeeha","Fattoush","Labneh","Muhammara","Lahm bi ajin","Kaak","Chanklich","Mssabaha","Shawarma","Kebbe","Falafel","Halewit el jeben","Namoura","Maamoul","Foul mdammas","Balila","Kawarma","Fattouch"],thailand:["Pad kra pao moo","Tom kha gai","Khao Pad","Chicken pad Thai","Vegetable pad Thai","Moo satay","Tom yum goong","Khao niew mamuang","Kai yad sai","Khao soi","Pad see ew","Laab moo","Gaeng panang","Gai pad med ma muang","Som tam","Poh pia tod","Gaeng massaman","Pla kapung nueng manao","Tod mun pla","Gaeng ped","Gaeng garee","Gaeng keow wan","Moo ping","Durian","Sai ooah","Hoy tod","Kuay teow reua","Mu kratha","Kao ka moo","Yam nua"],greece:["Moussaka","Papoutsakia","Pastitsio","Souvlaki","Soutzoukakia","Stifado","Tomatokeftedes","Tzatziki","Kolokithokeftedes","Giouvetsi","Choriatiki","Kleftiko","Gemista","Fasolada","Bougatsa","Tiropita","Spanakopita","Feta Cheese with Honey","Horta","Tirokroketes","Briam","Saganaki","Gigantes","Dolmades","Fasolatha","Koulouri","Loukoumades","Gyros","Galaktoboureko","Baklava"],turkey:["\u015Ei\u015F kebap","D\xF6ner","K\xF6fte","Pide","Kumpir","Meze","Mant\u0131","Lahmacun","Menemen","\u015Ei\u015F kebap","\u0130skender kebab","Corba","Kuzu tandir","\xC7i\u011F K\xF6fte","Pilav","Yaprak sarma","Dolma","\u0130mam bay\u0131ld\u0131","Borek","Durum","Kumpir","Balik ekmek","Simit","Kunefe","Baklava","Lokum","Halva","Mozzaik pasta","G\xFClla\xE7","Mercimek K\xF6ftesi","Haydari","Tursu suyu","Kahvalti","Kazan dibi","Hunkar begendi","Islak burgers","Salep","Yogurtlu kebab"],spain:["Tortilla de patatas","Fabada asturiana","Cal\xE7ots","Boquerones al vinagre","Empanada gallega","Paella","Gazpacho","Gachas","Migas","Bocadillo de calamares","Pulpo a feira","Caldo gallego","Lentejas con chorizo","Cocido madrile\xF1o","Cachopo","Caracoles"],venezuela:["Pabell\xF3n criollo","Arepa","Mondongo","Empanadas","Quesillo","Chicha andina","Teque\xF1os","Cachapa","Hallaca","Perico","Pasticho","Mandocas","Caraotas negras","Patacones","Dulce de leche","Pan de Jam\xF3n"],chile:["Humitas","Empanadas","Porotos con riendas","Completos","Manjar","Cordero al palo","Pastel de choclo","Mote con huesillos","Sopaipillas","Curanto"],argentina:["Milanesas","Empanadas","Pizza fugazeta","Asado","Choripan","Bondiola","Bife de chorizo"],colombia:["Bandeja paisa","Chuleta valluna","Sancocho trif\xE1sico","Empanada valluna","Salpicon de frutas","Pastel de garbanzo","Ajiaco","Arepas","Arroz de lisa","Sancocho","Pan de bono","Cuchuco","Oblea","Cazuela de mariscos","Pan de yuca","Bollo Limpio","Almoj\xE1bana","Empanadas","Arroz con Coco","Sopa de mondongo","Cazuela de Mariscos","Arroz con Pollo","Arepa de Huevo","Mote de Queso"],ecuador:["Encebollado","Ceviche","Tigrillo","Bolon de verde","Llapingacho","Mote pillo","Locro de papa","Churrasco"],peru:["Ceviche","Arroz con pollo","Aji de gallina","Llunca de gallina"],"el salvador":["Pupusa","Sopa de patas","Rigua","Flor de izote con huevo","Gallo en chicha"],romania:["Sarmale","Mici","Pomana porcului","Ciorb\u0103 de fasole cu ciolan","Ciorb\u0103 de burt\u0103","Ciorb\u0103 r\u0103d\u0103u\u021Bean\u0103","Pl\u0103cint\u0103 cu br\xE2nz\u0103","Ciorb\u0103 de potroace","M\u0103m\u0103lig\u0103 cu br\xE2nz\u0103 \u0219i sm\xE2nt\xE2n\u0103","Tochitur\u0103","Piftie","Iahnie de fasole","Sl\u0103nin\u0103 afumat\u0103","C\xE2rna\u021Bi afuma\u021Bi","Varz\u0103 a la Cluj","Gula\u0219 de cartofi cu afum\u0103tur\u0103","Cozonac de cas\u0103","Ciorb\u0103 ardeleneasc\u0103 de porc","Mucenici moldovene\u0219ti","Salat\u0103 de boeuf","Dovleac copt","Papana\u0219i cu br\xE2nz\u0103 de vac\u0103 \u0219i afine","Drob de miel","P\xE2rjoale moldovene\u0219ti","Zacusc\u0103 de vinete","Zacusc\u0103 de fasole","Turt\u0103 dulce","Cl\u0103titele cu gem","Cl\u0103titele cu br\xE2nza de vac\u0103","Balmo\u0219","Cozonac","Chiftele"]},fd;(fd=Object.keys(DR))==null||fd.length;const rp=50;function HR(t){const r=ep({min:1,max:10,fraction:0});return r===1||t===rp?".":r===2?",":""}function ld(t){return fi(()=>{let e=hd({capitalize:!0}),n=1;for(;n<rp;){const s=hd();let a="";if(n++,n>3&&(a=HR(n)),e+=` ${s}${a}`,a===".")break}return e},t)}function kR(t){var r;const e=(r=t==null?void 0:t.charCount)!=null?r:10;if(e<1||isNaN(e))throw"Character count must be greater than 0";return fi(()=>{let s=ld();if(e===1)return ad();for(;s.length<e;)s+=` ${ld()}`;return s=s.substring(0,e-2),s+=`${ad()}.`,s},t)}var VR={olympic:["Archery","Artistic Gymnastics","Artistic Swimming","Athletics","Badminton","Baseball Softball","Basketball","Beach Volleyball","BMX Freestyle","BMX Racing","Boxing","Kayak Flatwater","Kayak Slalom","Diving","Equestrian","Fencing","Football","Golf","Handball","Hockey","Judo","Karate","Marathon Swimming","Modern Pentathlon","Mountain Bike","Rhythmic Gymnastics","Road Cycling","Rowing","Rugby","Sailing","Shooting","Skateboarding","Sport Climbing","Surfing","Swimming","Table Tennis","Taekwondo","Tennis","Track Cycling","Trampoline","Triathlon","Volleyball","Water Polo","Weightlifting","Wrestling"],winterOlympic:["Alpine Skiing","Biathlon","Bobsleigh","Cross-Country Skiing","Curling","Figure Skating","Freestyle Skiing","Ice Hockey","Luge","Nordic Combined","Short Track Speed Skating","Skeleton","Ski Jumping","Snowboard","Speed Skating"],outdoor:["Archery","Athletics","Badminton","Baseball","Basketball","Bowling","Boxing","Camping","Canoeing","Climbing","Cricket","Curling","Cycling","Equestrian","Fencing","Football","Golf","Gymnastics","Handball","Hang Gliding","High Jumping","Hockey","Ice Hockey","Judo","Karate","Kite Flying","Monkey Bars","Motorsports","Netball","Rowing","Rugby","Running","Sailing","Skateboarding","Slide","Snow Skiing","Soccer","Street Hockey","Surfing","Swimming","Table Tennis","Tennis","Trekking","Triathlon","Volleyball","Weightlifting","Wrestling"]},cd;(cd=Object.keys(VR))==null||cd.length;var uu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,r){(function(){var e,n="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",v=1,g=2,T=4,E=1,C=2,I=1,N=2,F=4,P=8,U=16,M=32,k=64,Y=128,z=256,tt=512,ft=30,dt="...",Ot=800,gt=16,bt=1,kt=2,Ft=3,Yt=1/0,ne=9007199254740991,jt=17976931348623157e292,L=0/0,X=4294967295,W=X-1,J=X>>>1,et=[["ary",Y],["bind",I],["bindKey",N],["curry",P],["curryRight",U],["flip",tt],["partial",M],["partialRight",k],["rearg",z]],lt="[object Arguments]",ot="[object Array]",Et="[object AsyncFunction]",xt="[object Boolean]",Ct="[object Date]",Vt="[object DOMException]",ct="[object Error]",yt="[object Function]",Nt="[object GeneratorFunction]",Rt="[object Map]",Wt="[object Number]",tr="[object Null]",er="[object Object]",_u="[object Promise]",np="[object Proxy]",xn="[object RegExp]",Fe="[object Set]",Rn="[object String]",li="[object Symbol]",ip="[object Undefined]",In="[object WeakMap]",sp="[object WeakSet]",bn="[object ArrayBuffer]",Jr="[object DataView]",Gs="[object Float32Array]",Ss="[object Float64Array]",Fs="[object Int8Array]",Bs="[object Int16Array]",Ms="[object Int32Array]",Xs="[object Uint8Array]",Ds="[object Uint8ClampedArray]",Hs="[object Uint16Array]",ks="[object Uint32Array]",op=/\b__p \+= '';/g,ap=/\b(__p \+=) '' \+/g,up=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vu=/&(?:amp|lt|gt|quot|#39);/g,gu=/[&<>"']/g,hp=RegExp(vu.source),fp=RegExp(gu.source),lp=/<%-([\s\S]+?)%>/g,cp=/<%([\s\S]+?)%>/g,mu=/<%=([\s\S]+?)%>/g,dp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pp=/^\w*$/,_p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vs=/[\\^$.*+?()[\]{}|]/g,vp=RegExp(Vs.source),Ws=/^\s+/,gp=/\s/,mp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,yp=/\{\n\/\* \[wrapped with (.+)\] \*/,Tp=/,? & /,Ep=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xp=/[()=,{}\[\]\/\s]/,Rp=/\\(\\)?/g,Ip=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yu=/\w*$/,bp=/^[-+]0x[0-9a-f]+$/i,wp=/^0b[01]+$/i,Cp=/^\[object .+?Constructor\]$/,Ap=/^0o[0-7]+$/i,Np=/^(?:0|[1-9]\d*)$/,Pp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ci=/($^)/,Up=/['\n\r\u2028\u2029\\]/g,di="\\ud800-\\udfff",Op="\\u0300-\\u036f",Lp="\\ufe20-\\ufe2f",Gp="\\u20d0-\\u20ff",Tu=Op+Lp+Gp,Eu="\\u2700-\\u27bf",xu="a-z\\xdf-\\xf6\\xf8-\\xff",Sp="\\xac\\xb1\\xd7\\xf7",Fp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bp="\\u2000-\\u206f",Mp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ru="A-Z\\xc0-\\xd6\\xd8-\\xde",Iu="\\ufe0e\\ufe0f",bu=Sp+Fp+Bp+Mp,zs="['\u2019]",Xp="["+di+"]",wu="["+bu+"]",pi="["+Tu+"]",Cu="\\d+",Dp="["+Eu+"]",Au="["+xu+"]",Nu="[^"+di+bu+Cu+Eu+xu+Ru+"]",$s="\\ud83c[\\udffb-\\udfff]",Hp="(?:"+pi+"|"+$s+")",Pu="[^"+di+"]",Ys="(?:\\ud83c[\\udde6-\\uddff]){2}",js="[\\ud800-\\udbff][\\udc00-\\udfff]",Qr="["+Ru+"]",Uu="\\u200d",Ou="(?:"+Au+"|"+Nu+")",kp="(?:"+Qr+"|"+Nu+")",Lu="(?:"+zs+"(?:d|ll|m|re|s|t|ve))?",Gu="(?:"+zs+"(?:D|LL|M|RE|S|T|VE))?",Su=Hp+"?",Fu="["+Iu+"]?",Vp="(?:"+Uu+"(?:"+[Pu,Ys,js].join("|")+")"+Fu+Su+")*",Wp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bu=Fu+Su+Vp,$p="(?:"+[Dp,Ys,js].join("|")+")"+Bu,Yp="(?:"+[Pu+pi+"?",pi,Ys,js,Xp].join("|")+")",jp=RegExp(zs,"g"),qp=RegExp(pi,"g"),qs=RegExp($s+"(?="+$s+")|"+Yp+Bu,"g"),Zp=RegExp([Qr+"?"+Au+"+"+Lu+"(?="+[wu,Qr,"$"].join("|")+")",kp+"+"+Gu+"(?="+[wu,Qr+Ou,"$"].join("|")+")",Qr+"?"+Ou+"+"+Lu,Qr+"+"+Gu,zp,Wp,Cu,$p].join("|"),"g"),Kp=RegExp("["+Uu+di+Tu+Iu+"]"),Jp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],t_=-1,Lt={};Lt[Gs]=Lt[Ss]=Lt[Fs]=Lt[Bs]=Lt[Ms]=Lt[Xs]=Lt[Ds]=Lt[Hs]=Lt[ks]=!0,Lt[lt]=Lt[ot]=Lt[bn]=Lt[xt]=Lt[Jr]=Lt[Ct]=Lt[ct]=Lt[yt]=Lt[Rt]=Lt[Wt]=Lt[er]=Lt[xn]=Lt[Fe]=Lt[Rn]=Lt[In]=!1;var Pt={};Pt[lt]=Pt[ot]=Pt[bn]=Pt[Jr]=Pt[xt]=Pt[Ct]=Pt[Gs]=Pt[Ss]=Pt[Fs]=Pt[Bs]=Pt[Ms]=Pt[Rt]=Pt[Wt]=Pt[er]=Pt[xn]=Pt[Fe]=Pt[Rn]=Pt[li]=Pt[Xs]=Pt[Ds]=Pt[Hs]=Pt[ks]=!0,Pt[ct]=Pt[yt]=Pt[In]=!1;var e_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},r_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},i_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},s_=parseFloat,o_=parseInt,Mu=typeof le=="object"&&le&&le.Object===Object&&le,a_=typeof self=="object"&&self&&self.Object===Object&&self,ee=Mu||a_||Function("return this")(),Zs=r&&!r.nodeType&&r,Or=Zs&&!0&&t&&!t.nodeType&&t,Xu=Or&&Or.exports===Zs,Ks=Xu&&Mu.process,Ae=function(){try{var b=Or&&Or.require&&Or.require("util").types;return b||Ks&&Ks.binding&&Ks.binding("util")}catch{}}(),Du=Ae&&Ae.isArrayBuffer,Hu=Ae&&Ae.isDate,ku=Ae&&Ae.isMap,Vu=Ae&&Ae.isRegExp,Wu=Ae&&Ae.isSet,zu=Ae&&Ae.isTypedArray;function ye(b,O,A){switch(A.length){case 0:return b.call(O);case 1:return b.call(O,A[0]);case 2:return b.call(O,A[0],A[1]);case 3:return b.call(O,A[0],A[1],A[2])}return b.apply(O,A)}function u_(b,O,A,V){for(var nt=-1,mt=b==null?0:b.length;++nt<mt;){var Kt=b[nt];O(V,Kt,A(Kt),b)}return V}function Ne(b,O){for(var A=-1,V=b==null?0:b.length;++A<V&&O(b[A],A,b)!==!1;);return b}function h_(b,O){for(var A=b==null?0:b.length;A--&&O(b[A],A,b)!==!1;);return b}function $u(b,O){for(var A=-1,V=b==null?0:b.length;++A<V;)if(!O(b[A],A,b))return!1;return!0}function yr(b,O){for(var A=-1,V=b==null?0:b.length,nt=0,mt=[];++A<V;){var Kt=b[A];O(Kt,A,b)&&(mt[nt++]=Kt)}return mt}function _i(b,O){var A=b==null?0:b.length;return!!A&&tn(b,O,0)>-1}function Js(b,O,A){for(var V=-1,nt=b==null?0:b.length;++V<nt;)if(A(O,b[V]))return!0;return!1}function St(b,O){for(var A=-1,V=b==null?0:b.length,nt=Array(V);++A<V;)nt[A]=O(b[A],A,b);return nt}function Tr(b,O){for(var A=-1,V=O.length,nt=b.length;++A<V;)b[nt+A]=O[A];return b}function Qs(b,O,A,V){var nt=-1,mt=b==null?0:b.length;for(V&&mt&&(A=b[++nt]);++nt<mt;)A=O(A,b[nt],nt,b);return A}function f_(b,O,A,V){var nt=b==null?0:b.length;for(V&&nt&&(A=b[--nt]);nt--;)A=O(A,b[nt],nt,b);return A}function to(b,O){for(var A=-1,V=b==null?0:b.length;++A<V;)if(O(b[A],A,b))return!0;return!1}var l_=eo("length");function c_(b){return b.split("")}function d_(b){return b.match(Ep)||[]}function Yu(b,O,A){var V;return A(b,function(nt,mt,Kt){if(O(nt,mt,Kt))return V=mt,!1}),V}function vi(b,O,A,V){for(var nt=b.length,mt=A+(V?1:-1);V?mt--:++mt<nt;)if(O(b[mt],mt,b))return mt;return-1}function tn(b,O,A){return O===O?b_(b,O,A):vi(b,ju,A)}function p_(b,O,A,V){for(var nt=A-1,mt=b.length;++nt<mt;)if(V(b[nt],O))return nt;return-1}function ju(b){return b!==b}function qu(b,O){var A=b==null?0:b.length;return A?no(b,O)/A:L}function eo(b){return function(O){return O==null?e:O[b]}}function ro(b){return function(O){return b==null?e:b[O]}}function Zu(b,O,A,V,nt){return nt(b,function(mt,Kt,At){A=V?(V=!1,mt):O(A,mt,Kt,At)}),A}function __(b,O){var A=b.length;for(b.sort(O);A--;)b[A]=b[A].value;return b}function no(b,O){for(var A,V=-1,nt=b.length;++V<nt;){var mt=O(b[V]);mt!==e&&(A=A===e?mt:A+mt)}return A}function io(b,O){for(var A=-1,V=Array(b);++A<b;)V[A]=O(A);return V}function v_(b,O){return St(O,function(A){return[A,b[A]]})}function Ku(b){return b&&b.slice(0,eh(b)+1).replace(Ws,"")}function Te(b){return function(O){return b(O)}}function so(b,O){return St(O,function(A){return b[A]})}function wn(b,O){return b.has(O)}function Ju(b,O){for(var A=-1,V=b.length;++A<V&&tn(O,b[A],0)>-1;);return A}function Qu(b,O){for(var A=b.length;A--&&tn(O,b[A],0)>-1;);return A}function g_(b,O){for(var A=b.length,V=0;A--;)b[A]===O&&++V;return V}var m_=ro(e_),y_=ro(r_);function T_(b){return"\\"+i_[b]}function E_(b,O){return b==null?e:b[O]}function en(b){return Kp.test(b)}function x_(b){return Jp.test(b)}function R_(b){for(var O,A=[];!(O=b.next()).done;)A.push(O.value);return A}function oo(b){var O=-1,A=Array(b.size);return b.forEach(function(V,nt){A[++O]=[nt,V]}),A}function th(b,O){return function(A){return b(O(A))}}function Er(b,O){for(var A=-1,V=b.length,nt=0,mt=[];++A<V;){var Kt=b[A];(Kt===O||Kt===p)&&(b[A]=p,mt[nt++]=A)}return mt}function gi(b){var O=-1,A=Array(b.size);return b.forEach(function(V){A[++O]=V}),A}function I_(b){var O=-1,A=Array(b.size);return b.forEach(function(V){A[++O]=[V,V]}),A}function b_(b,O,A){for(var V=A-1,nt=b.length;++V<nt;)if(b[V]===O)return V;return-1}function w_(b,O,A){for(var V=A+1;V--;)if(b[V]===O)return V;return V}function rn(b){return en(b)?A_(b):l_(b)}function Be(b){return en(b)?N_(b):c_(b)}function eh(b){for(var O=b.length;O--&&gp.test(b.charAt(O)););return O}var C_=ro(n_);function A_(b){for(var O=qs.lastIndex=0;qs.test(b);)++O;return O}function N_(b){return b.match(qs)||[]}function P_(b){return b.match(Zp)||[]}var U_=function b(O){O=O==null?ee:nn.defaults(ee.Object(),O,nn.pick(ee,Qp));var A=O.Array,V=O.Date,nt=O.Error,mt=O.Function,Kt=O.Math,At=O.Object,ao=O.RegExp,O_=O.String,Pe=O.TypeError,mi=A.prototype,L_=mt.prototype,sn=At.prototype,yi=O["__core-js_shared__"],Ti=L_.toString,It=sn.hasOwnProperty,G_=0,rh=function(){var i=/[^.]+$/.exec(yi&&yi.keys&&yi.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Ei=sn.toString,S_=Ti.call(At),F_=ee._,B_=ao("^"+Ti.call(It).replace(Vs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xi=Xu?O.Buffer:e,xr=O.Symbol,Ri=O.Uint8Array,nh=xi?xi.allocUnsafe:e,Ii=th(At.getPrototypeOf,At),ih=At.create,sh=sn.propertyIsEnumerable,bi=mi.splice,oh=xr?xr.isConcatSpreadable:e,Cn=xr?xr.iterator:e,Lr=xr?xr.toStringTag:e,wi=function(){try{var i=Mr(At,"defineProperty");return i({},"",{}),i}catch{}}(),M_=O.clearTimeout!==ee.clearTimeout&&O.clearTimeout,X_=V&&V.now!==ee.Date.now&&V.now,D_=O.setTimeout!==ee.setTimeout&&O.setTimeout,Ci=Kt.ceil,Ai=Kt.floor,uo=At.getOwnPropertySymbols,H_=xi?xi.isBuffer:e,ah=O.isFinite,k_=mi.join,V_=th(At.keys,At),Jt=Kt.max,ie=Kt.min,W_=V.now,z_=O.parseInt,uh=Kt.random,$_=mi.reverse,ho=Mr(O,"DataView"),An=Mr(O,"Map"),fo=Mr(O,"Promise"),on=Mr(O,"Set"),Nn=Mr(O,"WeakMap"),Pn=Mr(At,"create"),Ni=Nn&&new Nn,an={},Y_=Xr(ho),j_=Xr(An),q_=Xr(fo),Z_=Xr(on),K_=Xr(Nn),Pi=xr?xr.prototype:e,Un=Pi?Pi.valueOf:e,hh=Pi?Pi.toString:e;function m(i){if(Dt(i)&&!it(i)&&!(i instanceof _t)){if(i instanceof Ue)return i;if(It.call(i,"__wrapped__"))return lf(i)}return new Ue(i)}var un=function(){function i(){}return function(o){if(!Bt(o))return{};if(ih)return ih(o);i.prototype=o;var u=new i;return i.prototype=e,u}}();function Ui(){}function Ue(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}m.templateSettings={escape:lp,evaluate:cp,interpolate:mu,variable:"",imports:{_:m}},m.prototype=Ui.prototype,m.prototype.constructor=m,Ue.prototype=un(Ui.prototype),Ue.prototype.constructor=Ue;function _t(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function J_(){var i=new _t(this.__wrapped__);return i.__actions__=pe(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=pe(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=pe(this.__views__),i}function Q_(){if(this.__filtered__){var i=new _t(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function tv(){var i=this.__wrapped__.value(),o=this.__dir__,u=it(i),c=o<0,_=u?i.length:0,y=cg(0,_,this.__views__),x=y.start,R=y.end,w=R-x,G=c?R:x-1,S=this.__iteratees__,B=S.length,H=0,$=ie(w,this.__takeCount__);if(!u||!c&&_==w&&$==w)return Lh(i,this.__actions__);var Z=[];t:for(;w--&&H<$;){G+=o;for(var at=-1,K=i[G];++at<B;){var pt=S[at],vt=pt.iteratee,Re=pt.type,fe=vt(K);if(Re==kt)K=fe;else if(!fe){if(Re==bt)continue t;break t}}Z[H++]=K}return Z}_t.prototype=un(Ui.prototype),_t.prototype.constructor=_t;function Gr(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var c=i[o];this.set(c[0],c[1])}}function ev(){this.__data__=Pn?Pn(null):{},this.size=0}function rv(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function nv(i){var o=this.__data__;if(Pn){var u=o[i];return u===l?e:u}return It.call(o,i)?o[i]:e}function iv(i){var o=this.__data__;return Pn?o[i]!==e:It.call(o,i)}function sv(i,o){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=Pn&&o===e?l:o,this}Gr.prototype.clear=ev,Gr.prototype.delete=rv,Gr.prototype.get=nv,Gr.prototype.has=iv,Gr.prototype.set=sv;function rr(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var c=i[o];this.set(c[0],c[1])}}function ov(){this.__data__=[],this.size=0}function av(i){var o=this.__data__,u=Oi(o,i);if(u<0)return!1;var c=o.length-1;return u==c?o.pop():bi.call(o,u,1),--this.size,!0}function uv(i){var o=this.__data__,u=Oi(o,i);return u<0?e:o[u][1]}function hv(i){return Oi(this.__data__,i)>-1}function fv(i,o){var u=this.__data__,c=Oi(u,i);return c<0?(++this.size,u.push([i,o])):u[c][1]=o,this}rr.prototype.clear=ov,rr.prototype.delete=av,rr.prototype.get=uv,rr.prototype.has=hv,rr.prototype.set=fv;function nr(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var c=i[o];this.set(c[0],c[1])}}function lv(){this.size=0,this.__data__={hash:new Gr,map:new(An||rr),string:new Gr}}function cv(i){var o=Wi(this,i).delete(i);return this.size-=o?1:0,o}function dv(i){return Wi(this,i).get(i)}function pv(i){return Wi(this,i).has(i)}function _v(i,o){var u=Wi(this,i),c=u.size;return u.set(i,o),this.size+=u.size==c?0:1,this}nr.prototype.clear=lv,nr.prototype.delete=cv,nr.prototype.get=dv,nr.prototype.has=pv,nr.prototype.set=_v;function Sr(i){var o=-1,u=i==null?0:i.length;for(this.__data__=new nr;++o<u;)this.add(i[o])}function vv(i){return this.__data__.set(i,l),this}function gv(i){return this.__data__.has(i)}Sr.prototype.add=Sr.prototype.push=vv,Sr.prototype.has=gv;function Me(i){var o=this.__data__=new rr(i);this.size=o.size}function mv(){this.__data__=new rr,this.size=0}function yv(i){var o=this.__data__,u=o.delete(i);return this.size=o.size,u}function Tv(i){return this.__data__.get(i)}function Ev(i){return this.__data__.has(i)}function xv(i,o){var u=this.__data__;if(u instanceof rr){var c=u.__data__;if(!An||c.length<s-1)return c.push([i,o]),this.size=++u.size,this;u=this.__data__=new nr(c)}return u.set(i,o),this.size=u.size,this}Me.prototype.clear=mv,Me.prototype.delete=yv,Me.prototype.get=Tv,Me.prototype.has=Ev,Me.prototype.set=xv;function fh(i,o){var u=it(i),c=!u&&Dr(i),_=!u&&!c&&Cr(i),y=!u&&!c&&!_&&cn(i),x=u||c||_||y,R=x?io(i.length,O_):[],w=R.length;for(var G in i)(o||It.call(i,G))&&!(x&&(G=="length"||_&&(G=="offset"||G=="parent")||y&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||ar(G,w)))&&R.push(G);return R}function lh(i){var o=i.length;return o?i[xo(0,o-1)]:e}function Rv(i,o){return zi(pe(i),Fr(o,0,i.length))}function Iv(i){return zi(pe(i))}function lo(i,o,u){(u!==e&&!Xe(i[o],u)||u===e&&!(o in i))&&ir(i,o,u)}function On(i,o,u){var c=i[o];(!(It.call(i,o)&&Xe(c,u))||u===e&&!(o in i))&&ir(i,o,u)}function Oi(i,o){for(var u=i.length;u--;)if(Xe(i[u][0],o))return u;return-1}function bv(i,o,u,c){return Rr(i,function(_,y,x){o(c,_,u(_),x)}),c}function ch(i,o){return i&&Ye(o,te(o),i)}function wv(i,o){return i&&Ye(o,ve(o),i)}function ir(i,o,u){o=="__proto__"&&wi?wi(i,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):i[o]=u}function co(i,o){for(var u=-1,c=o.length,_=A(c),y=i==null;++u<c;)_[u]=y?e:Yo(i,o[u]);return _}function Fr(i,o,u){return i===i&&(u!==e&&(i=i<=u?i:u),o!==e&&(i=i>=o?i:o)),i}function Oe(i,o,u,c,_,y){var x,R=o&v,w=o&g,G=o&T;if(u&&(x=_?u(i,c,_,y):u(i)),x!==e)return x;if(!Bt(i))return i;var S=it(i);if(S){if(x=pg(i),!R)return pe(i,x)}else{var B=se(i),H=B==yt||B==Nt;if(Cr(i))return Fh(i,R);if(B==er||B==lt||H&&!_){if(x=w||H?{}:ef(i),!R)return w?ng(i,wv(x,i)):rg(i,ch(x,i))}else{if(!Pt[B])return _?i:{};x=_g(i,B,R)}}y||(y=new Me);var $=y.get(i);if($)return $;y.set(i,x),Uf(i)?i.forEach(function(K){x.add(Oe(K,o,u,K,i,y))}):Nf(i)&&i.forEach(function(K,pt){x.set(pt,Oe(K,o,u,pt,i,y))});var Z=G?w?Lo:Oo:w?ve:te,at=S?e:Z(i);return Ne(at||i,function(K,pt){at&&(pt=K,K=i[pt]),On(x,pt,Oe(K,o,u,pt,i,y))}),x}function Cv(i){var o=te(i);return function(u){return dh(u,i,o)}}function dh(i,o,u){var c=u.length;if(i==null)return!c;for(i=At(i);c--;){var _=u[c],y=o[_],x=i[_];if(x===e&&!(_ in i)||!y(x))return!1}return!0}function ph(i,o,u){if(typeof i!="function")throw new Pe(h);return Xn(function(){i.apply(e,u)},o)}function Ln(i,o,u,c){var _=-1,y=_i,x=!0,R=i.length,w=[],G=o.length;if(!R)return w;u&&(o=St(o,Te(u))),c?(y=Js,x=!1):o.length>=s&&(y=wn,x=!1,o=new Sr(o));t:for(;++_<R;){var S=i[_],B=u==null?S:u(S);if(S=c||S!==0?S:0,x&&B===B){for(var H=G;H--;)if(o[H]===B)continue t;w.push(S)}else y(o,B,c)||w.push(S)}return w}var Rr=Hh($e),_h=Hh(_o,!0);function Av(i,o){var u=!0;return Rr(i,function(c,_,y){return u=!!o(c,_,y),u}),u}function Li(i,o,u){for(var c=-1,_=i.length;++c<_;){var y=i[c],x=o(y);if(x!=null&&(R===e?x===x&&!xe(x):u(x,R)))var R=x,w=y}return w}function Nv(i,o,u,c){var _=i.length;for(u=st(u),u<0&&(u=-u>_?0:_+u),c=c===e||c>_?_:st(c),c<0&&(c+=_),c=u>c?0:Lf(c);u<c;)i[u++]=o;return i}function vh(i,o){var u=[];return Rr(i,function(c,_,y){o(c,_,y)&&u.push(c)}),u}function re(i,o,u,c,_){var y=-1,x=i.length;for(u||(u=gg),_||(_=[]);++y<x;){var R=i[y];o>0&&u(R)?o>1?re(R,o-1,u,c,_):Tr(_,R):c||(_[_.length]=R)}return _}var po=kh(),gh=kh(!0);function $e(i,o){return i&&po(i,o,te)}function _o(i,o){return i&&gh(i,o,te)}function Gi(i,o){return yr(o,function(u){return ur(i[u])})}function Br(i,o){o=br(o,i);for(var u=0,c=o.length;i!=null&&u<c;)i=i[je(o[u++])];return u&&u==c?i:e}function mh(i,o,u){var c=o(i);return it(i)?c:Tr(c,u(i))}function ue(i){return i==null?i===e?ip:tr:Lr&&Lr in At(i)?lg(i):Ig(i)}function vo(i,o){return i>o}function Pv(i,o){return i!=null&&It.call(i,o)}function Uv(i,o){return i!=null&&o in At(i)}function Ov(i,o,u){return i>=ie(o,u)&&i<Jt(o,u)}function go(i,o,u){for(var c=u?Js:_i,_=i[0].length,y=i.length,x=y,R=A(y),w=1/0,G=[];x--;){var S=i[x];x&&o&&(S=St(S,Te(o))),w=ie(S.length,w),R[x]=!u&&(o||_>=120&&S.length>=120)?new Sr(x&&S):e}S=i[0];var B=-1,H=R[0];t:for(;++B<_&&G.length<w;){var $=S[B],Z=o?o($):$;if($=u||$!==0?$:0,!(H?wn(H,Z):c(G,Z,u))){for(x=y;--x;){var at=R[x];if(!(at?wn(at,Z):c(i[x],Z,u)))continue t}H&&H.push(Z),G.push($)}}return G}function Lv(i,o,u,c){return $e(i,function(_,y,x){o(c,u(_),y,x)}),c}function Gn(i,o,u){o=br(o,i),i=of(i,o);var c=i==null?i:i[je(Ge(o))];return c==null?e:ye(c,i,u)}function yh(i){return Dt(i)&&ue(i)==lt}function Gv(i){return Dt(i)&&ue(i)==bn}function Sv(i){return Dt(i)&&ue(i)==Ct}function Sn(i,o,u,c,_){return i===o?!0:i==null||o==null||!Dt(i)&&!Dt(o)?i!==i&&o!==o:Fv(i,o,u,c,Sn,_)}function Fv(i,o,u,c,_,y){var x=it(i),R=it(o),w=x?ot:se(i),G=R?ot:se(o);w=w==lt?er:w,G=G==lt?er:G;var S=w==er,B=G==er,H=w==G;if(H&&Cr(i)){if(!Cr(o))return!1;x=!0,S=!1}if(H&&!S)return y||(y=new Me),x||cn(i)?Jh(i,o,u,c,_,y):hg(i,o,w,u,c,_,y);if(!(u&E)){var $=S&&It.call(i,"__wrapped__"),Z=B&&It.call(o,"__wrapped__");if($||Z){var at=$?i.value():i,K=Z?o.value():o;return y||(y=new Me),_(at,K,u,c,y)}}return H?(y||(y=new Me),fg(i,o,u,c,_,y)):!1}function Bv(i){return Dt(i)&&se(i)==Rt}function mo(i,o,u,c){var _=u.length,y=_,x=!c;if(i==null)return!y;for(i=At(i);_--;){var R=u[_];if(x&&R[2]?R[1]!==i[R[0]]:!(R[0]in i))return!1}for(;++_<y;){R=u[_];var w=R[0],G=i[w],S=R[1];if(x&&R[2]){if(G===e&&!(w in i))return!1}else{var B=new Me;if(c)var H=c(G,S,w,i,o,B);if(!(H===e?Sn(S,G,E|C,c,B):H))return!1}}return!0}function Th(i){if(!Bt(i)||yg(i))return!1;var o=ur(i)?B_:Cp;return o.test(Xr(i))}function Mv(i){return Dt(i)&&ue(i)==xn}function Xv(i){return Dt(i)&&se(i)==Fe}function Dv(i){return Dt(i)&&Ki(i.length)&&!!Lt[ue(i)]}function Eh(i){return typeof i=="function"?i:i==null?ge:typeof i=="object"?it(i)?Ih(i[0],i[1]):Rh(i):Wf(i)}function yo(i){if(!Mn(i))return V_(i);var o=[];for(var u in At(i))It.call(i,u)&&u!="constructor"&&o.push(u);return o}function Hv(i){if(!Bt(i))return Rg(i);var o=Mn(i),u=[];for(var c in i)c=="constructor"&&(o||!It.call(i,c))||u.push(c);return u}function To(i,o){return i<o}function xh(i,o){var u=-1,c=_e(i)?A(i.length):[];return Rr(i,function(_,y,x){c[++u]=o(_,y,x)}),c}function Rh(i){var o=So(i);return o.length==1&&o[0][2]?nf(o[0][0],o[0][1]):function(u){return u===i||mo(u,i,o)}}function Ih(i,o){return Bo(i)&&rf(o)?nf(je(i),o):function(u){var c=Yo(u,i);return c===e&&c===o?jo(u,i):Sn(o,c,E|C)}}function Si(i,o,u,c,_){i!==o&&po(o,function(y,x){if(_||(_=new Me),Bt(y))kv(i,o,x,u,Si,c,_);else{var R=c?c(Xo(i,x),y,x+"",i,o,_):e;R===e&&(R=y),lo(i,x,R)}},ve)}function kv(i,o,u,c,_,y,x){var R=Xo(i,u),w=Xo(o,u),G=x.get(w);if(G){lo(i,u,G);return}var S=y?y(R,w,u+"",i,o,x):e,B=S===e;if(B){var H=it(w),$=!H&&Cr(w),Z=!H&&!$&&cn(w);S=w,H||$||Z?it(R)?S=R:zt(R)?S=pe(R):$?(B=!1,S=Fh(w,!0)):Z?(B=!1,S=Bh(w,!0)):S=[]:Dn(w)||Dr(w)?(S=R,Dr(R)?S=Gf(R):(!Bt(R)||ur(R))&&(S=ef(w))):B=!1}B&&(x.set(w,S),_(S,w,c,y,x),x.delete(w)),lo(i,u,S)}function bh(i,o){var u=i.length;if(!!u)return o+=o<0?u:0,ar(o,u)?i[o]:e}function wh(i,o,u){o.length?o=St(o,function(y){return it(y)?function(x){return Br(x,y.length===1?y[0]:y)}:y}):o=[ge];var c=-1;o=St(o,Te(q()));var _=xh(i,function(y,x,R){var w=St(o,function(G){return G(y)});return{criteria:w,index:++c,value:y}});return __(_,function(y,x){return eg(y,x,u)})}function Vv(i,o){return Ch(i,o,function(u,c){return jo(i,c)})}function Ch(i,o,u){for(var c=-1,_=o.length,y={};++c<_;){var x=o[c],R=Br(i,x);u(R,x)&&Fn(y,br(x,i),R)}return y}function Wv(i){return function(o){return Br(o,i)}}function Eo(i,o,u,c){var _=c?p_:tn,y=-1,x=o.length,R=i;for(i===o&&(o=pe(o)),u&&(R=St(i,Te(u)));++y<x;)for(var w=0,G=o[y],S=u?u(G):G;(w=_(R,S,w,c))>-1;)R!==i&&bi.call(R,w,1),bi.call(i,w,1);return i}function Ah(i,o){for(var u=i?o.length:0,c=u-1;u--;){var _=o[u];if(u==c||_!==y){var y=_;ar(_)?bi.call(i,_,1):bo(i,_)}}return i}function xo(i,o){return i+Ai(uh()*(o-i+1))}function zv(i,o,u,c){for(var _=-1,y=Jt(Ci((o-i)/(u||1)),0),x=A(y);y--;)x[c?y:++_]=i,i+=u;return x}function Ro(i,o){var u="";if(!i||o<1||o>ne)return u;do o%2&&(u+=i),o=Ai(o/2),o&&(i+=i);while(o);return u}function ht(i,o){return Do(sf(i,o,ge),i+"")}function $v(i){return lh(dn(i))}function Yv(i,o){var u=dn(i);return zi(u,Fr(o,0,u.length))}function Fn(i,o,u,c){if(!Bt(i))return i;o=br(o,i);for(var _=-1,y=o.length,x=y-1,R=i;R!=null&&++_<y;){var w=je(o[_]),G=u;if(w==="__proto__"||w==="constructor"||w==="prototype")return i;if(_!=x){var S=R[w];G=c?c(S,w,R):e,G===e&&(G=Bt(S)?S:ar(o[_+1])?[]:{})}On(R,w,G),R=R[w]}return i}var Nh=Ni?function(i,o){return Ni.set(i,o),i}:ge,jv=wi?function(i,o){return wi(i,"toString",{configurable:!0,enumerable:!1,value:Zo(o),writable:!0})}:ge;function qv(i){return zi(dn(i))}function Le(i,o,u){var c=-1,_=i.length;o<0&&(o=-o>_?0:_+o),u=u>_?_:u,u<0&&(u+=_),_=o>u?0:u-o>>>0,o>>>=0;for(var y=A(_);++c<_;)y[c]=i[c+o];return y}function Zv(i,o){var u;return Rr(i,function(c,_,y){return u=o(c,_,y),!u}),!!u}function Fi(i,o,u){var c=0,_=i==null?c:i.length;if(typeof o=="number"&&o===o&&_<=J){for(;c<_;){var y=c+_>>>1,x=i[y];x!==null&&!xe(x)&&(u?x<=o:x<o)?c=y+1:_=y}return _}return Io(i,o,ge,u)}function Io(i,o,u,c){var _=0,y=i==null?0:i.length;if(y===0)return 0;o=u(o);for(var x=o!==o,R=o===null,w=xe(o),G=o===e;_<y;){var S=Ai((_+y)/2),B=u(i[S]),H=B!==e,$=B===null,Z=B===B,at=xe(B);if(x)var K=c||Z;else G?K=Z&&(c||H):R?K=Z&&H&&(c||!$):w?K=Z&&H&&!$&&(c||!at):$||at?K=!1:K=c?B<=o:B<o;K?_=S+1:y=S}return ie(y,W)}function Ph(i,o){for(var u=-1,c=i.length,_=0,y=[];++u<c;){var x=i[u],R=o?o(x):x;if(!u||!Xe(R,w)){var w=R;y[_++]=x===0?0:x}}return y}function Uh(i){return typeof i=="number"?i:xe(i)?L:+i}function Ee(i){if(typeof i=="string")return i;if(it(i))return St(i,Ee)+"";if(xe(i))return hh?hh.call(i):"";var o=i+"";return o=="0"&&1/i==-Yt?"-0":o}function Ir(i,o,u){var c=-1,_=_i,y=i.length,x=!0,R=[],w=R;if(u)x=!1,_=Js;else if(y>=s){var G=o?null:ag(i);if(G)return gi(G);x=!1,_=wn,w=new Sr}else w=o?[]:R;t:for(;++c<y;){var S=i[c],B=o?o(S):S;if(S=u||S!==0?S:0,x&&B===B){for(var H=w.length;H--;)if(w[H]===B)continue t;o&&w.push(B),R.push(S)}else _(w,B,u)||(w!==R&&w.push(B),R.push(S))}return R}function bo(i,o){return o=br(o,i),i=of(i,o),i==null||delete i[je(Ge(o))]}function Oh(i,o,u,c){return Fn(i,o,u(Br(i,o)),c)}function Bi(i,o,u,c){for(var _=i.length,y=c?_:-1;(c?y--:++y<_)&&o(i[y],y,i););return u?Le(i,c?0:y,c?y+1:_):Le(i,c?y+1:0,c?_:y)}function Lh(i,o){var u=i;return u instanceof _t&&(u=u.value()),Qs(o,function(c,_){return _.func.apply(_.thisArg,Tr([c],_.args))},u)}function wo(i,o,u){var c=i.length;if(c<2)return c?Ir(i[0]):[];for(var _=-1,y=A(c);++_<c;)for(var x=i[_],R=-1;++R<c;)R!=_&&(y[_]=Ln(y[_]||x,i[R],o,u));return Ir(re(y,1),o,u)}function Gh(i,o,u){for(var c=-1,_=i.length,y=o.length,x={};++c<_;){var R=c<y?o[c]:e;u(x,i[c],R)}return x}function Co(i){return zt(i)?i:[]}function Ao(i){return typeof i=="function"?i:ge}function br(i,o){return it(i)?i:Bo(i,o)?[i]:ff(Tt(i))}var Kv=ht;function wr(i,o,u){var c=i.length;return u=u===e?c:u,!o&&u>=c?i:Le(i,o,u)}var Sh=M_||function(i){return ee.clearTimeout(i)};function Fh(i,o){if(o)return i.slice();var u=i.length,c=nh?nh(u):new i.constructor(u);return i.copy(c),c}function No(i){var o=new i.constructor(i.byteLength);return new Ri(o).set(new Ri(i)),o}function Jv(i,o){var u=o?No(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)}function Qv(i){var o=new i.constructor(i.source,yu.exec(i));return o.lastIndex=i.lastIndex,o}function tg(i){return Un?At(Un.call(i)):{}}function Bh(i,o){var u=o?No(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)}function Mh(i,o){if(i!==o){var u=i!==e,c=i===null,_=i===i,y=xe(i),x=o!==e,R=o===null,w=o===o,G=xe(o);if(!R&&!G&&!y&&i>o||y&&x&&w&&!R&&!G||c&&x&&w||!u&&w||!_)return 1;if(!c&&!y&&!G&&i<o||G&&u&&_&&!c&&!y||R&&u&&_||!x&&_||!w)return-1}return 0}function eg(i,o,u){for(var c=-1,_=i.criteria,y=o.criteria,x=_.length,R=u.length;++c<x;){var w=Mh(_[c],y[c]);if(w){if(c>=R)return w;var G=u[c];return w*(G=="desc"?-1:1)}}return i.index-o.index}function Xh(i,o,u,c){for(var _=-1,y=i.length,x=u.length,R=-1,w=o.length,G=Jt(y-x,0),S=A(w+G),B=!c;++R<w;)S[R]=o[R];for(;++_<x;)(B||_<y)&&(S[u[_]]=i[_]);for(;G--;)S[R++]=i[_++];return S}function Dh(i,o,u,c){for(var _=-1,y=i.length,x=-1,R=u.length,w=-1,G=o.length,S=Jt(y-R,0),B=A(S+G),H=!c;++_<S;)B[_]=i[_];for(var $=_;++w<G;)B[$+w]=o[w];for(;++x<R;)(H||_<y)&&(B[$+u[x]]=i[_++]);return B}function pe(i,o){var u=-1,c=i.length;for(o||(o=A(c));++u<c;)o[u]=i[u];return o}function Ye(i,o,u,c){var _=!u;u||(u={});for(var y=-1,x=o.length;++y<x;){var R=o[y],w=c?c(u[R],i[R],R,u,i):e;w===e&&(w=i[R]),_?ir(u,R,w):On(u,R,w)}return u}function rg(i,o){return Ye(i,Fo(i),o)}function ng(i,o){return Ye(i,Qh(i),o)}function Mi(i,o){return function(u,c){var _=it(u)?u_:bv,y=o?o():{};return _(u,i,q(c,2),y)}}function hn(i){return ht(function(o,u){var c=-1,_=u.length,y=_>1?u[_-1]:e,x=_>2?u[2]:e;for(y=i.length>3&&typeof y=="function"?(_--,y):e,x&&he(u[0],u[1],x)&&(y=_<3?e:y,_=1),o=At(o);++c<_;){var R=u[c];R&&i(o,R,c,y)}return o})}function Hh(i,o){return function(u,c){if(u==null)return u;if(!_e(u))return i(u,c);for(var _=u.length,y=o?_:-1,x=At(u);(o?y--:++y<_)&&c(x[y],y,x)!==!1;);return u}}function kh(i){return function(o,u,c){for(var _=-1,y=At(o),x=c(o),R=x.length;R--;){var w=x[i?R:++_];if(u(y[w],w,y)===!1)break}return o}}function ig(i,o,u){var c=o&I,_=Bn(i);function y(){var x=this&&this!==ee&&this instanceof y?_:i;return x.apply(c?u:this,arguments)}return y}function Vh(i){return function(o){o=Tt(o);var u=en(o)?Be(o):e,c=u?u[0]:o.charAt(0),_=u?wr(u,1).join(""):o.slice(1);return c[i]()+_}}function fn(i){return function(o){return Qs(kf(Hf(o).replace(jp,"")),i,"")}}function Bn(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=un(i.prototype),c=i.apply(u,o);return Bt(c)?c:u}}function sg(i,o,u){var c=Bn(i);function _(){for(var y=arguments.length,x=A(y),R=y,w=ln(_);R--;)x[R]=arguments[R];var G=y<3&&x[0]!==w&&x[y-1]!==w?[]:Er(x,w);if(y-=G.length,y<u)return jh(i,o,Xi,_.placeholder,e,x,G,e,e,u-y);var S=this&&this!==ee&&this instanceof _?c:i;return ye(S,this,x)}return _}function Wh(i){return function(o,u,c){var _=At(o);if(!_e(o)){var y=q(u,3);o=te(o),u=function(R){return y(_[R],R,_)}}var x=i(o,u,c);return x>-1?_[y?o[x]:x]:e}}function zh(i){return or(function(o){var u=o.length,c=u,_=Ue.prototype.thru;for(i&&o.reverse();c--;){var y=o[c];if(typeof y!="function")throw new Pe(h);if(_&&!x&&Vi(y)=="wrapper")var x=new Ue([],!0)}for(c=x?c:u;++c<u;){y=o[c];var R=Vi(y),w=R=="wrapper"?Go(y):e;w&&Mo(w[0])&&w[1]==(Y|P|M|z)&&!w[4].length&&w[9]==1?x=x[Vi(w[0])].apply(x,w[3]):x=y.length==1&&Mo(y)?x[R]():x.thru(y)}return function(){var G=arguments,S=G[0];if(x&&G.length==1&&it(S))return x.plant(S).value();for(var B=0,H=u?o[B].apply(this,G):S;++B<u;)H=o[B].call(this,H);return H}})}function Xi(i,o,u,c,_,y,x,R,w,G){var S=o&Y,B=o&I,H=o&N,$=o&(P|U),Z=o&tt,at=H?e:Bn(i);function K(){for(var pt=arguments.length,vt=A(pt),Re=pt;Re--;)vt[Re]=arguments[Re];if($)var fe=ln(K),Ie=g_(vt,fe);if(c&&(vt=Xh(vt,c,_,$)),y&&(vt=Dh(vt,y,x,$)),pt-=Ie,$&&pt<G){var $t=Er(vt,fe);return jh(i,o,Xi,K.placeholder,u,vt,$t,R,w,G-pt)}var De=B?u:this,fr=H?De[i]:i;return pt=vt.length,R?vt=bg(vt,R):Z&&pt>1&&vt.reverse(),S&&w<pt&&(vt.length=w),this&&this!==ee&&this instanceof K&&(fr=at||Bn(fr)),fr.apply(De,vt)}return K}function $h(i,o){return function(u,c){return Lv(u,i,o(c),{})}}function Di(i,o){return function(u,c){var _;if(u===e&&c===e)return o;if(u!==e&&(_=u),c!==e){if(_===e)return c;typeof u=="string"||typeof c=="string"?(u=Ee(u),c=Ee(c)):(u=Uh(u),c=Uh(c)),_=i(u,c)}return _}}function Po(i){return or(function(o){return o=St(o,Te(q())),ht(function(u){var c=this;return i(o,function(_){return ye(_,c,u)})})})}function Hi(i,o){o=o===e?" ":Ee(o);var u=o.length;if(u<2)return u?Ro(o,i):o;var c=Ro(o,Ci(i/rn(o)));return en(o)?wr(Be(c),0,i).join(""):c.slice(0,i)}function og(i,o,u,c){var _=o&I,y=Bn(i);function x(){for(var R=-1,w=arguments.length,G=-1,S=c.length,B=A(S+w),H=this&&this!==ee&&this instanceof x?y:i;++G<S;)B[G]=c[G];for(;w--;)B[G++]=arguments[++R];return ye(H,_?u:this,B)}return x}function Yh(i){return function(o,u,c){return c&&typeof c!="number"&&he(o,u,c)&&(u=c=e),o=hr(o),u===e?(u=o,o=0):u=hr(u),c=c===e?o<u?1:-1:hr(c),zv(o,u,c,i)}}function ki(i){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=Se(o),u=Se(u)),i(o,u)}}function jh(i,o,u,c,_,y,x,R,w,G){var S=o&P,B=S?x:e,H=S?e:x,$=S?y:e,Z=S?e:y;o|=S?M:k,o&=~(S?k:M),o&F||(o&=~(I|N));var at=[i,o,_,$,B,Z,H,R,w,G],K=u.apply(e,at);return Mo(i)&&af(K,at),K.placeholder=c,uf(K,i,o)}function Uo(i){var o=Kt[i];return function(u,c){if(u=Se(u),c=c==null?0:ie(st(c),292),c&&ah(u)){var _=(Tt(u)+"e").split("e"),y=o(_[0]+"e"+(+_[1]+c));return _=(Tt(y)+"e").split("e"),+(_[0]+"e"+(+_[1]-c))}return o(u)}}var ag=on&&1/gi(new on([,-0]))[1]==Yt?function(i){return new on(i)}:Qo;function qh(i){return function(o){var u=se(o);return u==Rt?oo(o):u==Fe?I_(o):v_(o,i(o))}}function sr(i,o,u,c,_,y,x,R){var w=o&N;if(!w&&typeof i!="function")throw new Pe(h);var G=c?c.length:0;if(G||(o&=~(M|k),c=_=e),x=x===e?x:Jt(st(x),0),R=R===e?R:st(R),G-=_?_.length:0,o&k){var S=c,B=_;c=_=e}var H=w?e:Go(i),$=[i,o,u,c,_,S,B,y,x,R];if(H&&xg($,H),i=$[0],o=$[1],u=$[2],c=$[3],_=$[4],R=$[9]=$[9]===e?w?0:i.length:Jt($[9]-G,0),!R&&o&(P|U)&&(o&=~(P|U)),!o||o==I)var Z=ig(i,o,u);else o==P||o==U?Z=sg(i,o,R):(o==M||o==(I|M))&&!_.length?Z=og(i,o,u,c):Z=Xi.apply(e,$);var at=H?Nh:af;return uf(at(Z,$),i,o)}function Zh(i,o,u,c){return i===e||Xe(i,sn[u])&&!It.call(c,u)?o:i}function Kh(i,o,u,c,_,y){return Bt(i)&&Bt(o)&&(y.set(o,i),Si(i,o,e,Kh,y),y.delete(o)),i}function ug(i){return Dn(i)?e:i}function Jh(i,o,u,c,_,y){var x=u&E,R=i.length,w=o.length;if(R!=w&&!(x&&w>R))return!1;var G=y.get(i),S=y.get(o);if(G&&S)return G==o&&S==i;var B=-1,H=!0,$=u&C?new Sr:e;for(y.set(i,o),y.set(o,i);++B<R;){var Z=i[B],at=o[B];if(c)var K=x?c(at,Z,B,o,i,y):c(Z,at,B,i,o,y);if(K!==e){if(K)continue;H=!1;break}if($){if(!to(o,function(pt,vt){if(!wn($,vt)&&(Z===pt||_(Z,pt,u,c,y)))return $.push(vt)})){H=!1;break}}else if(!(Z===at||_(Z,at,u,c,y))){H=!1;break}}return y.delete(i),y.delete(o),H}function hg(i,o,u,c,_,y,x){switch(u){case Jr:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case bn:return!(i.byteLength!=o.byteLength||!y(new Ri(i),new Ri(o)));case xt:case Ct:case Wt:return Xe(+i,+o);case ct:return i.name==o.name&&i.message==o.message;case xn:case Rn:return i==o+"";case Rt:var R=oo;case Fe:var w=c&E;if(R||(R=gi),i.size!=o.size&&!w)return!1;var G=x.get(i);if(G)return G==o;c|=C,x.set(i,o);var S=Jh(R(i),R(o),c,_,y,x);return x.delete(i),S;case li:if(Un)return Un.call(i)==Un.call(o)}return!1}function fg(i,o,u,c,_,y){var x=u&E,R=Oo(i),w=R.length,G=Oo(o),S=G.length;if(w!=S&&!x)return!1;for(var B=w;B--;){var H=R[B];if(!(x?H in o:It.call(o,H)))return!1}var $=y.get(i),Z=y.get(o);if($&&Z)return $==o&&Z==i;var at=!0;y.set(i,o),y.set(o,i);for(var K=x;++B<w;){H=R[B];var pt=i[H],vt=o[H];if(c)var Re=x?c(vt,pt,H,o,i,y):c(pt,vt,H,i,o,y);if(!(Re===e?pt===vt||_(pt,vt,u,c,y):Re)){at=!1;break}K||(K=H=="constructor")}if(at&&!K){var fe=i.constructor,Ie=o.constructor;fe!=Ie&&"constructor"in i&&"constructor"in o&&!(typeof fe=="function"&&fe instanceof fe&&typeof Ie=="function"&&Ie instanceof Ie)&&(at=!1)}return y.delete(i),y.delete(o),at}function or(i){return Do(sf(i,e,pf),i+"")}function Oo(i){return mh(i,te,Fo)}function Lo(i){return mh(i,ve,Qh)}var Go=Ni?function(i){return Ni.get(i)}:Qo;function Vi(i){for(var o=i.name+"",u=an[o],c=It.call(an,o)?u.length:0;c--;){var _=u[c],y=_.func;if(y==null||y==i)return _.name}return o}function ln(i){var o=It.call(m,"placeholder")?m:i;return o.placeholder}function q(){var i=m.iteratee||Ko;return i=i===Ko?Eh:i,arguments.length?i(arguments[0],arguments[1]):i}function Wi(i,o){var u=i.__data__;return mg(o)?u[typeof o=="string"?"string":"hash"]:u.map}function So(i){for(var o=te(i),u=o.length;u--;){var c=o[u],_=i[c];o[u]=[c,_,rf(_)]}return o}function Mr(i,o){var u=E_(i,o);return Th(u)?u:e}function lg(i){var o=It.call(i,Lr),u=i[Lr];try{i[Lr]=e;var c=!0}catch{}var _=Ei.call(i);return c&&(o?i[Lr]=u:delete i[Lr]),_}var Fo=uo?function(i){return i==null?[]:(i=At(i),yr(uo(i),function(o){return sh.call(i,o)}))}:ta,Qh=uo?function(i){for(var o=[];i;)Tr(o,Fo(i)),i=Ii(i);return o}:ta,se=ue;(ho&&se(new ho(new ArrayBuffer(1)))!=Jr||An&&se(new An)!=Rt||fo&&se(fo.resolve())!=_u||on&&se(new on)!=Fe||Nn&&se(new Nn)!=In)&&(se=function(i){var o=ue(i),u=o==er?i.constructor:e,c=u?Xr(u):"";if(c)switch(c){case Y_:return Jr;case j_:return Rt;case q_:return _u;case Z_:return Fe;case K_:return In}return o});function cg(i,o,u){for(var c=-1,_=u.length;++c<_;){var y=u[c],x=y.size;switch(y.type){case"drop":i+=x;break;case"dropRight":o-=x;break;case"take":o=ie(o,i+x);break;case"takeRight":i=Jt(i,o-x);break}}return{start:i,end:o}}function dg(i){var o=i.match(yp);return o?o[1].split(Tp):[]}function tf(i,o,u){o=br(o,i);for(var c=-1,_=o.length,y=!1;++c<_;){var x=je(o[c]);if(!(y=i!=null&&u(i,x)))break;i=i[x]}return y||++c!=_?y:(_=i==null?0:i.length,!!_&&Ki(_)&&ar(x,_)&&(it(i)||Dr(i)))}function pg(i){var o=i.length,u=new i.constructor(o);return o&&typeof i[0]=="string"&&It.call(i,"index")&&(u.index=i.index,u.input=i.input),u}function ef(i){return typeof i.constructor=="function"&&!Mn(i)?un(Ii(i)):{}}function _g(i,o,u){var c=i.constructor;switch(o){case bn:return No(i);case xt:case Ct:return new c(+i);case Jr:return Jv(i,u);case Gs:case Ss:case Fs:case Bs:case Ms:case Xs:case Ds:case Hs:case ks:return Bh(i,u);case Rt:return new c;case Wt:case Rn:return new c(i);case xn:return Qv(i);case Fe:return new c;case li:return tg(i)}}function vg(i,o){var u=o.length;if(!u)return i;var c=u-1;return o[c]=(u>1?"& ":"")+o[c],o=o.join(u>2?", ":" "),i.replace(mp,`{
/* [wrapped with `+o+`] */
`)}function gg(i){return it(i)||Dr(i)||!!(oh&&i&&i[oh])}function ar(i,o){var u=typeof i;return o=o==null?ne:o,!!o&&(u=="number"||u!="symbol"&&Np.test(i))&&i>-1&&i%1==0&&i<o}function he(i,o,u){if(!Bt(u))return!1;var c=typeof o;return(c=="number"?_e(u)&&ar(o,u.length):c=="string"&&o in u)?Xe(u[o],i):!1}function Bo(i,o){if(it(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||xe(i)?!0:pp.test(i)||!dp.test(i)||o!=null&&i in At(o)}function mg(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Mo(i){var o=Vi(i),u=m[o];if(typeof u!="function"||!(o in _t.prototype))return!1;if(i===u)return!0;var c=Go(u);return!!c&&i===c[0]}function yg(i){return!!rh&&rh in i}var Tg=yi?ur:ea;function Mn(i){var o=i&&i.constructor,u=typeof o=="function"&&o.prototype||sn;return i===u}function rf(i){return i===i&&!Bt(i)}function nf(i,o){return function(u){return u==null?!1:u[i]===o&&(o!==e||i in At(u))}}function Eg(i){var o=qi(i,function(c){return u.size===d&&u.clear(),c}),u=o.cache;return o}function xg(i,o){var u=i[1],c=o[1],_=u|c,y=_<(I|N|Y),x=c==Y&&u==P||c==Y&&u==z&&i[7].length<=o[8]||c==(Y|z)&&o[7].length<=o[8]&&u==P;if(!(y||x))return i;c&I&&(i[2]=o[2],_|=u&I?0:F);var R=o[3];if(R){var w=i[3];i[3]=w?Xh(w,R,o[4]):R,i[4]=w?Er(i[3],p):o[4]}return R=o[5],R&&(w=i[5],i[5]=w?Dh(w,R,o[6]):R,i[6]=w?Er(i[5],p):o[6]),R=o[7],R&&(i[7]=R),c&Y&&(i[8]=i[8]==null?o[8]:ie(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=_,i}function Rg(i){var o=[];if(i!=null)for(var u in At(i))o.push(u);return o}function Ig(i){return Ei.call(i)}function sf(i,o,u){return o=Jt(o===e?i.length-1:o,0),function(){for(var c=arguments,_=-1,y=Jt(c.length-o,0),x=A(y);++_<y;)x[_]=c[o+_];_=-1;for(var R=A(o+1);++_<o;)R[_]=c[_];return R[o]=u(x),ye(i,this,R)}}function of(i,o){return o.length<2?i:Br(i,Le(o,0,-1))}function bg(i,o){for(var u=i.length,c=ie(o.length,u),_=pe(i);c--;){var y=o[c];i[c]=ar(y,u)?_[y]:e}return i}function Xo(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var af=hf(Nh),Xn=D_||function(i,o){return ee.setTimeout(i,o)},Do=hf(jv);function uf(i,o,u){var c=o+"";return Do(i,vg(c,wg(dg(c),u)))}function hf(i){var o=0,u=0;return function(){var c=W_(),_=gt-(c-u);if(u=c,_>0){if(++o>=Ot)return arguments[0]}else o=0;return i.apply(e,arguments)}}function zi(i,o){var u=-1,c=i.length,_=c-1;for(o=o===e?c:o;++u<o;){var y=xo(u,_),x=i[y];i[y]=i[u],i[u]=x}return i.length=o,i}var ff=Eg(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(_p,function(u,c,_,y){o.push(_?y.replace(Rp,"$1"):c||u)}),o});function je(i){if(typeof i=="string"||xe(i))return i;var o=i+"";return o=="0"&&1/i==-Yt?"-0":o}function Xr(i){if(i!=null){try{return Ti.call(i)}catch{}try{return i+""}catch{}}return""}function wg(i,o){return Ne(et,function(u){var c="_."+u[0];o&u[1]&&!_i(i,c)&&i.push(c)}),i.sort()}function lf(i){if(i instanceof _t)return i.clone();var o=new Ue(i.__wrapped__,i.__chain__);return o.__actions__=pe(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function Cg(i,o,u){(u?he(i,o,u):o===e)?o=1:o=Jt(st(o),0);var c=i==null?0:i.length;if(!c||o<1)return[];for(var _=0,y=0,x=A(Ci(c/o));_<c;)x[y++]=Le(i,_,_+=o);return x}function Ag(i){for(var o=-1,u=i==null?0:i.length,c=0,_=[];++o<u;){var y=i[o];y&&(_[c++]=y)}return _}function Ng(){var i=arguments.length;if(!i)return[];for(var o=A(i-1),u=arguments[0],c=i;c--;)o[c-1]=arguments[c];return Tr(it(u)?pe(u):[u],re(o,1))}var Pg=ht(function(i,o){return zt(i)?Ln(i,re(o,1,zt,!0)):[]}),Ug=ht(function(i,o){var u=Ge(o);return zt(u)&&(u=e),zt(i)?Ln(i,re(o,1,zt,!0),q(u,2)):[]}),Og=ht(function(i,o){var u=Ge(o);return zt(u)&&(u=e),zt(i)?Ln(i,re(o,1,zt,!0),e,u):[]});function Lg(i,o,u){var c=i==null?0:i.length;return c?(o=u||o===e?1:st(o),Le(i,o<0?0:o,c)):[]}function Gg(i,o,u){var c=i==null?0:i.length;return c?(o=u||o===e?1:st(o),o=c-o,Le(i,0,o<0?0:o)):[]}function Sg(i,o){return i&&i.length?Bi(i,q(o,3),!0,!0):[]}function Fg(i,o){return i&&i.length?Bi(i,q(o,3),!0):[]}function Bg(i,o,u,c){var _=i==null?0:i.length;return _?(u&&typeof u!="number"&&he(i,o,u)&&(u=0,c=_),Nv(i,o,u,c)):[]}function cf(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var _=u==null?0:st(u);return _<0&&(_=Jt(c+_,0)),vi(i,q(o,3),_)}function df(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var _=c-1;return u!==e&&(_=st(u),_=u<0?Jt(c+_,0):ie(_,c-1)),vi(i,q(o,3),_,!0)}function pf(i){var o=i==null?0:i.length;return o?re(i,1):[]}function Mg(i){var o=i==null?0:i.length;return o?re(i,Yt):[]}function Xg(i,o){var u=i==null?0:i.length;return u?(o=o===e?1:st(o),re(i,o)):[]}function Dg(i){for(var o=-1,u=i==null?0:i.length,c={};++o<u;){var _=i[o];c[_[0]]=_[1]}return c}function _f(i){return i&&i.length?i[0]:e}function Hg(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var _=u==null?0:st(u);return _<0&&(_=Jt(c+_,0)),tn(i,o,_)}function kg(i){var o=i==null?0:i.length;return o?Le(i,0,-1):[]}var Vg=ht(function(i){var o=St(i,Co);return o.length&&o[0]===i[0]?go(o):[]}),Wg=ht(function(i){var o=Ge(i),u=St(i,Co);return o===Ge(u)?o=e:u.pop(),u.length&&u[0]===i[0]?go(u,q(o,2)):[]}),zg=ht(function(i){var o=Ge(i),u=St(i,Co);return o=typeof o=="function"?o:e,o&&u.pop(),u.length&&u[0]===i[0]?go(u,e,o):[]});function $g(i,o){return i==null?"":k_.call(i,o)}function Ge(i){var o=i==null?0:i.length;return o?i[o-1]:e}function Yg(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var _=c;return u!==e&&(_=st(u),_=_<0?Jt(c+_,0):ie(_,c-1)),o===o?w_(i,o,_):vi(i,ju,_,!0)}function jg(i,o){return i&&i.length?bh(i,st(o)):e}var qg=ht(vf);function vf(i,o){return i&&i.length&&o&&o.length?Eo(i,o):i}function Zg(i,o,u){return i&&i.length&&o&&o.length?Eo(i,o,q(u,2)):i}function Kg(i,o,u){return i&&i.length&&o&&o.length?Eo(i,o,e,u):i}var Jg=or(function(i,o){var u=i==null?0:i.length,c=co(i,o);return Ah(i,St(o,function(_){return ar(_,u)?+_:_}).sort(Mh)),c});function Qg(i,o){var u=[];if(!(i&&i.length))return u;var c=-1,_=[],y=i.length;for(o=q(o,3);++c<y;){var x=i[c];o(x,c,i)&&(u.push(x),_.push(c))}return Ah(i,_),u}function Ho(i){return i==null?i:$_.call(i)}function t0(i,o,u){var c=i==null?0:i.length;return c?(u&&typeof u!="number"&&he(i,o,u)?(o=0,u=c):(o=o==null?0:st(o),u=u===e?c:st(u)),Le(i,o,u)):[]}function e0(i,o){return Fi(i,o)}function r0(i,o,u){return Io(i,o,q(u,2))}function n0(i,o){var u=i==null?0:i.length;if(u){var c=Fi(i,o);if(c<u&&Xe(i[c],o))return c}return-1}function i0(i,o){return Fi(i,o,!0)}function s0(i,o,u){return Io(i,o,q(u,2),!0)}function o0(i,o){var u=i==null?0:i.length;if(u){var c=Fi(i,o,!0)-1;if(Xe(i[c],o))return c}return-1}function a0(i){return i&&i.length?Ph(i):[]}function u0(i,o){return i&&i.length?Ph(i,q(o,2)):[]}function h0(i){var o=i==null?0:i.length;return o?Le(i,1,o):[]}function f0(i,o,u){return i&&i.length?(o=u||o===e?1:st(o),Le(i,0,o<0?0:o)):[]}function l0(i,o,u){var c=i==null?0:i.length;return c?(o=u||o===e?1:st(o),o=c-o,Le(i,o<0?0:o,c)):[]}function c0(i,o){return i&&i.length?Bi(i,q(o,3),!1,!0):[]}function d0(i,o){return i&&i.length?Bi(i,q(o,3)):[]}var p0=ht(function(i){return Ir(re(i,1,zt,!0))}),_0=ht(function(i){var o=Ge(i);return zt(o)&&(o=e),Ir(re(i,1,zt,!0),q(o,2))}),v0=ht(function(i){var o=Ge(i);return o=typeof o=="function"?o:e,Ir(re(i,1,zt,!0),e,o)});function g0(i){return i&&i.length?Ir(i):[]}function m0(i,o){return i&&i.length?Ir(i,q(o,2)):[]}function y0(i,o){return o=typeof o=="function"?o:e,i&&i.length?Ir(i,e,o):[]}function ko(i){if(!(i&&i.length))return[];var o=0;return i=yr(i,function(u){if(zt(u))return o=Jt(u.length,o),!0}),io(o,function(u){return St(i,eo(u))})}function gf(i,o){if(!(i&&i.length))return[];var u=ko(i);return o==null?u:St(u,function(c){return ye(o,e,c)})}var T0=ht(function(i,o){return zt(i)?Ln(i,o):[]}),E0=ht(function(i){return wo(yr(i,zt))}),x0=ht(function(i){var o=Ge(i);return zt(o)&&(o=e),wo(yr(i,zt),q(o,2))}),R0=ht(function(i){var o=Ge(i);return o=typeof o=="function"?o:e,wo(yr(i,zt),e,o)}),I0=ht(ko);function b0(i,o){return Gh(i||[],o||[],On)}function w0(i,o){return Gh(i||[],o||[],Fn)}var C0=ht(function(i){var o=i.length,u=o>1?i[o-1]:e;return u=typeof u=="function"?(i.pop(),u):e,gf(i,u)});function mf(i){var o=m(i);return o.__chain__=!0,o}function A0(i,o){return o(i),i}function $i(i,o){return o(i)}var N0=or(function(i){var o=i.length,u=o?i[0]:0,c=this.__wrapped__,_=function(y){return co(y,i)};return o>1||this.__actions__.length||!(c instanceof _t)||!ar(u)?this.thru(_):(c=c.slice(u,+u+(o?1:0)),c.__actions__.push({func:$i,args:[_],thisArg:e}),new Ue(c,this.__chain__).thru(function(y){return o&&!y.length&&y.push(e),y}))});function P0(){return mf(this)}function U0(){return new Ue(this.value(),this.__chain__)}function O0(){this.__values__===e&&(this.__values__=Of(this.value()));var i=this.__index__>=this.__values__.length,o=i?e:this.__values__[this.__index__++];return{done:i,value:o}}function L0(){return this}function G0(i){for(var o,u=this;u instanceof Ui;){var c=lf(u);c.__index__=0,c.__values__=e,o?_.__wrapped__=c:o=c;var _=c;u=u.__wrapped__}return _.__wrapped__=i,o}function S0(){var i=this.__wrapped__;if(i instanceof _t){var o=i;return this.__actions__.length&&(o=new _t(this)),o=o.reverse(),o.__actions__.push({func:$i,args:[Ho],thisArg:e}),new Ue(o,this.__chain__)}return this.thru(Ho)}function F0(){return Lh(this.__wrapped__,this.__actions__)}var B0=Mi(function(i,o,u){It.call(i,u)?++i[u]:ir(i,u,1)});function M0(i,o,u){var c=it(i)?$u:Av;return u&&he(i,o,u)&&(o=e),c(i,q(o,3))}function X0(i,o){var u=it(i)?yr:vh;return u(i,q(o,3))}var D0=Wh(cf),H0=Wh(df);function k0(i,o){return re(Yi(i,o),1)}function V0(i,o){return re(Yi(i,o),Yt)}function W0(i,o,u){return u=u===e?1:st(u),re(Yi(i,o),u)}function yf(i,o){var u=it(i)?Ne:Rr;return u(i,q(o,3))}function Tf(i,o){var u=it(i)?h_:_h;return u(i,q(o,3))}var z0=Mi(function(i,o,u){It.call(i,u)?i[u].push(o):ir(i,u,[o])});function $0(i,o,u,c){i=_e(i)?i:dn(i),u=u&&!c?st(u):0;var _=i.length;return u<0&&(u=Jt(_+u,0)),Ji(i)?u<=_&&i.indexOf(o,u)>-1:!!_&&tn(i,o,u)>-1}var Y0=ht(function(i,o,u){var c=-1,_=typeof o=="function",y=_e(i)?A(i.length):[];return Rr(i,function(x){y[++c]=_?ye(o,x,u):Gn(x,o,u)}),y}),j0=Mi(function(i,o,u){ir(i,u,o)});function Yi(i,o){var u=it(i)?St:xh;return u(i,q(o,3))}function q0(i,o,u,c){return i==null?[]:(it(o)||(o=o==null?[]:[o]),u=c?e:u,it(u)||(u=u==null?[]:[u]),wh(i,o,u))}var Z0=Mi(function(i,o,u){i[u?0:1].push(o)},function(){return[[],[]]});function K0(i,o,u){var c=it(i)?Qs:Zu,_=arguments.length<3;return c(i,q(o,4),u,_,Rr)}function J0(i,o,u){var c=it(i)?f_:Zu,_=arguments.length<3;return c(i,q(o,4),u,_,_h)}function Q0(i,o){var u=it(i)?yr:vh;return u(i,Zi(q(o,3)))}function tm(i){var o=it(i)?lh:$v;return o(i)}function em(i,o,u){(u?he(i,o,u):o===e)?o=1:o=st(o);var c=it(i)?Rv:Yv;return c(i,o)}function rm(i){var o=it(i)?Iv:qv;return o(i)}function nm(i){if(i==null)return 0;if(_e(i))return Ji(i)?rn(i):i.length;var o=se(i);return o==Rt||o==Fe?i.size:yo(i).length}function im(i,o,u){var c=it(i)?to:Zv;return u&&he(i,o,u)&&(o=e),c(i,q(o,3))}var sm=ht(function(i,o){if(i==null)return[];var u=o.length;return u>1&&he(i,o[0],o[1])?o=[]:u>2&&he(o[0],o[1],o[2])&&(o=[o[0]]),wh(i,re(o,1),[])}),ji=X_||function(){return ee.Date.now()};function om(i,o){if(typeof o!="function")throw new Pe(h);return i=st(i),function(){if(--i<1)return o.apply(this,arguments)}}function Ef(i,o,u){return o=u?e:o,o=i&&o==null?i.length:o,sr(i,Y,e,e,e,e,o)}function xf(i,o){var u;if(typeof o!="function")throw new Pe(h);return i=st(i),function(){return--i>0&&(u=o.apply(this,arguments)),i<=1&&(o=e),u}}var Vo=ht(function(i,o,u){var c=I;if(u.length){var _=Er(u,ln(Vo));c|=M}return sr(i,c,o,u,_)}),Rf=ht(function(i,o,u){var c=I|N;if(u.length){var _=Er(u,ln(Rf));c|=M}return sr(o,c,i,u,_)});function If(i,o,u){o=u?e:o;var c=sr(i,P,e,e,e,e,e,o);return c.placeholder=If.placeholder,c}function bf(i,o,u){o=u?e:o;var c=sr(i,U,e,e,e,e,e,o);return c.placeholder=bf.placeholder,c}function wf(i,o,u){var c,_,y,x,R,w,G=0,S=!1,B=!1,H=!0;if(typeof i!="function")throw new Pe(h);o=Se(o)||0,Bt(u)&&(S=!!u.leading,B="maxWait"in u,y=B?Jt(Se(u.maxWait)||0,o):y,H="trailing"in u?!!u.trailing:H);function $($t){var De=c,fr=_;return c=_=e,G=$t,x=i.apply(fr,De),x}function Z($t){return G=$t,R=Xn(pt,o),S?$($t):x}function at($t){var De=$t-w,fr=$t-G,zf=o-De;return B?ie(zf,y-fr):zf}function K($t){var De=$t-w,fr=$t-G;return w===e||De>=o||De<0||B&&fr>=y}function pt(){var $t=ji();if(K($t))return vt($t);R=Xn(pt,at($t))}function vt($t){return R=e,H&&c?$($t):(c=_=e,x)}function Re(){R!==e&&Sh(R),G=0,c=w=_=R=e}function fe(){return R===e?x:vt(ji())}function Ie(){var $t=ji(),De=K($t);if(c=arguments,_=this,w=$t,De){if(R===e)return Z(w);if(B)return Sh(R),R=Xn(pt,o),$(w)}return R===e&&(R=Xn(pt,o)),x}return Ie.cancel=Re,Ie.flush=fe,Ie}var am=ht(function(i,o){return ph(i,1,o)}),um=ht(function(i,o,u){return ph(i,Se(o)||0,u)});function hm(i){return sr(i,tt)}function qi(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new Pe(h);var u=function(){var c=arguments,_=o?o.apply(this,c):c[0],y=u.cache;if(y.has(_))return y.get(_);var x=i.apply(this,c);return u.cache=y.set(_,x)||y,x};return u.cache=new(qi.Cache||nr),u}qi.Cache=nr;function Zi(i){if(typeof i!="function")throw new Pe(h);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function fm(i){return xf(2,i)}var lm=Kv(function(i,o){o=o.length==1&&it(o[0])?St(o[0],Te(q())):St(re(o,1),Te(q()));var u=o.length;return ht(function(c){for(var _=-1,y=ie(c.length,u);++_<y;)c[_]=o[_].call(this,c[_]);return ye(i,this,c)})}),Wo=ht(function(i,o){var u=Er(o,ln(Wo));return sr(i,M,e,o,u)}),Cf=ht(function(i,o){var u=Er(o,ln(Cf));return sr(i,k,e,o,u)}),cm=or(function(i,o){return sr(i,z,e,e,e,o)});function dm(i,o){if(typeof i!="function")throw new Pe(h);return o=o===e?o:st(o),ht(i,o)}function pm(i,o){if(typeof i!="function")throw new Pe(h);return o=o==null?0:Jt(st(o),0),ht(function(u){var c=u[o],_=wr(u,0,o);return c&&Tr(_,c),ye(i,this,_)})}function _m(i,o,u){var c=!0,_=!0;if(typeof i!="function")throw new Pe(h);return Bt(u)&&(c="leading"in u?!!u.leading:c,_="trailing"in u?!!u.trailing:_),wf(i,o,{leading:c,maxWait:o,trailing:_})}function vm(i){return Ef(i,1)}function gm(i,o){return Wo(Ao(o),i)}function mm(){if(!arguments.length)return[];var i=arguments[0];return it(i)?i:[i]}function ym(i){return Oe(i,T)}function Tm(i,o){return o=typeof o=="function"?o:e,Oe(i,T,o)}function Em(i){return Oe(i,v|T)}function xm(i,o){return o=typeof o=="function"?o:e,Oe(i,v|T,o)}function Rm(i,o){return o==null||dh(i,o,te(o))}function Xe(i,o){return i===o||i!==i&&o!==o}var Im=ki(vo),bm=ki(function(i,o){return i>=o}),Dr=yh(function(){return arguments}())?yh:function(i){return Dt(i)&&It.call(i,"callee")&&!sh.call(i,"callee")},it=A.isArray,wm=Du?Te(Du):Gv;function _e(i){return i!=null&&Ki(i.length)&&!ur(i)}function zt(i){return Dt(i)&&_e(i)}function Cm(i){return i===!0||i===!1||Dt(i)&&ue(i)==xt}var Cr=H_||ea,Am=Hu?Te(Hu):Sv;function Nm(i){return Dt(i)&&i.nodeType===1&&!Dn(i)}function Pm(i){if(i==null)return!0;if(_e(i)&&(it(i)||typeof i=="string"||typeof i.splice=="function"||Cr(i)||cn(i)||Dr(i)))return!i.length;var o=se(i);if(o==Rt||o==Fe)return!i.size;if(Mn(i))return!yo(i).length;for(var u in i)if(It.call(i,u))return!1;return!0}function Um(i,o){return Sn(i,o)}function Om(i,o,u){u=typeof u=="function"?u:e;var c=u?u(i,o):e;return c===e?Sn(i,o,e,u):!!c}function zo(i){if(!Dt(i))return!1;var o=ue(i);return o==ct||o==Vt||typeof i.message=="string"&&typeof i.name=="string"&&!Dn(i)}function Lm(i){return typeof i=="number"&&ah(i)}function ur(i){if(!Bt(i))return!1;var o=ue(i);return o==yt||o==Nt||o==Et||o==np}function Af(i){return typeof i=="number"&&i==st(i)}function Ki(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ne}function Bt(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function Dt(i){return i!=null&&typeof i=="object"}var Nf=ku?Te(ku):Bv;function Gm(i,o){return i===o||mo(i,o,So(o))}function Sm(i,o,u){return u=typeof u=="function"?u:e,mo(i,o,So(o),u)}function Fm(i){return Pf(i)&&i!=+i}function Bm(i){if(Tg(i))throw new nt(a);return Th(i)}function Mm(i){return i===null}function Xm(i){return i==null}function Pf(i){return typeof i=="number"||Dt(i)&&ue(i)==Wt}function Dn(i){if(!Dt(i)||ue(i)!=er)return!1;var o=Ii(i);if(o===null)return!0;var u=It.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&Ti.call(u)==S_}var $o=Vu?Te(Vu):Mv;function Dm(i){return Af(i)&&i>=-ne&&i<=ne}var Uf=Wu?Te(Wu):Xv;function Ji(i){return typeof i=="string"||!it(i)&&Dt(i)&&ue(i)==Rn}function xe(i){return typeof i=="symbol"||Dt(i)&&ue(i)==li}var cn=zu?Te(zu):Dv;function Hm(i){return i===e}function km(i){return Dt(i)&&se(i)==In}function Vm(i){return Dt(i)&&ue(i)==sp}var Wm=ki(To),zm=ki(function(i,o){return i<=o});function Of(i){if(!i)return[];if(_e(i))return Ji(i)?Be(i):pe(i);if(Cn&&i[Cn])return R_(i[Cn]());var o=se(i),u=o==Rt?oo:o==Fe?gi:dn;return u(i)}function hr(i){if(!i)return i===0?i:0;if(i=Se(i),i===Yt||i===-Yt){var o=i<0?-1:1;return o*jt}return i===i?i:0}function st(i){var o=hr(i),u=o%1;return o===o?u?o-u:o:0}function Lf(i){return i?Fr(st(i),0,X):0}function Se(i){if(typeof i=="number")return i;if(xe(i))return L;if(Bt(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=Bt(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Ku(i);var u=wp.test(i);return u||Ap.test(i)?o_(i.slice(2),u?2:8):bp.test(i)?L:+i}function Gf(i){return Ye(i,ve(i))}function $m(i){return i?Fr(st(i),-ne,ne):i===0?i:0}function Tt(i){return i==null?"":Ee(i)}var Ym=hn(function(i,o){if(Mn(o)||_e(o)){Ye(o,te(o),i);return}for(var u in o)It.call(o,u)&&On(i,u,o[u])}),Sf=hn(function(i,o){Ye(o,ve(o),i)}),Qi=hn(function(i,o,u,c){Ye(o,ve(o),i,c)}),jm=hn(function(i,o,u,c){Ye(o,te(o),i,c)}),qm=or(co);function Zm(i,o){var u=un(i);return o==null?u:ch(u,o)}var Km=ht(function(i,o){i=At(i);var u=-1,c=o.length,_=c>2?o[2]:e;for(_&&he(o[0],o[1],_)&&(c=1);++u<c;)for(var y=o[u],x=ve(y),R=-1,w=x.length;++R<w;){var G=x[R],S=i[G];(S===e||Xe(S,sn[G])&&!It.call(i,G))&&(i[G]=y[G])}return i}),Jm=ht(function(i){return i.push(e,Kh),ye(Ff,e,i)});function Qm(i,o){return Yu(i,q(o,3),$e)}function ty(i,o){return Yu(i,q(o,3),_o)}function ey(i,o){return i==null?i:po(i,q(o,3),ve)}function ry(i,o){return i==null?i:gh(i,q(o,3),ve)}function ny(i,o){return i&&$e(i,q(o,3))}function iy(i,o){return i&&_o(i,q(o,3))}function sy(i){return i==null?[]:Gi(i,te(i))}function oy(i){return i==null?[]:Gi(i,ve(i))}function Yo(i,o,u){var c=i==null?e:Br(i,o);return c===e?u:c}function ay(i,o){return i!=null&&tf(i,o,Pv)}function jo(i,o){return i!=null&&tf(i,o,Uv)}var uy=$h(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=Ei.call(o)),i[o]=u},Zo(ge)),hy=$h(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=Ei.call(o)),It.call(i,o)?i[o].push(u):i[o]=[u]},q),fy=ht(Gn);function te(i){return _e(i)?fh(i):yo(i)}function ve(i){return _e(i)?fh(i,!0):Hv(i)}function ly(i,o){var u={};return o=q(o,3),$e(i,function(c,_,y){ir(u,o(c,_,y),c)}),u}function cy(i,o){var u={};return o=q(o,3),$e(i,function(c,_,y){ir(u,_,o(c,_,y))}),u}var dy=hn(function(i,o,u){Si(i,o,u)}),Ff=hn(function(i,o,u,c){Si(i,o,u,c)}),py=or(function(i,o){var u={};if(i==null)return u;var c=!1;o=St(o,function(y){return y=br(y,i),c||(c=y.length>1),y}),Ye(i,Lo(i),u),c&&(u=Oe(u,v|g|T,ug));for(var _=o.length;_--;)bo(u,o[_]);return u});function _y(i,o){return Bf(i,Zi(q(o)))}var vy=or(function(i,o){return i==null?{}:Vv(i,o)});function Bf(i,o){if(i==null)return{};var u=St(Lo(i),function(c){return[c]});return o=q(o),Ch(i,u,function(c,_){return o(c,_[0])})}function gy(i,o,u){o=br(o,i);var c=-1,_=o.length;for(_||(_=1,i=e);++c<_;){var y=i==null?e:i[je(o[c])];y===e&&(c=_,y=u),i=ur(y)?y.call(i):y}return i}function my(i,o,u){return i==null?i:Fn(i,o,u)}function yy(i,o,u,c){return c=typeof c=="function"?c:e,i==null?i:Fn(i,o,u,c)}var Mf=qh(te),Xf=qh(ve);function Ty(i,o,u){var c=it(i),_=c||Cr(i)||cn(i);if(o=q(o,4),u==null){var y=i&&i.constructor;_?u=c?new y:[]:Bt(i)?u=ur(y)?un(Ii(i)):{}:u={}}return(_?Ne:$e)(i,function(x,R,w){return o(u,x,R,w)}),u}function Ey(i,o){return i==null?!0:bo(i,o)}function xy(i,o,u){return i==null?i:Oh(i,o,Ao(u))}function Ry(i,o,u,c){return c=typeof c=="function"?c:e,i==null?i:Oh(i,o,Ao(u),c)}function dn(i){return i==null?[]:so(i,te(i))}function Iy(i){return i==null?[]:so(i,ve(i))}function by(i,o,u){return u===e&&(u=o,o=e),u!==e&&(u=Se(u),u=u===u?u:0),o!==e&&(o=Se(o),o=o===o?o:0),Fr(Se(i),o,u)}function wy(i,o,u){return o=hr(o),u===e?(u=o,o=0):u=hr(u),i=Se(i),Ov(i,o,u)}function Cy(i,o,u){if(u&&typeof u!="boolean"&&he(i,o,u)&&(o=u=e),u===e&&(typeof o=="boolean"?(u=o,o=e):typeof i=="boolean"&&(u=i,i=e)),i===e&&o===e?(i=0,o=1):(i=hr(i),o===e?(o=i,i=0):o=hr(o)),i>o){var c=i;i=o,o=c}if(u||i%1||o%1){var _=uh();return ie(i+_*(o-i+s_("1e-"+((_+"").length-1))),o)}return xo(i,o)}var Ay=fn(function(i,o,u){return o=o.toLowerCase(),i+(u?Df(o):o)});function Df(i){return qo(Tt(i).toLowerCase())}function Hf(i){return i=Tt(i),i&&i.replace(Pp,m_).replace(qp,"")}function Ny(i,o,u){i=Tt(i),o=Ee(o);var c=i.length;u=u===e?c:Fr(st(u),0,c);var _=u;return u-=o.length,u>=0&&i.slice(u,_)==o}function Py(i){return i=Tt(i),i&&fp.test(i)?i.replace(gu,y_):i}function Uy(i){return i=Tt(i),i&&vp.test(i)?i.replace(Vs,"\\$&"):i}var Oy=fn(function(i,o,u){return i+(u?"-":"")+o.toLowerCase()}),Ly=fn(function(i,o,u){return i+(u?" ":"")+o.toLowerCase()}),Gy=Vh("toLowerCase");function Sy(i,o,u){i=Tt(i),o=st(o);var c=o?rn(i):0;if(!o||c>=o)return i;var _=(o-c)/2;return Hi(Ai(_),u)+i+Hi(Ci(_),u)}function Fy(i,o,u){i=Tt(i),o=st(o);var c=o?rn(i):0;return o&&c<o?i+Hi(o-c,u):i}function By(i,o,u){i=Tt(i),o=st(o);var c=o?rn(i):0;return o&&c<o?Hi(o-c,u)+i:i}function My(i,o,u){return u||o==null?o=0:o&&(o=+o),z_(Tt(i).replace(Ws,""),o||0)}function Xy(i,o,u){return(u?he(i,o,u):o===e)?o=1:o=st(o),Ro(Tt(i),o)}function Dy(){var i=arguments,o=Tt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var Hy=fn(function(i,o,u){return i+(u?"_":"")+o.toLowerCase()});function ky(i,o,u){return u&&typeof u!="number"&&he(i,o,u)&&(o=u=e),u=u===e?X:u>>>0,u?(i=Tt(i),i&&(typeof o=="string"||o!=null&&!$o(o))&&(o=Ee(o),!o&&en(i))?wr(Be(i),0,u):i.split(o,u)):[]}var Vy=fn(function(i,o,u){return i+(u?" ":"")+qo(o)});function Wy(i,o,u){return i=Tt(i),u=u==null?0:Fr(st(u),0,i.length),o=Ee(o),i.slice(u,u+o.length)==o}function zy(i,o,u){var c=m.templateSettings;u&&he(i,o,u)&&(o=e),i=Tt(i),o=Qi({},o,c,Zh);var _=Qi({},o.imports,c.imports,Zh),y=te(_),x=so(_,y),R,w,G=0,S=o.interpolate||ci,B="__p += '",H=ao((o.escape||ci).source+"|"+S.source+"|"+(S===mu?Ip:ci).source+"|"+(o.evaluate||ci).source+"|$","g"),$="//# sourceURL="+(It.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++t_+"]")+`
`;i.replace(H,function(K,pt,vt,Re,fe,Ie){return vt||(vt=Re),B+=i.slice(G,Ie).replace(Up,T_),pt&&(R=!0,B+=`' +
__e(`+pt+`) +
'`),fe&&(w=!0,B+=`';
`+fe+`;
__p += '`),vt&&(B+=`' +
((__t = (`+vt+`)) == null ? '' : __t) +
'`),G=Ie+K.length,K}),B+=`';
`;var Z=It.call(o,"variable")&&o.variable;if(!Z)B=`with (obj) {
`+B+`
}
`;else if(xp.test(Z))throw new nt(f);B=(w?B.replace(op,""):B).replace(ap,"$1").replace(up,"$1;"),B="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+B+`return __p
}`;var at=Vf(function(){return mt(y,$+"return "+B).apply(e,x)});if(at.source=B,zo(at))throw at;return at}function $y(i){return Tt(i).toLowerCase()}function Yy(i){return Tt(i).toUpperCase()}function jy(i,o,u){if(i=Tt(i),i&&(u||o===e))return Ku(i);if(!i||!(o=Ee(o)))return i;var c=Be(i),_=Be(o),y=Ju(c,_),x=Qu(c,_)+1;return wr(c,y,x).join("")}function qy(i,o,u){if(i=Tt(i),i&&(u||o===e))return i.slice(0,eh(i)+1);if(!i||!(o=Ee(o)))return i;var c=Be(i),_=Qu(c,Be(o))+1;return wr(c,0,_).join("")}function Zy(i,o,u){if(i=Tt(i),i&&(u||o===e))return i.replace(Ws,"");if(!i||!(o=Ee(o)))return i;var c=Be(i),_=Ju(c,Be(o));return wr(c,_).join("")}function Ky(i,o){var u=ft,c=dt;if(Bt(o)){var _="separator"in o?o.separator:_;u="length"in o?st(o.length):u,c="omission"in o?Ee(o.omission):c}i=Tt(i);var y=i.length;if(en(i)){var x=Be(i);y=x.length}if(u>=y)return i;var R=u-rn(c);if(R<1)return c;var w=x?wr(x,0,R).join(""):i.slice(0,R);if(_===e)return w+c;if(x&&(R+=w.length-R),$o(_)){if(i.slice(R).search(_)){var G,S=w;for(_.global||(_=ao(_.source,Tt(yu.exec(_))+"g")),_.lastIndex=0;G=_.exec(S);)var B=G.index;w=w.slice(0,B===e?R:B)}}else if(i.indexOf(Ee(_),R)!=R){var H=w.lastIndexOf(_);H>-1&&(w=w.slice(0,H))}return w+c}function Jy(i){return i=Tt(i),i&&hp.test(i)?i.replace(vu,C_):i}var Qy=fn(function(i,o,u){return i+(u?" ":"")+o.toUpperCase()}),qo=Vh("toUpperCase");function kf(i,o,u){return i=Tt(i),o=u?e:o,o===e?x_(i)?P_(i):d_(i):i.match(o)||[]}var Vf=ht(function(i,o){try{return ye(i,e,o)}catch(u){return zo(u)?u:new nt(u)}}),tT=or(function(i,o){return Ne(o,function(u){u=je(u),ir(i,u,Vo(i[u],i))}),i});function eT(i){var o=i==null?0:i.length,u=q();return i=o?St(i,function(c){if(typeof c[1]!="function")throw new Pe(h);return[u(c[0]),c[1]]}):[],ht(function(c){for(var _=-1;++_<o;){var y=i[_];if(ye(y[0],this,c))return ye(y[1],this,c)}})}function rT(i){return Cv(Oe(i,v))}function Zo(i){return function(){return i}}function nT(i,o){return i==null||i!==i?o:i}var iT=zh(),sT=zh(!0);function ge(i){return i}function Ko(i){return Eh(typeof i=="function"?i:Oe(i,v))}function oT(i){return Rh(Oe(i,v))}function aT(i,o){return Ih(i,Oe(o,v))}var uT=ht(function(i,o){return function(u){return Gn(u,i,o)}}),hT=ht(function(i,o){return function(u){return Gn(i,u,o)}});function Jo(i,o,u){var c=te(o),_=Gi(o,c);u==null&&!(Bt(o)&&(_.length||!c.length))&&(u=o,o=i,i=this,_=Gi(o,te(o)));var y=!(Bt(u)&&"chain"in u)||!!u.chain,x=ur(i);return Ne(_,function(R){var w=o[R];i[R]=w,x&&(i.prototype[R]=function(){var G=this.__chain__;if(y||G){var S=i(this.__wrapped__),B=S.__actions__=pe(this.__actions__);return B.push({func:w,args:arguments,thisArg:i}),S.__chain__=G,S}return w.apply(i,Tr([this.value()],arguments))})}),i}function fT(){return ee._===this&&(ee._=F_),this}function Qo(){}function lT(i){return i=st(i),ht(function(o){return bh(o,i)})}var cT=Po(St),dT=Po($u),pT=Po(to);function Wf(i){return Bo(i)?eo(je(i)):Wv(i)}function _T(i){return function(o){return i==null?e:Br(i,o)}}var vT=Yh(),gT=Yh(!0);function ta(){return[]}function ea(){return!1}function mT(){return{}}function yT(){return""}function TT(){return!0}function ET(i,o){if(i=st(i),i<1||i>ne)return[];var u=X,c=ie(i,X);o=q(o),i-=X;for(var _=io(c,o);++u<i;)o(u);return _}function xT(i){return it(i)?St(i,je):xe(i)?[i]:pe(ff(Tt(i)))}function RT(i){var o=++G_;return Tt(i)+o}var IT=Di(function(i,o){return i+o},0),bT=Uo("ceil"),wT=Di(function(i,o){return i/o},1),CT=Uo("floor");function AT(i){return i&&i.length?Li(i,ge,vo):e}function NT(i,o){return i&&i.length?Li(i,q(o,2),vo):e}function PT(i){return qu(i,ge)}function UT(i,o){return qu(i,q(o,2))}function OT(i){return i&&i.length?Li(i,ge,To):e}function LT(i,o){return i&&i.length?Li(i,q(o,2),To):e}var GT=Di(function(i,o){return i*o},1),ST=Uo("round"),FT=Di(function(i,o){return i-o},0);function BT(i){return i&&i.length?no(i,ge):0}function MT(i,o){return i&&i.length?no(i,q(o,2)):0}return m.after=om,m.ary=Ef,m.assign=Ym,m.assignIn=Sf,m.assignInWith=Qi,m.assignWith=jm,m.at=qm,m.before=xf,m.bind=Vo,m.bindAll=tT,m.bindKey=Rf,m.castArray=mm,m.chain=mf,m.chunk=Cg,m.compact=Ag,m.concat=Ng,m.cond=eT,m.conforms=rT,m.constant=Zo,m.countBy=B0,m.create=Zm,m.curry=If,m.curryRight=bf,m.debounce=wf,m.defaults=Km,m.defaultsDeep=Jm,m.defer=am,m.delay=um,m.difference=Pg,m.differenceBy=Ug,m.differenceWith=Og,m.drop=Lg,m.dropRight=Gg,m.dropRightWhile=Sg,m.dropWhile=Fg,m.fill=Bg,m.filter=X0,m.flatMap=k0,m.flatMapDeep=V0,m.flatMapDepth=W0,m.flatten=pf,m.flattenDeep=Mg,m.flattenDepth=Xg,m.flip=hm,m.flow=iT,m.flowRight=sT,m.fromPairs=Dg,m.functions=sy,m.functionsIn=oy,m.groupBy=z0,m.initial=kg,m.intersection=Vg,m.intersectionBy=Wg,m.intersectionWith=zg,m.invert=uy,m.invertBy=hy,m.invokeMap=Y0,m.iteratee=Ko,m.keyBy=j0,m.keys=te,m.keysIn=ve,m.map=Yi,m.mapKeys=ly,m.mapValues=cy,m.matches=oT,m.matchesProperty=aT,m.memoize=qi,m.merge=dy,m.mergeWith=Ff,m.method=uT,m.methodOf=hT,m.mixin=Jo,m.negate=Zi,m.nthArg=lT,m.omit=py,m.omitBy=_y,m.once=fm,m.orderBy=q0,m.over=cT,m.overArgs=lm,m.overEvery=dT,m.overSome=pT,m.partial=Wo,m.partialRight=Cf,m.partition=Z0,m.pick=vy,m.pickBy=Bf,m.property=Wf,m.propertyOf=_T,m.pull=qg,m.pullAll=vf,m.pullAllBy=Zg,m.pullAllWith=Kg,m.pullAt=Jg,m.range=vT,m.rangeRight=gT,m.rearg=cm,m.reject=Q0,m.remove=Qg,m.rest=dm,m.reverse=Ho,m.sampleSize=em,m.set=my,m.setWith=yy,m.shuffle=rm,m.slice=t0,m.sortBy=sm,m.sortedUniq=a0,m.sortedUniqBy=u0,m.split=ky,m.spread=pm,m.tail=h0,m.take=f0,m.takeRight=l0,m.takeRightWhile=c0,m.takeWhile=d0,m.tap=A0,m.throttle=_m,m.thru=$i,m.toArray=Of,m.toPairs=Mf,m.toPairsIn=Xf,m.toPath=xT,m.toPlainObject=Gf,m.transform=Ty,m.unary=vm,m.union=p0,m.unionBy=_0,m.unionWith=v0,m.uniq=g0,m.uniqBy=m0,m.uniqWith=y0,m.unset=Ey,m.unzip=ko,m.unzipWith=gf,m.update=xy,m.updateWith=Ry,m.values=dn,m.valuesIn=Iy,m.without=T0,m.words=kf,m.wrap=gm,m.xor=E0,m.xorBy=x0,m.xorWith=R0,m.zip=I0,m.zipObject=b0,m.zipObjectDeep=w0,m.zipWith=C0,m.entries=Mf,m.entriesIn=Xf,m.extend=Sf,m.extendWith=Qi,Jo(m,m),m.add=IT,m.attempt=Vf,m.camelCase=Ay,m.capitalize=Df,m.ceil=bT,m.clamp=by,m.clone=ym,m.cloneDeep=Em,m.cloneDeepWith=xm,m.cloneWith=Tm,m.conformsTo=Rm,m.deburr=Hf,m.defaultTo=nT,m.divide=wT,m.endsWith=Ny,m.eq=Xe,m.escape=Py,m.escapeRegExp=Uy,m.every=M0,m.find=D0,m.findIndex=cf,m.findKey=Qm,m.findLast=H0,m.findLastIndex=df,m.findLastKey=ty,m.floor=CT,m.forEach=yf,m.forEachRight=Tf,m.forIn=ey,m.forInRight=ry,m.forOwn=ny,m.forOwnRight=iy,m.get=Yo,m.gt=Im,m.gte=bm,m.has=ay,m.hasIn=jo,m.head=_f,m.identity=ge,m.includes=$0,m.indexOf=Hg,m.inRange=wy,m.invoke=fy,m.isArguments=Dr,m.isArray=it,m.isArrayBuffer=wm,m.isArrayLike=_e,m.isArrayLikeObject=zt,m.isBoolean=Cm,m.isBuffer=Cr,m.isDate=Am,m.isElement=Nm,m.isEmpty=Pm,m.isEqual=Um,m.isEqualWith=Om,m.isError=zo,m.isFinite=Lm,m.isFunction=ur,m.isInteger=Af,m.isLength=Ki,m.isMap=Nf,m.isMatch=Gm,m.isMatchWith=Sm,m.isNaN=Fm,m.isNative=Bm,m.isNil=Xm,m.isNull=Mm,m.isNumber=Pf,m.isObject=Bt,m.isObjectLike=Dt,m.isPlainObject=Dn,m.isRegExp=$o,m.isSafeInteger=Dm,m.isSet=Uf,m.isString=Ji,m.isSymbol=xe,m.isTypedArray=cn,m.isUndefined=Hm,m.isWeakMap=km,m.isWeakSet=Vm,m.join=$g,m.kebabCase=Oy,m.last=Ge,m.lastIndexOf=Yg,m.lowerCase=Ly,m.lowerFirst=Gy,m.lt=Wm,m.lte=zm,m.max=AT,m.maxBy=NT,m.mean=PT,m.meanBy=UT,m.min=OT,m.minBy=LT,m.stubArray=ta,m.stubFalse=ea,m.stubObject=mT,m.stubString=yT,m.stubTrue=TT,m.multiply=GT,m.nth=jg,m.noConflict=fT,m.noop=Qo,m.now=ji,m.pad=Sy,m.padEnd=Fy,m.padStart=By,m.parseInt=My,m.random=Cy,m.reduce=K0,m.reduceRight=J0,m.repeat=Xy,m.replace=Dy,m.result=gy,m.round=ST,m.runInContext=b,m.sample=tm,m.size=nm,m.snakeCase=Hy,m.some=im,m.sortedIndex=e0,m.sortedIndexBy=r0,m.sortedIndexOf=n0,m.sortedLastIndex=i0,m.sortedLastIndexBy=s0,m.sortedLastIndexOf=o0,m.startCase=Vy,m.startsWith=Wy,m.subtract=FT,m.sum=BT,m.sumBy=MT,m.template=zy,m.times=ET,m.toFinite=hr,m.toInteger=st,m.toLength=Lf,m.toLower=$y,m.toNumber=Se,m.toSafeInteger=$m,m.toString=Tt,m.toUpper=Yy,m.trim=jy,m.trimEnd=qy,m.trimStart=Zy,m.truncate=Ky,m.unescape=Jy,m.uniqueId=RT,m.upperCase=Qy,m.upperFirst=qo,m.each=yf,m.eachRight=Tf,m.first=_f,Jo(m,function(){var i={};return $e(m,function(o,u){It.call(m.prototype,u)||(i[u]=o)}),i}(),{chain:!1}),m.VERSION=n,Ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){m[i].placeholder=m}),Ne(["drop","take"],function(i,o){_t.prototype[i]=function(u){u=u===e?1:Jt(st(u),0);var c=this.__filtered__&&!o?new _t(this):this.clone();return c.__filtered__?c.__takeCount__=ie(u,c.__takeCount__):c.__views__.push({size:ie(u,X),type:i+(c.__dir__<0?"Right":"")}),c},_t.prototype[i+"Right"]=function(u){return this.reverse()[i](u).reverse()}}),Ne(["filter","map","takeWhile"],function(i,o){var u=o+1,c=u==bt||u==Ft;_t.prototype[i]=function(_){var y=this.clone();return y.__iteratees__.push({iteratee:q(_,3),type:u}),y.__filtered__=y.__filtered__||c,y}}),Ne(["head","last"],function(i,o){var u="take"+(o?"Right":"");_t.prototype[i]=function(){return this[u](1).value()[0]}}),Ne(["initial","tail"],function(i,o){var u="drop"+(o?"":"Right");_t.prototype[i]=function(){return this.__filtered__?new _t(this):this[u](1)}}),_t.prototype.compact=function(){return this.filter(ge)},_t.prototype.find=function(i){return this.filter(i).head()},_t.prototype.findLast=function(i){return this.reverse().find(i)},_t.prototype.invokeMap=ht(function(i,o){return typeof i=="function"?new _t(this):this.map(function(u){return Gn(u,i,o)})}),_t.prototype.reject=function(i){return this.filter(Zi(q(i)))},_t.prototype.slice=function(i,o){i=st(i);var u=this;return u.__filtered__&&(i>0||o<0)?new _t(u):(i<0?u=u.takeRight(-i):i&&(u=u.drop(i)),o!==e&&(o=st(o),u=o<0?u.dropRight(-o):u.take(o-i)),u)},_t.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},_t.prototype.toArray=function(){return this.take(X)},$e(_t.prototype,function(i,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),c=/^(?:head|last)$/.test(o),_=m[c?"take"+(o=="last"?"Right":""):o],y=c||/^find/.test(o);!_||(m.prototype[o]=function(){var x=this.__wrapped__,R=c?[1]:arguments,w=x instanceof _t,G=R[0],S=w||it(x),B=function(pt){var vt=_.apply(m,Tr([pt],R));return c&&H?vt[0]:vt};S&&u&&typeof G=="function"&&G.length!=1&&(w=S=!1);var H=this.__chain__,$=!!this.__actions__.length,Z=y&&!H,at=w&&!$;if(!y&&S){x=at?x:new _t(this);var K=i.apply(x,R);return K.__actions__.push({func:$i,args:[B],thisArg:e}),new Ue(K,H)}return Z&&at?i.apply(this,R):(K=this.thru(B),Z?c?K.value()[0]:K.value():K)})}),Ne(["pop","push","shift","sort","splice","unshift"],function(i){var o=mi[i],u=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",c=/^(?:pop|shift)$/.test(i);m.prototype[i]=function(){var _=arguments;if(c&&!this.__chain__){var y=this.value();return o.apply(it(y)?y:[],_)}return this[u](function(x){return o.apply(it(x)?x:[],_)})}}),$e(_t.prototype,function(i,o){var u=m[o];if(u){var c=u.name+"";It.call(an,c)||(an[c]=[]),an[c].push({name:o,func:u})}}),an[Xi(e,N).name]=[{name:"wrapper",func:e}],_t.prototype.clone=J_,_t.prototype.reverse=Q_,_t.prototype.value=tv,m.prototype.at=N0,m.prototype.chain=P0,m.prototype.commit=U0,m.prototype.next=O0,m.prototype.plant=G0,m.prototype.reverse=S0,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=F0,m.prototype.first=m.prototype.head,Cn&&(m.prototype[Cn]=L0),m},nn=U_();Or?((Or.exports=nn)._=nn,Zs._=nn):ee._=nn}).call(le)})(uu,uu.exports);const dd=uu.exports;function WR(t){var e;const r=(e=new URL(window.location.href))==null?void 0:e.searchParams;return r==null?void 0:r.get(t)}var gd;const zR=+((gd=WR("max"))!=null?gd:5)*1e4;let wa=window.innerWidth,pd=window.innerHeight,be=50;const _d=20;let Es=0,vd=0,xs=!1;function $R(){const t=document.querySelector(".pop"),r=new zd({resolution:devicePixelRatio,antialias:!0,resizeTo:window});r.stage.interactive=!0,r.stage.hitArea=r.renderer.screen,r.stage.addListener("mousemove",p=>{var v;if(!xs)if((v=p==null?void 0:p.target)!=null&&v.isSprite){const{clusterId:g,status:T}=p.target._customData;t.innerHTML=`clusterId: ${g} 
 status: ${T}`,t.className=`pop ${T}`,t.style.setProperty("top",`${p.target.y}px`),t.style.setProperty("left",`${p.target.x}px`),t.style.setProperty("display","block")}else t.style.setProperty("display","none"),t.className="pop"}),document.body.appendChild(r.view);const e={resourceOptions:{scale:2}},n={low:de.from(IR,e),middle:de.from(xR,e),high:de.from(RR,e)},s=[...new Array(zR)].map((p,v)=>{const g=["low","middle","high"][BR({min:0,max:2})],T=new iR(n[g]);return T.visible=!1,T.interactive=!1,T._customData={clusterId:kR(),status:g},r.stage.addChild(T),T});function a(){const p=Math.floor(wa/(be+_d)),v=(wa-p*be)/(p-1);s.forEach((g,T)=>{const E=Math.floor(T/p)*(be+_d)+vd;if(E>pd||E<0-be){g.visible=!1,g.interactive=!1;return}const C=T%p*(be+v);g.width=be,g.height=be,g.x=C,g.y=E,g.interactive=!0,g.visible=!0})}function h(p){p.deltaY<0?be*=.95:p.deltaY>0&&(be*=1.05),be<1?be=1:be>100&&(be=100),a()}const f=dd.throttle(h,1e3/30);r.view.addEventListener("wheel",f),window.addEventListener("resize",()=>{wa=window.innerWidth,pd=window.innerHeight,a()}),r.view.addEventListener("mousedown",p=>{Es=p.clientY,xs=!0});function l(p){if(!xs)return;const v=p.clientY;vd+=v-Es,a(),Es=v}const d=dd.throttle(l,1e3/30);r.view.addEventListener("mousemove",d),r.view.addEventListener("mouseup",()=>{Es=0,xs=!1}),a()}$R();
