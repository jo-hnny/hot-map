(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function xb(t){var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){return r.reject(e)})})}function Tb(t){var r=this;return new r(function(e,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return e([]);var o=i.length;function u(f,c){if(c&&(typeof c=="object"||typeof c=="function")){var d=c.then;if(typeof d=="function"){d.call(c,function(p){u(f,p)},function(p){i[f]={status:"rejected",reason:p},--o===0&&e(i)});return}}i[f]={status:"fulfilled",value:c},--o===0&&e(i)}for(var h=0;h<i.length;h++)u(h,i[h])})}var bb=setTimeout;function Fv(t){return Boolean(t&&typeof t.length<"u")}function Ib(){}function Eb(t,r){return function(){t.apply(r,arguments)}}function Qt(t){if(!(this instanceof Qt))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Bv(t,this)}function Gv(t,r){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(r);return}t._handled=!0,Qt._immediateFn(function(){var e=t._state===1?r.onFulfilled:r.onRejected;if(e===null){(t._state===1?Au:Ni)(r.promise,t._value);return}var n;try{n=e(t._value)}catch(i){Ni(r.promise,i);return}Au(r.promise,n)})}function Au(t,r){try{if(r===t)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var e=r.then;if(r instanceof Qt){t._state=3,t._value=r,Pu(t);return}else if(typeof e=="function"){Bv(Eb(e,r),t);return}}t._state=1,t._value=r,Pu(t)}catch(n){Ni(t,n)}}function Ni(t,r){t._state=2,t._value=r,Pu(t)}function Pu(t){t._state===2&&t._deferreds.length===0&&Qt._immediateFn(function(){t._handled||Qt._unhandledRejectionFn(t._value)});for(var r=0,e=t._deferreds.length;r<e;r++)Gv(t,t._deferreds[r]);t._deferreds=null}function Rb(t,r,e){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof r=="function"?r:null,this.promise=e}function Bv(t,r){var e=!1;try{t(function(n){e||(e=!0,Au(r,n))},function(n){e||(e=!0,Ni(r,n))})}catch(n){if(e)return;e=!0,Ni(r,n)}}Qt.prototype.catch=function(t){return this.then(null,t)};Qt.prototype.then=function(t,r){var e=new this.constructor(Ib);return Gv(this,new Rb(t,r,e)),e};Qt.prototype.finally=xb;Qt.all=function(t){return new Qt(function(r,e){if(!Fv(t))return e(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return r([]);var i=n.length;function o(h,f){try{if(f&&(typeof f=="object"||typeof f=="function")){var c=f.then;if(typeof c=="function"){c.call(f,function(d){o(h,d)},e);return}}n[h]=f,--i===0&&r(n)}catch(d){e(d)}}for(var u=0;u<n.length;u++)o(u,n[u])})};Qt.allSettled=Tb;Qt.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Qt?t:new Qt(function(r){r(t)})};Qt.reject=function(t){return new Qt(function(r,e){e(t)})};Qt.race=function(t){return new Qt(function(r,e){if(!Fv(t))return e(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Qt.resolve(t[n]).then(r,e)})};Qt._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){bb(t,0)};Qt._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wb(t){var r=t.default;if(typeof r=="function"){var e=function(){return r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),e}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var fc=Object.getOwnPropertySymbols,Cb=Object.prototype.hasOwnProperty,Ab=Object.prototype.propertyIsEnumerable;function Pb(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Nb(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var r={},e=0;e<10;e++)r["_"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ub=Nb()?Object.assign:function(t,r){for(var e,n=Pb(t),i,o=1;o<arguments.length;o++){e=Object(arguments[o]);for(var u in e)Cb.call(e,u)&&(n[u]=e[u]);if(fc){i=fc(e);for(var h=0;h<i.length;h++)Ab.call(e,i[h])&&(n[i[h]]=e[i[h]])}}return n};/*!
 * @pixi/polyfill - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Qt);Object.assign||(Object.assign=Ub);var Ob=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var Lb=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-Lb}}var qs=Date.now(),lc=["ms","moz","webkit","o"];for(var Ys=0;Ys<lc.length&&!globalThis.requestAnimationFrame;++Ys){var Zs=lc[Ys];globalThis.requestAnimationFrame=globalThis[Zs+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[Zs+"CancelAnimationFrame"]||globalThis[Zs+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var r=Date.now(),e=Ob+qs-r;return e<0&&(e=0),qs=r,globalThis.self.setTimeout(function(){qs=Date.now(),t(performance.now())},e)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(r){return r=Number(r),r===0||isNaN(r)?r:r>0?1:-1});Number.isInteger||(Number.isInteger=function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/settings - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cc;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(cc||(cc={}));var dc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(dc||(dc={}));var pc;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(pc||(pc={}));var vc;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(vc||(vc={}));var _c;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(_c||(_c={}));var gc;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(gc||(gc={}));var mc;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(mc||(mc={}));var yc;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(yc||(yc={}));var xc;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(xc||(xc={}));var Nu;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Nu||(Nu={}));var Uu;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Uu||(Uu={}));var Ou;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Ou||(Ou={}));var Tc;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Tc||(Tc={}));var bc;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(bc||(bc={}));var Lu;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Lu||(Lu={}));var Ci;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Ci||(Ci={}));var Ic;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Ic||(Ic={}));var Ec;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(Ec||(Ec={}));var Su;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Su||(Su={}));var Rc;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Rc||(Rc={}));var Sb={createCanvas:function(t,r){var e=document.createElement("canvas");return e.width=t,e.height=r,e},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,r){return fetch(t,r)}},Ks=/iPhone/i,wc=/iPod/i,Cc=/iPad/i,Ac=/\biOS-universal(?:.+)Mac\b/i,Js=/\bAndroid(?:.+)Mobile\b/i,Pc=/Android/i,Bn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fa=/Silk/i,yr=/Windows Phone/i,Nc=/\bWindows(?:.+)ARM\b/i,Uc=/BlackBerry/i,Oc=/BB10/i,Lc=/Opera Mini/i,Sc=/\b(CriOS|Chrome)(?:.+)Mobile/i,Fc=/Mobile(?:.+)Firefox\b/i,Gc=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Fb(t){return function(r){return r.test(t)}}function Gb(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var e=r.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var i=Fb(e),o={apple:{phone:i(Ks)&&!i(yr),ipod:i(wc),tablet:!i(Ks)&&(i(Cc)||Gc(r))&&!i(yr),universal:i(Ac),device:(i(Ks)||i(wc)||i(Cc)||i(Ac)||Gc(r))&&!i(yr)},amazon:{phone:i(Bn),tablet:!i(Bn)&&i(Fa),device:i(Bn)||i(Fa)},android:{phone:!i(yr)&&i(Bn)||!i(yr)&&i(Js),tablet:!i(yr)&&!i(Bn)&&!i(Js)&&(i(Fa)||i(Pc)),device:!i(yr)&&(i(Bn)||i(Fa)||i(Js)||i(Pc))||i(/\bokhttp\b/i)},windows:{phone:i(yr),tablet:i(Nc),device:i(yr)||i(Nc)},other:{blackberry:i(Uc),blackberry10:i(Oc),opera:i(Lc),firefox:i(Fc),chrome:i(Sc),device:i(Uc)||i(Oc)||i(Lc)||i(Fc)||i(Sc)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var nr=Gb(globalThis.navigator);function Bb(){return!nr.apple.device}function Mb(t){var r=!0;if(nr.tablet||nr.phone){if(nr.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(r=!1)}}if(nr.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(r=!1)}}}return r?t:4}var K={ADAPTER:Sb,MIPMAP_TEXTURES:Ou.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Su.NONE,SPRITE_MAX_TEXTURES:Mb(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Lu.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Uu.CLAMP,SCALE_MODE:Nu.LINEAR,PRECISION_VERTEX:Ci.HIGH,PRECISION_FRAGMENT:nr.apple.device?Ci.HIGH:Ci.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Bb(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Mv={exports:{}};(function(t){var r=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(f,c,d){this.fn=f,this.context=c,this.once=d||!1}function o(f,c,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,p||f,v),m=e?e+c:c;return f._events[m]?f._events[m].fn?f._events[m]=[f._events[m],g]:f._events[m].push(g):(f._events[m]=g,f._eventsCount++),f}function u(f,c){--f._eventsCount===0?f._events=new n:delete f._events[c]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)r.call(d,p)&&c.push(e?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},h.prototype.listeners=function(c){var d=e?e+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,m=new Array(g);v<g;v++)m[v]=p[v].fn;return m},h.prototype.listenerCount=function(c){var d=e?e+c:c,p=this._events[d];return p?p.fn?1:p.length:0},h.prototype.emit=function(c,d,p,v,g,m){var x=e?e+c:c;if(!this._events[x])return!1;var T=this._events[x],E=arguments.length,U,P;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,d),!0;case 3:return T.fn.call(T.context,d,p),!0;case 4:return T.fn.call(T.context,d,p,v),!0;case 5:return T.fn.call(T.context,d,p,v,g),!0;case 6:return T.fn.call(T.context,d,p,v,g,m),!0}for(P=1,U=new Array(E-1);P<E;P++)U[P-1]=arguments[P];T.fn.apply(T.context,U)}else{var N=T.length,A;for(P=0;P<N;P++)switch(T[P].once&&this.removeListener(c,T[P].fn,void 0,!0),E){case 1:T[P].fn.call(T[P].context);break;case 2:T[P].fn.call(T[P].context,d);break;case 3:T[P].fn.call(T[P].context,d,p);break;case 4:T[P].fn.call(T[P].context,d,p,v);break;default:if(!U)for(A=1,U=new Array(E-1);A<E;A++)U[A-1]=arguments[A];T[P].fn.apply(T[P].context,U)}}return!0},h.prototype.on=function(c,d,p){return o(this,c,d,p,!1)},h.prototype.once=function(c,d,p){return o(this,c,d,p,!0)},h.prototype.removeListener=function(c,d,p,v){var g=e?e+c:c;if(!this._events[g])return this;if(!d)return u(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!v||m.once)&&(!p||m.context===p)&&u(this,g);else{for(var x=0,T=[],E=m.length;x<E;x++)(m[x].fn!==d||v&&!m[x].once||p&&m[x].context!==p)&&T.push(m[x]);T.length?this._events[g]=T.length===1?T[0]:T:u(this,g)}return this},h.prototype.removeAllListeners=function(c){var d;return c?(d=e?e+c:c,this._events[d]&&u(this,d)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=e,h.EventEmitter=h,t.exports=h})(Mv);const Xi=Mv.exports;var To={exports:{}};To.exports=bo;To.exports.default=bo;function bo(t,r,e){e=e||2;var n=r&&r.length,i=n?r[0]*e:t.length,o=Hv(t,0,i,e,!0),u=[];if(!o||o.next===o.prev)return u;var h,f,c,d,p,v,g;if(n&&(o=Vb(t,r,o,e)),t.length>80*e){h=c=t[0],f=d=t[1];for(var m=e;m<i;m+=e)p=t[m],v=t[m+1],p<h&&(h=p),v<f&&(f=v),p>c&&(c=p),v>d&&(d=v);g=Math.max(c-h,d-f),g=g!==0?32767/g:0}return Ui(o,u,e,h,f,g,0),u}function Hv(t,r,e,n,i){var o,u;if(i===Bu(t,r,e,n)>0)for(o=r;o<e;o+=n)u=Bc(o,t[o],t[o+1],u);else for(o=e-n;o>=r;o-=n)u=Bc(o,t[o],t[o+1],u);return u&&Io(u,u.next)&&(Li(u),u=u.next),u}function _n(t,r){if(!t)return t;r||(r=t);var e=t,n;do if(n=!1,!e.steiner&&(Io(e,e.next)||Zt(e.prev,e,e.next)===0)){if(Li(e),e=r=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==r);return r}function Ui(t,r,e,n,i,o,u){if(!!t){!u&&o&&qb(t,n,i,o);for(var h=t,f,c;t.prev!==t.next;){if(f=t.prev,c=t.next,o?kb(t,n,i,o):Hb(t)){r.push(f.i/e|0),r.push(t.i/e|0),r.push(c.i/e|0),Li(t),t=c.next,h=c.next;continue}if(t=c,t===h){u?u===1?(t=Db(_n(t),r,e),Ui(t,r,e,n,i,o,2)):u===2&&Xb(t,r,e,n,i,o):Ui(_n(t),r,e,n,i,o,1);break}}}}function Hb(t){var r=t.prev,e=t,n=t.next;if(Zt(r,e,n)>=0)return!1;for(var i=r.x,o=e.x,u=n.x,h=r.y,f=e.y,c=n.y,d=i<o?i<u?i:u:o<u?o:u,p=h<f?h<c?h:c:f<c?f:c,v=i>o?i>u?i:u:o>u?o:u,g=h>f?h>c?h:c:f>c?f:c,m=n.next;m!==r;){if(m.x>=d&&m.x<=v&&m.y>=p&&m.y<=g&&Vn(i,h,o,f,u,c,m.x,m.y)&&Zt(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function kb(t,r,e,n){var i=t.prev,o=t,u=t.next;if(Zt(i,o,u)>=0)return!1;for(var h=i.x,f=o.x,c=u.x,d=i.y,p=o.y,v=u.y,g=h<f?h<c?h:c:f<c?f:c,m=d<p?d<v?d:v:p<v?p:v,x=h>f?h>c?h:c:f>c?f:c,T=d>p?d>v?d:v:p>v?p:v,E=Fu(g,m,r,e,n),U=Fu(x,T,r,e,n),P=t.prevZ,N=t.nextZ;P&&P.z>=E&&N&&N.z<=U;){if(P.x>=g&&P.x<=x&&P.y>=m&&P.y<=T&&P!==i&&P!==u&&Vn(h,d,f,p,c,v,P.x,P.y)&&Zt(P.prev,P,P.next)>=0||(P=P.prevZ,N.x>=g&&N.x<=x&&N.y>=m&&N.y<=T&&N!==i&&N!==u&&Vn(h,d,f,p,c,v,N.x,N.y)&&Zt(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;P&&P.z>=E;){if(P.x>=g&&P.x<=x&&P.y>=m&&P.y<=T&&P!==i&&P!==u&&Vn(h,d,f,p,c,v,P.x,P.y)&&Zt(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;N&&N.z<=U;){if(N.x>=g&&N.x<=x&&N.y>=m&&N.y<=T&&N!==i&&N!==u&&Vn(h,d,f,p,c,v,N.x,N.y)&&Zt(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Db(t,r,e){var n=t;do{var i=n.prev,o=n.next.next;!Io(i,o)&&kv(i,n,n.next,o)&&Oi(i,o)&&Oi(o,i)&&(r.push(i.i/e|0),r.push(n.i/e|0),r.push(o.i/e|0),Li(n),Li(n.next),n=t=o),n=n.next}while(n!==t);return _n(n)}function Xb(t,r,e,n,i,o){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&Kb(u,h)){var f=Dv(u,h);u=_n(u,u.next),f=_n(f,f.next),Ui(u,r,e,n,i,o,0),Ui(f,r,e,n,i,o,0);return}h=h.next}u=u.next}while(u!==t)}function Vb(t,r,e,n){var i=[],o,u,h,f,c;for(o=0,u=r.length;o<u;o++)h=r[o]*n,f=o<u-1?r[o+1]*n:t.length,c=Hv(t,h,f,n,!1),c===c.next&&(c.steiner=!0),i.push(Zb(c));for(i.sort(Wb),o=0;o<i.length;o++)e=zb(i[o],e);return e}function Wb(t,r){return t.x-r.x}function zb(t,r){var e=jb(t,r);if(!e)return r;var n=Dv(e,t);return _n(n,n.next),_n(e,e.next)}function jb(t,r){var e=r,n=t.x,i=t.y,o=-1/0,u;do{if(i<=e.y&&i>=e.next.y&&e.next.y!==e.y){var h=e.x+(i-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(h<=n&&h>o&&(o=h,u=e.x<e.next.x?e:e.next,h===n))return u}e=e.next}while(e!==r);if(!u)return null;var f=u,c=u.x,d=u.y,p=1/0,v;e=u;do n>=e.x&&e.x>=c&&n!==e.x&&Vn(i<d?n:o,i,c,d,i<d?o:n,i,e.x,e.y)&&(v=Math.abs(i-e.y)/(n-e.x),Oi(e,t)&&(v<p||v===p&&(e.x>u.x||e.x===u.x&&$b(u,e)))&&(u=e,p=v)),e=e.next;while(e!==f);return u}function $b(t,r){return Zt(t.prev,t,r.prev)<0&&Zt(r.next,t,t.next)<0}function qb(t,r,e,n){var i=t;do i.z===0&&(i.z=Fu(i.x,i.y,r,e,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Yb(i)}function Yb(t){var r,e,n,i,o,u,h,f,c=1;do{for(e=t,t=null,o=null,u=0;e;){for(u++,n=e,h=0,r=0;r<c&&(h++,n=n.nextZ,!!n);r++);for(f=c;h>0||f>0&&n;)h!==0&&(f===0||!n||e.z<=n.z)?(i=e,e=e.nextZ,h--):(i=n,n=n.nextZ,f--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;e=n}o.nextZ=null,c*=2}while(u>1);return t}function Fu(t,r,e,n,i){return t=(t-e)*i|0,r=(r-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t|r<<1}function Zb(t){var r=t,e=t;do(r.x<e.x||r.x===e.x&&r.y<e.y)&&(e=r),r=r.next;while(r!==t);return e}function Vn(t,r,e,n,i,o,u,h){return(i-u)*(r-h)>=(t-u)*(o-h)&&(t-u)*(n-h)>=(e-u)*(r-h)&&(e-u)*(o-h)>=(i-u)*(n-h)}function Kb(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!Jb(t,r)&&(Oi(t,r)&&Oi(r,t)&&Qb(t,r)&&(Zt(t.prev,t,r.prev)||Zt(t,r.prev,r))||Io(t,r)&&Zt(t.prev,t,t.next)>0&&Zt(r.prev,r,r.next)>0)}function Zt(t,r,e){return(r.y-t.y)*(e.x-r.x)-(r.x-t.x)*(e.y-r.y)}function Io(t,r){return t.x===r.x&&t.y===r.y}function kv(t,r,e,n){var i=Ba(Zt(t,r,e)),o=Ba(Zt(t,r,n)),u=Ba(Zt(e,n,t)),h=Ba(Zt(e,n,r));return!!(i!==o&&u!==h||i===0&&Ga(t,e,r)||o===0&&Ga(t,n,r)||u===0&&Ga(e,t,n)||h===0&&Ga(e,r,n))}function Ga(t,r,e){return r.x<=Math.max(t.x,e.x)&&r.x>=Math.min(t.x,e.x)&&r.y<=Math.max(t.y,e.y)&&r.y>=Math.min(t.y,e.y)}function Ba(t){return t>0?1:t<0?-1:0}function Jb(t,r){var e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==r.i&&e.next.i!==r.i&&kv(e,e.next,t,r))return!0;e=e.next}while(e!==t);return!1}function Oi(t,r){return Zt(t.prev,t,t.next)<0?Zt(t,r,t.next)>=0&&Zt(t,t.prev,r)>=0:Zt(t,r,t.prev)<0||Zt(t,t.next,r)<0}function Qb(t,r){var e=t,n=!1,i=(t.x+r.x)/2,o=(t.y+r.y)/2;do e.y>o!=e.next.y>o&&e.next.y!==e.y&&i<(e.next.x-e.x)*(o-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==t);return n}function Dv(t,r){var e=new Gu(t.i,t.x,t.y),n=new Gu(r.i,r.x,r.y),i=t.next,o=r.prev;return t.next=r,r.prev=t,e.next=i,i.prev=e,n.next=e,e.prev=n,o.next=n,n.prev=o,n}function Bc(t,r,e,n){var i=new Gu(t,r,e);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Li(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Gu(t,r,e){this.i=t,this.x=r,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}bo.deviation=function(t,r,e,n){var i=r&&r.length,o=i?r[0]*e:t.length,u=Math.abs(Bu(t,0,o,e));if(i)for(var h=0,f=r.length;h<f;h++){var c=r[h]*e,d=h<f-1?r[h+1]*e:t.length;u-=Math.abs(Bu(t,c,d,e))}var p=0;for(h=0;h<n.length;h+=3){var v=n[h]*e,g=n[h+1]*e,m=n[h+2]*e;p+=Math.abs((t[v]-t[m])*(t[g+1]-t[v+1])-(t[v]-t[g])*(t[m+1]-t[v+1]))}return u===0&&p===0?0:Math.abs((p-u)/u)};function Bu(t,r,e,n){for(var i=0,o=r,u=e-n;o<e;o+=n)i+=(t[u]-t[o])*(t[o+1]+t[u+1]),u=o;return i}bo.flatten=function(t){for(var r=t[0][0].length,e={vertices:[],holes:[],dimensions:r},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var u=0;u<r;u++)e.vertices.push(t[i][o][u]);i>0&&(n+=t[i-1].length,e.holes.push(n))}return e};var Mu={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,r){(function(e){var n=r&&!r.nodeType&&r,i=t&&!t.nodeType&&t,o=typeof be=="object"&&be;(o.global===o||o.window===o||o.self===o)&&(e=o);var u,h=2147483647,f=36,c=1,d=26,p=38,v=700,g=72,m=128,x="-",T=/^xn--/,E=/[^\x20-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=f-c,A=Math.floor,C=String.fromCharCode,M;function V(S){throw RangeError(P[S])}function G(S,X){for(var q=S.length,et=[];q--;)et[q]=X(S[q]);return et}function D(S,X){var q=S.split("@"),et="";q.length>1&&(et=q[0]+"@",S=q[1]),S=S.replace(U,".");var ot=S.split("."),dt=G(ot,X).join(".");return et+dt}function $(S){for(var X=[],q=0,et=S.length,ot,dt;q<et;)ot=S.charCodeAt(q++),ot>=55296&&ot<=56319&&q<et?(dt=S.charCodeAt(q++),(dt&64512)==56320?X.push(((ot&1023)<<10)+(dt&1023)+65536):(X.push(ot),q--)):X.push(ot);return X}function Q(S){return G(S,function(X){var q="";return X>65535&&(X-=65536,q+=C(X>>>10&1023|55296),X=56320|X&1023),q+=C(X),q}).join("")}function rt(S){return S-48<10?S-22:S-65<26?S-65:S-97<26?S-97:f}function mt(S,X){return S+22+75*(S<26)-((X!=0)<<5)}function Y(S,X,q){var et=0;for(S=q?A(S/v):S>>1,S+=A(S/X);S>N*d>>1;et+=f)S=A(S/N);return A(et+(N+1)*S/(S+p))}function Z(S){var X=[],q=S.length,et,ot=0,dt=m,st=g,Ct,At,It,St,ut,_t,it,Rt,Ft;for(Ct=S.lastIndexOf(x),Ct<0&&(Ct=0),At=0;At<Ct;++At)S.charCodeAt(At)>=128&&V("not-basic"),X.push(S.charCodeAt(At));for(It=Ct>0?Ct+1:0;It<q;){for(St=ot,ut=1,_t=f;It>=q&&V("invalid-input"),it=rt(S.charCodeAt(It++)),(it>=f||it>A((h-ot)/ut))&&V("overflow"),ot+=it*ut,Rt=_t<=st?c:_t>=st+d?d:_t-st,!(it<Rt);_t+=f)Ft=f-Rt,ut>A(h/Ft)&&V("overflow"),ut*=Ft;et=X.length+1,st=Y(ot-St,et,St==0),A(ot/et)>h-dt&&V("overflow"),dt+=A(ot/et),ot%=et,X.splice(ot++,0,dt)}return Q(X)}function ct(S){var X,q,et,ot,dt,st,Ct,At,It,St,ut,_t=[],it,Rt,Ft,xt;for(S=$(S),it=S.length,X=m,q=0,dt=g,st=0;st<it;++st)ut=S[st],ut<128&&_t.push(C(ut));for(et=ot=_t.length,ot&&_t.push(x);et<it;){for(Ct=h,st=0;st<it;++st)ut=S[st],ut>=X&&ut<Ct&&(Ct=ut);for(Rt=et+1,Ct-X>A((h-q)/Rt)&&V("overflow"),q+=(Ct-X)*Rt,X=Ct,st=0;st<it;++st)if(ut=S[st],ut<X&&++q>h&&V("overflow"),ut==X){for(At=q,It=f;St=It<=dt?c:It>=dt+d?d:It-dt,!(At<St);It+=f)xt=At-St,Ft=f-St,_t.push(C(mt(St+xt%Ft,0))),At=A(xt/Ft);_t.push(C(mt(At,0))),dt=Y(q,Rt,et==ot),q=0,++et}++q,++X}return _t.join("")}function Gt(S){return D(S,function(X){return T.test(X)?Z(X.slice(4).toLowerCase()):X})}function Nt(S){return D(S,function(X){return E.test(X)?"xn--"+ct(X):X})}if(u={version:"1.3.2",ucs2:{decode:$,encode:Q},decode:Z,encode:ct,toASCII:Nt,toUnicode:Gt},n&&i)if(t.exports==n)i.exports=u;else for(M in u)u.hasOwnProperty(M)&&(n[M]=u[M]);else e.punycode=u})(be)})(Mu,Mu.exports);var tI={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Si={};function eI(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var rI=function(t,r,e,n){r=r||"&",e=e||"=";var i={};if(typeof t!="string"||t.length===0)return i;var o=/\+/g;t=t.split(r);var u=1e3;n&&typeof n.maxKeys=="number"&&(u=n.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var f=0;f<h;++f){var c=t[f].replace(o,"%20"),d=c.indexOf(e),p,v,g,m;d>=0?(p=c.substr(0,d),v=c.substr(d+1)):(p=c,v=""),g=decodeURIComponent(p),m=decodeURIComponent(v),eI(i,g)?Array.isArray(i[g])?i[g].push(m):i[g]=[i[g],m]:i[g]=m}return i},mi=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},nI=function(t,r,e,n){return r=r||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var o=encodeURIComponent(mi(i))+e;return Array.isArray(t[i])?t[i].map(function(u){return o+encodeURIComponent(mi(u))}).join(r):o+encodeURIComponent(mi(t[i]))}).join(r):n?encodeURIComponent(mi(n))+e+encodeURIComponent(mi(t)):""};Si.decode=Si.parse=rI;Si.encode=Si.stringify=nI;var iI=Mu.exports,rr=tI,aI=Eo,oI=gI,sI=_I;function Ke(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var uI=/^([a-z0-9.+-]+:)/i,hI=/:[0-9]*$/,fI=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,lI=["<",">",'"',"`"," ","\r",`
`,"	"],cI=["{","}","|","\\","^","`"].concat(lI),Hu=["'"].concat(cI),Mc=["%","/","?",";","#"].concat(Hu),Hc=["/","?","#"],dI=255,kc=/^[+a-z0-9A-Z_-]{0,63}$/,pI=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,vI={javascript:!0,"javascript:":!0},ku={javascript:!0,"javascript:":!0},qn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Du=Si;function Eo(t,r,e){if(t&&rr.isObject(t)&&t instanceof Ke)return t;var n=new Ke;return n.parse(t,r,e),n}Ke.prototype.parse=function(t,r,e){if(!rr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(i),u=/\\/g;o[0]=o[0].replace(u,"/"),t=o.join(i);var h=t;if(h=h.trim(),!e&&t.split("#").length===1){var f=fI.exec(h);if(f)return this.path=h,this.href=h,this.pathname=f[1],f[2]?(this.search=f[2],r?this.query=Du.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var c=uI.exec(h);if(c){c=c[0];var d=c.toLowerCase();this.protocol=d,h=h.substr(c.length)}if(e||c||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=h.substr(0,2)==="//";p&&!(c&&ku[c])&&(h=h.substr(2),this.slashes=!0)}if(!ku[c]&&(p||c&&!qn[c])){for(var v=-1,g=0;g<Hc.length;g++){var m=h.indexOf(Hc[g]);m!==-1&&(v===-1||m<v)&&(v=m)}var x,T;v===-1?T=h.lastIndexOf("@"):T=h.lastIndexOf("@",v),T!==-1&&(x=h.slice(0,T),h=h.slice(T+1),this.auth=decodeURIComponent(x)),v=-1;for(var g=0;g<Mc.length;g++){var m=h.indexOf(Mc[g]);m!==-1&&(v===-1||m<v)&&(v=m)}v===-1&&(v=h.length),this.host=h.slice(0,v),h=h.slice(v),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var U=this.hostname.split(/\./),g=0,P=U.length;g<P;g++){var N=U[g];if(!!N&&!N.match(kc)){for(var A="",C=0,M=N.length;C<M;C++)N.charCodeAt(C)>127?A+="x":A+=N[C];if(!A.match(kc)){var V=U.slice(0,g),G=U.slice(g+1),D=N.match(pI);D&&(V.push(D[1]),G.unshift(D[2])),G.length&&(h="/"+G.join(".")+h),this.hostname=V.join(".");break}}}this.hostname.length>dI?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=iI.toASCII(this.hostname));var $=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+$,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),h[0]!=="/"&&(h="/"+h))}if(!vI[d])for(var g=0,P=Hu.length;g<P;g++){var rt=Hu[g];if(h.indexOf(rt)!==-1){var mt=encodeURIComponent(rt);mt===rt&&(mt=escape(rt)),h=h.split(rt).join(mt)}}var Y=h.indexOf("#");Y!==-1&&(this.hash=h.substr(Y),h=h.slice(0,Y));var Z=h.indexOf("?");if(Z!==-1?(this.search=h.substr(Z),this.query=h.substr(Z+1),r&&(this.query=Du.parse(this.query)),h=h.slice(0,Z)):r&&(this.search="",this.query={}),h&&(this.pathname=h),qn[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",ct=this.search||"";this.path=$+ct}return this.href=this.format(),this};function _I(t){return rr.isString(t)&&(t=Eo(t)),t instanceof Ke?t.format():Ke.prototype.format.call(t)}Ke.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=this.protocol||"",e=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&rr.isObject(this.query)&&Object.keys(this.query).length&&(o=Du.stringify(this.query));var u=this.search||o&&"?"+o||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||qn[r])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),u&&u.charAt(0)!=="?"&&(u="?"+u),e=e.replace(/[?#]/g,function(h){return encodeURIComponent(h)}),u=u.replace("#","%23"),r+i+e+u+n};function gI(t,r){return Eo(t,!1,!0).resolve(r)}Ke.prototype.resolve=function(t){return this.resolveObject(Eo(t,!1,!0)).format()};Ke.prototype.resolveObject=function(t){if(rr.isString(t)){var r=new Ke;r.parse(t,!1,!0),t=r}for(var e=new Ke,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];e[o]=this[o]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var f=u[h];f!=="protocol"&&(e[f]=t[f])}return qn[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!qn[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,!t.host&&!ku[t.protocol]){for(var P=(t.pathname||"").split("/");P.length&&!(t.host=P.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),P[0]!==""&&P.unshift(""),P.length<2&&P.unshift(""),e.pathname=P.join("/")}else e.pathname=t.pathname;if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var v=e.pathname||"",g=e.search||"";e.path=v+g}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var m=e.pathname&&e.pathname.charAt(0)==="/",x=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=x||m||e.host&&t.pathname,E=T,U=e.pathname&&e.pathname.split("/")||[],P=t.pathname&&t.pathname.split("/")||[],N=e.protocol&&!qn[e.protocol];if(N&&(e.hostname="",e.port=null,e.host&&(U[0]===""?U[0]=e.host:U.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(P[0]===""?P[0]=t.host:P.unshift(t.host)),t.host=null),T=T&&(P[0]===""||U[0]==="")),x)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,U=P;else if(P.length)U||(U=[]),U.pop(),U=U.concat(P),e.search=t.search,e.query=t.query;else if(!rr.isNullOrUndefined(t.search)){if(N){e.hostname=e.host=U.shift();var A=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;A&&(e.auth=A.shift(),e.host=e.hostname=A.shift())}return e.search=t.search,e.query=t.query,(!rr.isNull(e.pathname)||!rr.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!U.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var C=U.slice(-1)[0],M=(e.host||t.host||U.length>1)&&(C==="."||C==="..")||C==="",V=0,G=U.length;G>=0;G--)C=U[G],C==="."?U.splice(G,1):C===".."?(U.splice(G,1),V++):V&&(U.splice(G,1),V--);if(!T&&!E)for(;V--;V)U.unshift("..");T&&U[0]!==""&&(!U[0]||U[0].charAt(0)!=="/")&&U.unshift(""),M&&U.join("/").substr(-1)!=="/"&&U.push("");var D=U[0]===""||U[0]&&U[0].charAt(0)==="/";if(N){e.hostname=e.host=D?"":U.length?U.shift():"";var A=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;A&&(e.auth=A.shift(),e.host=e.hostname=A.shift())}return T=T||e.host&&U.length,T&&!D&&U.unshift(""),U.length?e.pathname=U.join("/"):(e.pathname=null,e.path=null),(!rr.isNull(e.pathname)||!rr.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e};Ke.prototype.parseHost=function(){var t=this.host,r=hI.exec(t);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)};/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wr;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(wr||(wr={}));var Fi;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Fi||(Fi={}));var uo;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(uo||(uo={}));var at;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(at||(at={}));var Ze;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ze||(Ze={}));var z;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(z||(z={}));var pn;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(pn||(pn={}));var nt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(nt||(nt={}));var ho;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(ho||(ho={}));var Er;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Er||(Er={}));var Rr;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Rr||(Rr={}));var Cr;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Cr||(Cr={}));var Je;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Je||(Je={}));var Vr;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Vr||(Vr={}));var Xu;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Xu||(Xu={}));var ir;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(ir||(ir={}));var se;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(se||(se={}));var Dc;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(Dc||(Dc={}));var ie;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(ie||(ie={}));var ar;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(ar||(ar={}));/*!
 * @pixi/utils - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wn={parse:aI,format:sI,resolve:oI};K.RETINA_PREFIX=/@([0-9\.]+)x/;K.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Xc=!1,Vc="6.5.2";function mI(t){var r;if(!Xc){if(K.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var e=[`
 %c %c %c PixiJS `+Vc+" - \u2730 "+t+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(r=globalThis.console).log.apply(r,e)}else globalThis.console&&globalThis.console.log("PixiJS "+Vc+" - "+t+" - http://www.pixijs.com/");Xc=!0}}var Qs;function Xv(){return typeof Qs>"u"&&(Qs=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:K.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!K.ADAPTER.getWebGLRenderingContext())return!1;var e=K.ADAPTER.createCanvas(),n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),i=!!(n&&n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch{return!1}}()),Qs}var yI="#f0f8ff",xI="#faebd7",TI="#00ffff",bI="#7fffd4",II="#f0ffff",EI="#f5f5dc",RI="#ffe4c4",wI="#000000",CI="#ffebcd",AI="#0000ff",PI="#8a2be2",NI="#a52a2a",UI="#deb887",OI="#5f9ea0",LI="#7fff00",SI="#d2691e",FI="#ff7f50",GI="#6495ed",BI="#fff8dc",MI="#dc143c",HI="#00ffff",kI="#00008b",DI="#008b8b",XI="#b8860b",VI="#a9a9a9",WI="#006400",zI="#a9a9a9",jI="#bdb76b",$I="#8b008b",qI="#556b2f",YI="#ff8c00",ZI="#9932cc",KI="#8b0000",JI="#e9967a",QI="#8fbc8f",tE="#483d8b",eE="#2f4f4f",rE="#2f4f4f",nE="#00ced1",iE="#9400d3",aE="#ff1493",oE="#00bfff",sE="#696969",uE="#696969",hE="#1e90ff",fE="#b22222",lE="#fffaf0",cE="#228b22",dE="#ff00ff",pE="#dcdcdc",vE="#f8f8ff",_E="#daa520",gE="#ffd700",mE="#808080",yE="#008000",xE="#adff2f",TE="#808080",bE="#f0fff0",IE="#ff69b4",EE="#cd5c5c",RE="#4b0082",wE="#fffff0",CE="#f0e68c",AE="#fff0f5",PE="#e6e6fa",NE="#7cfc00",UE="#fffacd",OE="#add8e6",LE="#f08080",SE="#e0ffff",FE="#fafad2",GE="#d3d3d3",BE="#90ee90",ME="#d3d3d3",HE="#ffb6c1",kE="#ffa07a",DE="#20b2aa",XE="#87cefa",VE="#778899",WE="#778899",zE="#b0c4de",jE="#ffffe0",$E="#00ff00",qE="#32cd32",YE="#faf0e6",ZE="#ff00ff",KE="#800000",JE="#66cdaa",QE="#0000cd",tR="#ba55d3",eR="#9370db",rR="#3cb371",nR="#7b68ee",iR="#00fa9a",aR="#48d1cc",oR="#c71585",sR="#191970",uR="#f5fffa",hR="#ffe4e1",fR="#ffe4b5",lR="#ffdead",cR="#000080",dR="#fdf5e6",pR="#808000",vR="#6b8e23",_R="#ffa500",gR="#ff4500",mR="#da70d6",yR="#eee8aa",xR="#98fb98",TR="#afeeee",bR="#db7093",IR="#ffefd5",ER="#ffdab9",RR="#cd853f",wR="#ffc0cb",CR="#dda0dd",AR="#b0e0e6",PR="#800080",NR="#663399",UR="#ff0000",OR="#bc8f8f",LR="#4169e1",SR="#8b4513",FR="#fa8072",GR="#f4a460",BR="#2e8b57",MR="#fff5ee",HR="#a0522d",kR="#c0c0c0",DR="#87ceeb",XR="#6a5acd",VR="#708090",WR="#708090",zR="#fffafa",jR="#00ff7f",$R="#4682b4",qR="#d2b48c",YR="#008080",ZR="#d8bfd8",KR="#ff6347",JR="#40e0d0",QR="#ee82ee",tw="#f5deb3",ew="#ffffff",rw="#f5f5f5",nw="#ffff00",iw="#9acd32",aw={aliceblue:yI,antiquewhite:xI,aqua:TI,aquamarine:bI,azure:II,beige:EI,bisque:RI,black:wI,blanchedalmond:CI,blue:AI,blueviolet:PI,brown:NI,burlywood:UI,cadetblue:OI,chartreuse:LI,chocolate:SI,coral:FI,cornflowerblue:GI,cornsilk:BI,crimson:MI,cyan:HI,darkblue:kI,darkcyan:DI,darkgoldenrod:XI,darkgray:VI,darkgreen:WI,darkgrey:zI,darkkhaki:jI,darkmagenta:$I,darkolivegreen:qI,darkorange:YI,darkorchid:ZI,darkred:KI,darksalmon:JI,darkseagreen:QI,darkslateblue:tE,darkslategray:eE,darkslategrey:rE,darkturquoise:nE,darkviolet:iE,deeppink:aE,deepskyblue:oE,dimgray:sE,dimgrey:uE,dodgerblue:hE,firebrick:fE,floralwhite:lE,forestgreen:cE,fuchsia:dE,gainsboro:pE,ghostwhite:vE,goldenrod:_E,gold:gE,gray:mE,green:yE,greenyellow:xE,grey:TE,honeydew:bE,hotpink:IE,indianred:EE,indigo:RE,ivory:wE,khaki:CE,lavenderblush:AE,lavender:PE,lawngreen:NE,lemonchiffon:UE,lightblue:OE,lightcoral:LE,lightcyan:SE,lightgoldenrodyellow:FE,lightgray:GE,lightgreen:BE,lightgrey:ME,lightpink:HE,lightsalmon:kE,lightseagreen:DE,lightskyblue:XE,lightslategray:VE,lightslategrey:WE,lightsteelblue:zE,lightyellow:jE,lime:$E,limegreen:qE,linen:YE,magenta:ZE,maroon:KE,mediumaquamarine:JE,mediumblue:QE,mediumorchid:tR,mediumpurple:eR,mediumseagreen:rR,mediumslateblue:nR,mediumspringgreen:iR,mediumturquoise:aR,mediumvioletred:oR,midnightblue:sR,mintcream:uR,mistyrose:hR,moccasin:fR,navajowhite:lR,navy:cR,oldlace:dR,olive:pR,olivedrab:vR,orange:_R,orangered:gR,orchid:mR,palegoldenrod:yR,palegreen:xR,paleturquoise:TR,palevioletred:bR,papayawhip:IR,peachpuff:ER,peru:RR,pink:wR,plum:CR,powderblue:AR,purple:PR,rebeccapurple:NR,red:UR,rosybrown:OR,royalblue:LR,saddlebrown:SR,salmon:FR,sandybrown:GR,seagreen:BR,seashell:MR,sienna:HR,silver:kR,skyblue:DR,slateblue:XR,slategray:VR,slategrey:WR,snow:zR,springgreen:jR,steelblue:$R,tan:qR,teal:YR,thistle:ZR,tomato:KR,turquoise:JR,violet:QR,wheat:tw,white:ew,whitesmoke:rw,yellow:nw,yellowgreen:iw};function Kn(t,r){return r===void 0&&(r=[]),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,r}function Vv(t){var r=t.toString(16);return r="000000".substring(0,6-r.length)+r,"#"+r}function Wv(t){return typeof t=="string"&&(t=aw[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function ow(){for(var t=[],r=[],e=0;e<32;e++)t[e]=e,r[e]=e;t[at.NORMAL_NPM]=at.NORMAL,t[at.ADD_NPM]=at.ADD,t[at.SCREEN_NPM]=at.SCREEN,r[at.NORMAL]=at.NORMAL_NPM,r[at.ADD]=at.ADD_NPM,r[at.SCREEN]=at.SCREEN_NPM;var n=[];return n.push(r),n.push(t),n}var zv=ow();function jv(t,r){return zv[r?1:0][t]}function sw(t,r,e,n){return e=e||new Float32Array(4),n||n===void 0?(e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r):(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=r,e}function Ah(t,r){if(r===1)return(r*255<<24)+t;if(r===0)return 0;var e=t>>16&255,n=t>>8&255,i=t&255;return e=e*r+.5|0,n=n*r+.5|0,i=i*r+.5|0,(r*255<<24)+(e<<16)+(n<<8)+i}function $v(t,r,e,n){return e=e||new Float32Array(4),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,(n||n===void 0)&&(e[0]*=r,e[1]*=r,e[2]*=r),e[3]=r,e}function uw(t,r){r===void 0&&(r=null);var e=t*6;if(r=r||new Uint16Array(e),r.length!==e)throw new Error("Out buffer length is incorrect, got "+r.length+" and expected "+e);for(var n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}function qv(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function fo(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Wc(t){return!(t&t-1)&&!!t}function zc(t){var r=(t>65535?1:0)<<4;t>>>=r;var e=(t>255?1:0)<<3;return t>>>=e,r|=e,e=(t>15?1:0)<<2,t>>>=e,r|=e,e=(t>3?1:0)<<1,t>>>=e,r|=e,r|t>>1}function Yn(t,r,e){var n=t.length,i;if(!(r>=n||e===0)){e=r+e>n?n-r:e;var o=n-e;for(i=r;i<o;++i)t[i]=t[i+e];t.length=o}}function zn(t){return t===0?0:t<0?-1:1}var hw=0;function gn(){return++hw}var jc={};function or(t,r,e){if(e===void 0&&(e=3),!jc[r]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(n))),jc[r]=!0}}var $c={},br=Object.create(null),on=Object.create(null),qc=function(){function t(r,e,n){this.canvas=K.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||K.RESOLUTION,this.resize(r,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,e){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t}();function fw(t){var r=t.width,e=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,r,e),o=i.data,u=o.length,h={top:null,left:null,right:null,bottom:null},f=null,c,d,p;for(c=0;c<u;c+=4)o[c+3]!==0&&(d=c/4%r,p=~~(c/4/r),h.top===null&&(h.top=p),(h.left===null||d<h.left)&&(h.left=d),(h.right===null||h.right<d)&&(h.right=d+1),(h.bottom===null||h.bottom<p)&&(h.bottom=p));return h.top!==null&&(r=h.right-h.left,e=h.bottom-h.top+1,f=n.getImageData(h.left,h.top,r,e)),{height:e,width:r,data:f}}var Ma;function lw(t,r){if(r===void 0&&(r=globalThis.location),t.indexOf("data:")===0)return"";r=r||globalThis.location,Ma||(Ma=document.createElement("a")),Ma.href=t;var e=Wn.parse(Ma.href),n=!e.port&&r.port===""||e.port===r.port;return e.hostname!==r.hostname||!n||e.protocol!==r.protocol?"anonymous":""}function lo(t,r){var e=K.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):r!==void 0?r:1}/*!
 * @pixi/math - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var co=Math.PI*2,cw=180/Math.PI,dw=Math.PI/180,ce;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(ce||(ce={}));var jt=function(){function t(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this.x=0,this.y=0,this.x=r,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},t.prototype.copyTo=function(r){return r.set(this.x,this.y),r},t.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},t.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x=r,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Ha=[new jt,new jt,new jt,new jt],Lt=function(){function t(r,e,n,i){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(r),this.y=Number(e),this.width=Number(n),this.height=Number(i),this.type=ce.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},t.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},t.prototype.contains=function(r,e){return this.width<=0||this.height<=0?!1:r>=this.x&&r<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.intersects=function(r,e){if(!e){var n=this.x<r.x?r.x:this.x,i=this.right>r.right?r.right:this.right;if(i<=n)return!1;var o=this.y<r.y?r.y:this.y,u=this.bottom>r.bottom?r.bottom:this.bottom;return u>o}var h=this.left,f=this.right,c=this.top,d=this.bottom;if(f<=h||d<=c)return!1;var p=Ha[0].set(r.left,r.top),v=Ha[1].set(r.left,r.bottom),g=Ha[2].set(r.right,r.top),m=Ha[3].set(r.right,r.bottom);if(g.x<=p.x||v.y<=p.y)return!1;var x=Math.sign(e.a*e.d-e.b*e.c);if(x===0||(e.apply(p,p),e.apply(v,v),e.apply(g,g),e.apply(m,m),Math.max(p.x,v.x,g.x,m.x)<=h||Math.min(p.x,v.x,g.x,m.x)>=f||Math.max(p.y,v.y,g.y,m.y)<=c||Math.min(p.y,v.y,g.y,m.y)>=d))return!1;var T=x*(v.y-p.y),E=x*(p.x-v.x),U=T*h+E*c,P=T*f+E*c,N=T*h+E*d,A=T*f+E*d;if(Math.max(U,P,N,A)<=T*p.x+E*p.y||Math.min(U,P,N,A)>=T*m.x+E*m.y)return!1;var C=x*(p.y-g.y),M=x*(g.x-p.x),V=C*h+M*c,G=C*f+M*c,D=C*h+M*d,$=C*f+M*d;return!(Math.max(V,G,D,$)<=C*p.x+M*p.y||Math.min(V,G,D,$)>=C*m.x+M*m.y)},t.prototype.pad=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x-=r,this.y-=e,this.width+=r*2,this.height+=e*2,this},t.prototype.fit=function(r){var e=Math.max(this.x,r.x),n=Math.min(this.x+this.width,r.x+r.width),i=Math.max(this.y,r.y),o=Math.min(this.y+this.height,r.y+r.height);return this.x=e,this.width=Math.max(n-e,0),this.y=i,this.height=Math.max(o-i,0),this},t.prototype.ceil=function(r,e){r===void 0&&(r=1),e===void 0&&(e=.001);var n=Math.ceil((this.x+this.width-e)*r)/r,i=Math.ceil((this.y+this.height-e)*r)/r;return this.x=Math.floor((this.x+e)*r)/r,this.y=Math.floor((this.y+e)*r)/r,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(r){var e=Math.min(this.x,r.x),n=Math.max(this.x+this.width,r.x+r.width),i=Math.min(this.y,r.y),o=Math.max(this.y+this.height,r.y+r.height);return this.x=e,this.width=n-e,this.y=i,this.height=o-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),pw=function(){function t(r,e,n){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=e,this.radius=n,this.type=ce.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(r,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-r,o=this.y-e;return i*=i,o*=o,i+o<=n},t.prototype.getBounds=function(){return new Lt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),vw=function(){function t(r,e,n,i){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=r,this.y=e,this.width=n,this.height=i,this.type=ce.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(r,e){if(this.width<=0||this.height<=0)return!1;var n=(r-this.x)/this.width,i=(e-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new Lt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),oo=function(){function t(){for(var r=arguments,e=[],n=0;n<arguments.length;n++)e[n]=r[n];var i=Array.isArray(e[0])?e[0]:e;if(typeof i[0]!="number"){for(var o=[],u=0,h=i.length;u<h;u++)o.push(i[u].x,i[u].y);i=o}this.points=i,this.type=ce.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var r=this.points.slice(),e=new t(r);return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(r,e){for(var n=!1,i=this.points.length/2,o=0,u=i-1;o<i;u=o++){var h=this.points[o*2],f=this.points[o*2+1],c=this.points[u*2],d=this.points[u*2+1],p=f>e!=d>e&&r<(c-h)*((e-f)/(d-f))+h;p&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(r,e){return r+", "+e},"")+"]")},t}(),_w=function(){function t(r,e,n,i,o){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=r,this.y=e,this.width=n,this.height=i,this.radius=o,this.type=ce.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(r,e){if(this.width<=0||this.height<=0)return!1;if(r>=this.x&&r<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+n&&e<=this.y+this.height-n||r>=this.x+n&&r<=this.x+this.width-n)return!0;var i=r-(this.x+n),o=e-(this.y+n),u=n*n;if(i*i+o*o<=u||(i=r-(this.x+this.width-n),i*i+o*o<=u)||(o=e-(this.y+this.height-n),i*i+o*o<=u)||(i=r-(this.x+n),i*i+o*o<=u))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),jn=function(){function t(r,e,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=r,this.scope=e}return t.prototype.clone=function(r,e){return r===void 0&&(r=this.cb),e===void 0&&(e=this.scope),new t(r,e,this._x,this._y)},t.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),(this._x!==r||this._y!==e)&&(this._x=r,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(r){return r.set(this._x,this._y),r},t.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),he=function(){function t(r,e,n,i,o,u){r===void 0&&(r=1),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),u===void 0&&(u=0),this.array=null,this.a=r,this.b=e,this.c=n,this.d=i,this.tx=o,this.ty=u}return t.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},t.prototype.set=function(r,e,n,i,o,u){return this.a=r,this.b=e,this.c=n,this.d=i,this.tx=o,this.ty=u,this},t.prototype.toArray=function(r,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return r?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(r,e){e=e||new jt;var n=r.x,i=r.y;return e.x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.ty,e},t.prototype.applyInverse=function(r,e){e=e||new jt;var n=1/(this.a*this.d+this.c*-this.b),i=r.x,o=r.y;return e.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(r,e){return this.tx+=r,this.ty+=e,this},t.prototype.scale=function(r,e){return this.a*=r,this.d*=e,this.c*=r,this.b*=e,this.tx*=r,this.ty*=e,this},t.prototype.rotate=function(r){var e=Math.cos(r),n=Math.sin(r),i=this.a,o=this.c,u=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=o*e-this.d*n,this.d=o*n+this.d*e,this.tx=u*e-this.ty*n,this.ty=u*n+this.ty*e,this},t.prototype.append=function(r){var e=this.a,n=this.b,i=this.c,o=this.d;return this.a=r.a*e+r.b*i,this.b=r.a*n+r.b*o,this.c=r.c*e+r.d*i,this.d=r.c*n+r.d*o,this.tx=r.tx*e+r.ty*i+this.tx,this.ty=r.tx*n+r.ty*o+this.ty,this},t.prototype.setTransform=function(r,e,n,i,o,u,h,f,c){return this.a=Math.cos(h+c)*o,this.b=Math.sin(h+c)*o,this.c=-Math.sin(h-f)*u,this.d=Math.cos(h-f)*u,this.tx=r-(n*this.a+i*this.c),this.ty=e-(n*this.b+i*this.d),this},t.prototype.prepend=function(r){var e=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var n=this.a,i=this.c;this.a=n*r.a+this.b*r.c,this.b=n*r.b+this.b*r.d,this.c=i*r.a+this.d*r.c,this.d=i*r.b+this.d*r.d}return this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty,this},t.prototype.decompose=function(r){var e=this.a,n=this.b,i=this.c,o=this.d,u=r.pivot,h=-Math.atan2(-i,o),f=Math.atan2(n,e),c=Math.abs(h+f);return c<1e-5||Math.abs(co-c)<1e-5?(r.rotation=f,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=h,r.skew.y=f),r.scale.x=Math.sqrt(e*e+n*n),r.scale.y=Math.sqrt(i*i+o*o),r.position.x=this.tx+(u.x*e+u.y*i),r.position.y=this.ty+(u.x*n+u.y*o),r},t.prototype.invert=function(){var r=this.a,e=this.b,n=this.c,i=this.d,o=this.tx,u=r*i-e*n;return this.a=i/u,this.b=-e/u,this.c=-n/u,this.d=r/u,this.tx=(n*this.ty-i*o)/u,this.ty=-(r*this.ty-e*o)/u,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var r=new t;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),fn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ln=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],cn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],dn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Vu=[],Yv=[],ka=Math.sign;function gw(){for(var t=0;t<16;t++){var r=[];Vu.push(r);for(var e=0;e<16;e++)for(var n=ka(fn[t]*fn[e]+cn[t]*ln[e]),i=ka(ln[t]*fn[e]+dn[t]*ln[e]),o=ka(fn[t]*cn[e]+cn[t]*dn[e]),u=ka(ln[t]*cn[e]+dn[t]*dn[e]),h=0;h<16;h++)if(fn[h]===n&&ln[h]===i&&cn[h]===o&&dn[h]===u){r.push(h);break}}for(var t=0;t<16;t++){var f=new he;f.set(fn[t],ln[t],cn[t],dn[t],0,0),Yv.push(f)}}gw();var Yt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return fn[t]},uY:function(t){return ln[t]},vX:function(t){return cn[t]},vY:function(t){return dn[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,r){return Vu[t][r]},sub:function(t,r){return Vu[t][Yt.inv(r)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,r){return Math.abs(t)*2<=Math.abs(r)?r>=0?Yt.S:Yt.N:Math.abs(r)*2<=Math.abs(t)?t>0?Yt.E:Yt.W:r>0?t>0?Yt.SE:Yt.SW:t>0?Yt.NE:Yt.NW},matrixAppendRotationInv:function(t,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=Yv[Yt.inv(r)];i.tx=e,i.ty=n,t.append(i)}},Zv=function(){function t(){this.worldTransform=new he,this.localTransform=new he,this.position=new jn(this.onChange,this,0,0),this.scale=new jn(this.onChange,this,1,1),this.pivot=new jn(this.onChange,this,0,0),this.skew=new jn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(r){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var n=r.worldTransform,i=this.worldTransform;i.a=e.a*n.a+e.b*n.c,i.b=e.a*n.b+e.b*n.d,i.c=e.c*n.a+e.d*n.c,i.d=e.c*n.b+e.d*n.d,i.tx=e.tx*n.a+e.ty*n.c+n.tx,i.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=r._worldID,this._worldID++}},t.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.SORTABLE_CHILDREN=!1;var po=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Lt.EMPTY:(r=r||new Lt(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},t.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},t.prototype.addPointMatrix=function(r,e){var n=r.a,i=r.b,o=r.c,u=r.d,h=r.tx,f=r.ty,c=n*e.x+o*e.y+h,d=i*e.x+u*e.y+f;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},t.prototype.addQuad=function(r){var e=this.minX,n=this.minY,i=this.maxX,o=this.maxY,u=r[0],h=r[1];e=u<e?u:e,n=h<n?h:n,i=u>i?u:i,o=h>o?h:o,u=r[2],h=r[3],e=u<e?u:e,n=h<n?h:n,i=u>i?u:i,o=h>o?h:o,u=r[4],h=r[5],e=u<e?u:e,n=h<n?h:n,i=u>i?u:i,o=h>o?h:o,u=r[6],h=r[7],e=u<e?u:e,n=h<n?h:n,i=u>i?u:i,o=h>o?h:o,this.minX=e,this.minY=n,this.maxX=i,this.maxY=o},t.prototype.addFrame=function(r,e,n,i,o){this.addFrameMatrix(r.worldTransform,e,n,i,o)},t.prototype.addFrameMatrix=function(r,e,n,i,o){var u=r.a,h=r.b,f=r.c,c=r.d,d=r.tx,p=r.ty,v=this.minX,g=this.minY,m=this.maxX,x=this.maxY,T=u*e+f*n+d,E=h*e+c*n+p;v=T<v?T:v,g=E<g?E:g,m=T>m?T:m,x=E>x?E:x,T=u*i+f*n+d,E=h*i+c*n+p,v=T<v?T:v,g=E<g?E:g,m=T>m?T:m,x=E>x?E:x,T=u*e+f*o+d,E=h*e+c*o+p,v=T<v?T:v,g=E<g?E:g,m=T>m?T:m,x=E>x?E:x,T=u*i+f*o+d,E=h*i+c*o+p,v=T<v?T:v,g=E<g?E:g,m=T>m?T:m,x=E>x?E:x,this.minX=v,this.minY=g,this.maxX=m,this.maxY=x},t.prototype.addVertexData=function(r,e,n){for(var i=this.minX,o=this.minY,u=this.maxX,h=this.maxY,f=e;f<n;f+=2){var c=r[f],d=r[f+1];i=c<i?c:i,o=d<o?d:o,u=c>u?c:u,h=d>h?d:h}this.minX=i,this.minY=o,this.maxX=u,this.maxY=h},t.prototype.addVertices=function(r,e,n,i){this.addVerticesMatrix(r.worldTransform,e,n,i)},t.prototype.addVerticesMatrix=function(r,e,n,i,o,u){o===void 0&&(o=0),u===void 0&&(u=o);for(var h=r.a,f=r.b,c=r.c,d=r.d,p=r.tx,v=r.ty,g=this.minX,m=this.minY,x=this.maxX,T=this.maxY,E=n;E<i;E+=2){var U=e[E],P=e[E+1],N=h*U+c*P+p,A=d*P+f*U+v;g=Math.min(g,N-o),x=Math.max(x,N+o),m=Math.min(m,A-u),T=Math.max(T,A+u)}this.minX=g,this.minY=m,this.maxX=x,this.maxY=T},t.prototype.addBounds=function(r){var e=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=r.minX<e?r.minX:e,this.minY=r.minY<n?r.minY:n,this.maxX=r.maxX>i?r.maxX:i,this.maxY=r.maxY>o?r.maxY:o},t.prototype.addBoundsMask=function(r,e){var n=r.minX>e.minX?r.minX:e.minX,i=r.minY>e.minY?r.minY:e.minY,o=r.maxX<e.maxX?r.maxX:e.maxX,u=r.maxY<e.maxY?r.maxY:e.maxY;if(n<=o&&i<=u){var h=this.minX,f=this.minY,c=this.maxX,d=this.maxY;this.minX=n<h?n:h,this.minY=i<f?i:f,this.maxX=o>c?o:c,this.maxY=u>d?u:d}},t.prototype.addBoundsMatrix=function(r,e){this.addFrameMatrix(e,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.addBoundsArea=function(r,e){var n=r.minX>e.x?r.minX:e.x,i=r.minY>e.y?r.minY:e.y,o=r.maxX<e.x+e.width?r.maxX:e.x+e.width,u=r.maxY<e.y+e.height?r.maxY:e.y+e.height;if(n<=o&&i<=u){var h=this.minX,f=this.minY,c=this.maxX,d=this.maxY;this.minX=n<h?n:h,this.minY=i<f?i:f,this.maxX=o>c?o:c,this.maxY=u>d?u:d}},t.prototype.pad=function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(r,e,n,i,o,u){r-=o,e-=u,n+=o,i+=u,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wu=function(t,r){return Wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Wu(t,r)};function Ph(t,r){Wu(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var re=function(t){Ph(r,t);function r(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Zv,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new po,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return r.mixin=function(e){for(var n=Object.keys(e),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(r.prototype,o,Object.getOwnPropertyDescriptor(e,o))}},Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Lt),n=this._boundsRect),this._bounds.getRectangle(n)},r.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Lt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new po);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,u=this._boundsID;this._bounds=this._localBounds;var h=this.getBounds(!1,e);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-u,h},r.prototype.toGlobal=function(e,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)},r.prototype.toLocal=function(e,n,i,o){return n&&(e=n.toGlobal(e,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.setTransform=function(e,n,i,o,u,h,f,c,d){return e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),this.position.x=e,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=u,this.skew.x=h,this.skew.y=f,this.pivot.x=c,this.pivot.y=d,this},r.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Kv),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},r.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*cw},set:function(e){this.transform.rotation=e*dw},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),r}(Xi),Kv=function(t){Ph(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return r}(re);re.prototype.displayObjectUpdateTransform=re.prototype.updateTransform;/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yc;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Yc||(Yc={}));var Zc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Zc||(Zc={}));var Kc;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Kc||(Kc={}));var Jc;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Jc||(Jc={}));var Qc;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Qc||(Qc={}));var td;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(td||(td={}));var ed;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ed||(ed={}));var rd;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(rd||(rd={}));var nd;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(nd||(nd={}));var id;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(id||(id={}));var ad;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ad||(ad={}));var od;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(od||(od={}));var sd;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(sd||(sd={}));var ud;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ud||(ud={}));var hd;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(hd||(hd={}));var fd;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(fd||(fd={}));var zu;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(zu||(zu={}));var ld;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(ld||(ld={}));var cd;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(cd||(cd={}));var dd;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(dd||(dd={}));function mw(t,r){return t.zIndex===r.zIndex?t._lastSortedIndex-r._lastSortedIndex:t.zIndex-r.zIndex}var sr=function(t){Ph(r,t);function r(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=K.SORTABLE_CHILDREN,e.sortDirty=!1,e}return r.prototype.onChildrenChange=function(e){},r.prototype.addChild=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var u=n[0];u.parent&&u.parent.removeChild(u),u.parent=this,this.sortDirty=!0,u.transform._parentID=-1,this.children.push(u),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",u,this,this.children.length-1),u.emit("added",this)}return n[0]},r.prototype.addChildAt=function(e,n){if(n<0||n>this.children.length)throw new Error(e+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(n,0,e),this._boundsID++,this.onChildrenChange(n),e.emit("added",this),this.emit("childAdded",e,this,n),e},r.prototype.swapChildren=function(e,n){if(e!==n){var i=this.getChildIndex(e),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=e,this.onChildrenChange(i<o?i:o)}},r.prototype.getChildIndex=function(e){var n=this.children.indexOf(e);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},r.prototype.setChildIndex=function(e,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(e);Yn(this.children,i,1),this.children.splice(n,0,e),this.onChildrenChange(n)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},r.prototype.removeChild=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var u=n[0],h=this.children.indexOf(u);if(h===-1)return null;u.parent=null,u.transform._parentID=-1,Yn(this.children,h,1),this._boundsID++,this.onChildrenChange(h),u.emit("removed",this),this.emit("childRemoved",u,this,h)}return n[0]},r.prototype.removeChildAt=function(e){var n=this.getChildAt(e);return n.parent=null,n.transform._parentID=-1,Yn(this.children,e,1),this._boundsID++,this.onChildrenChange(e),n.emit("removed",this),this.emit("childRemoved",n,this,e),n},r.prototype.removeChildren=function(e,n){e===void 0&&(e=0),n===void 0&&(n=this.children.length);var i=e,o=n,u=o-i,h;if(u>0&&u<=o){h=this.children.splice(i,u);for(var f=0;f<h.length;++f)h[f].parent=null,h[f].transform&&(h[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var f=0;f<h.length;++f)h[f].emit("removed",this),this.emit("childRemoved",h[f],this,f);return h}else if(u===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var e=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!e&&o.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(mw),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,n=this.children.length;e<n;++e){var i=this.children[e];i.visible&&i.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var n=this.children[e];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(e,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!n)for(var o=0,u=this.children.length;o<u;++o){var h=this.children[o];h.visible&&h.updateTransform()}return i},r.prototype._calculateBounds=function(){},r.prototype._renderWithCulling=function(e){var n=e.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==r.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,o))this._render(e);else if(this.cullArea)return;for(var u=0,h=this.children.length;u<h;++u){var f=this.children[u],c=f.cullable;f.cullable=c||!this.cullArea,f.render(e),f.cullable=c}}},r.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}},r.prototype.renderAdvanced=function(e){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o])}var u=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==zu.NONE));if(u&&e.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var o=0,h=this.children.length;o<h;++o)this.children[o].render(e)}u&&e.batch.flush(),i&&e.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},r.prototype._render=function(e){},r.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof e=="boolean"?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(e)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var n=this.getLocalBounds().width;n!==0?this.scale.x=e/n:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var n=this.getLocalBounds().height;n!==0?this.scale.y=e/n:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),r}(re);sr.prototype.containerUpdateTransform=sr.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ai=function(){return Ai=Object.assign||function(r){for(var e=arguments,n,i=1,o=arguments.length;i<o;i++){n=e[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},Ai.apply(this,arguments)},Dt;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(Dt||(Dt={}));var pd=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var r=typeof t.extension!="object"?{type:t.extension}:t.extension;t=Ai(Ai({},r),{ref:t})}if(typeof t=="object")t=Ai({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Pr={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,r=this,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return e.map(pd).forEach(function(i){i.type.forEach(function(o){var u,h;return(h=(u=r._removeHandlers)[o])===null||h===void 0?void 0:h.call(u,i)})}),this},add:function(){for(var t=arguments,r=this,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return e.map(pd).forEach(function(i){i.type.forEach(function(o){var u=r._addHandlers,h=r._queue;u[o]?u[o](i):(h[o]=h[o]||[],h[o].push(i))})}),this},handle:function(t,r,e){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[t]||i[t])throw new Error("Extension type "+t+" already has a handler");n[t]=r,i[t]=e;var o=this._queue;return o[t]&&(o[t].forEach(function(u){return r(u)}),delete o[t]),this},handleByMap:function(t,r){return this.handle(t,function(e){r[e.name]=e.ref},function(e){delete r[e.name]})},handleByList:function(t,r){return this.handle(t,function(e){var n,i;r.push(e.ref),t===Dt.Loader&&((i=(n=e.ref).add)===null||i===void 0||i.call(n))},function(e){var n=r.indexOf(e.ref);n!==-1&&r.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var me=function(){function t(r){this.items=[],this._name=r,this._aliasCount=0}return t.prototype.emit=function(r,e,n,i,o,u,h,f){if(arguments.length>8)throw new Error("max arguments reached");var c=this,d=c.name,p=c.items;this._aliasCount++;for(var v=0,g=p.length;v<g;v++)p[v][d](r,e,n,i,o,u,h,f);return p===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},t.prototype.remove=function(r){var e=this.items.indexOf(r);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(r){return this.items.indexOf(r)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(me.prototype,{dispatch:{value:me.prototype.emit},run:{value:me.prototype.emit}});/*!
 * @pixi/ticker - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.TARGET_FPMS=.06;var Ar;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Ar||(Ar={}));var tu=function(){function t(r,e,n,i){e===void 0&&(e=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=r,this.context=e,this.priority=n,this.once=i}return t.prototype.match=function(r,e){return e===void 0&&(e=null),this.fn===r&&this.context===e},t.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},t.prototype.destroy=function(r){r===void 0&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=r?null:e,this.previous=null,e},t}(),ve=function(){function t(){var r=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new tu(null,null,1/0),this.deltaMS=1/K.TARGET_FPMS,this.elapsedMS=1/K.TARGET_FPMS,this._tick=function(e){r._requestId=null,r.started&&(r.update(e),r.started&&r._requestId===null&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(r,e,n){return n===void 0&&(n=Ar.NORMAL),this._addListener(new tu(r,e,n))},t.prototype.addOnce=function(r,e,n){return n===void 0&&(n=Ar.NORMAL),this._addListener(new tu(r,e,n,!0))},t.prototype._addListener=function(r){var e=this._head.next,n=this._head;if(!e)r.connect(n);else{for(;e;){if(r.priority>e.priority){r.connect(n);break}n=e,e=e.next}r.previous||r.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(r,e){for(var n=this._head.next;n;)n.match(r,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,e=this._head;e=e.next;)r++;return r},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(r){r===void 0&&(r=performance.now());var e;if(r>this.lastTime){if(e=this.elapsedMS=r-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=r-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=r-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*K.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var e=Math.min(this.maxFPS,r),n=Math.min(Math.max(0,e)/1e3,K.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(r===0)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,r);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var r=t._shared=new t;r.autoStart=!0,r._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var r=t._system=new t;r.autoStart=!0,r._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),yw=function(){function t(){}return t.init=function(r){var e=this;r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Ar.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?ve.shared:new ve,r.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}},t.extension=Dt.Application,t}();/*!
 * @pixi/core - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.PREFER_ENV=nr.any?wr.WEBGL:wr.WEBGL2;K.STRICT_TEXTURE_CACHE=!1;var ju=[];function Jv(t,r){if(!t)return null;var e="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(e=n[1].toLowerCase())}for(var i=ju.length-1;i>=0;--i){var o=ju[i];if(o.test&&o.test(t,e))return new o(t,r)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $u=function(t,r){return $u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},$u(t,r)};function Wt(t,r){$u(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var qu=function(){return qu=Object.assign||function(r){for(var e=arguments,n,i=1,o=arguments.length;i<o;i++){n=e[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},qu.apply(this,arguments)};function xw(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]]);return e}var Gi=function(){function t(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this._width=r,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new me("setRealSize"),this.onUpdate=new me("update"),this.onError=new me("onError")}return t.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},t.prototype.resize=function(r,e){(r!==this._width||e!==this._height)&&(this._width=r,this._height=e,this.onResize.emit(r,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(r,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(r,e){return!1},t}(),Vi=function(t){Wt(r,t);function r(e,n){var i=this,o=n||{},u=o.width,h=o.height;if(!u||!h)throw new Error("BufferResource width or height invalid");return i=t.call(this,u,h)||this,i.data=e,i}return r.prototype.upload=function(e,n,i){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Je.UNPACK);var u=n.realWidth,h=n.realHeight;return i.width===u&&i.height===h?o.texSubImage2D(n.target,0,0,0,u,h,n.format,i.type,this.data):(i.width=u,i.height=h,o.texImage2D(n.target,0,i.internalFormat,u,h,0,n.format,i.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(Gi),Tw={scaleMode:Er.NEAREST,format:z.RGBA,alphaMode:Je.NPM},Ot=function(t){Wt(r,t);function r(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var o=n.alphaMode,u=n.mipmap,h=n.anisotropicLevel,f=n.scaleMode,c=n.width,d=n.height,p=n.wrapMode,v=n.format,g=n.type,m=n.target,x=n.resolution,T=n.resourceOptions;return e&&!(e instanceof Gi)&&(e=Jv(e,T),e.internal=!0),i.resolution=x||K.RESOLUTION,i.width=Math.round((c||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=u!==void 0?u:K.MIPMAP_TEXTURES,i.anisotropicLevel=h!==void 0?h:K.ANISOTROPIC_LEVEL,i._wrapMode=p||K.WRAP_MODE,i._scaleMode=f!==void 0?f:K.SCALE_MODE,i.format=v||z.RGBA,i.type=g||nt.UNSIGNED_BYTE,i.target=m||pn.TEXTURE_2D,i.alphaMode=o!==void 0?o:Je.UNPACK,i.uid=gn(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=c>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(e,n){var i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},r.prototype.setSize=function(e,n,i){return i=i||this.resolution,this.setRealSize(e*i,n*i,i)},r.prototype.setRealSize=function(e,n,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=Wc(this.realWidth)&&Wc(this.realHeight)},r.prototype.setResolution=function(e){var n=this.resolution;return n===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*n)/e,this.height=Math.round(this.height*n)/e,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(e){this.emit("error",this,e)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete on[this.cacheId],delete br[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(e,n,i){i===void 0&&(i=K.STRICT_TEXTURE_CACHE);var o=typeof e=="string",u=null;if(o)u=e;else{if(!e._pixiId){var h=n&&n.pixiIdPrefix||"pixiid";e._pixiId=h+"_"+gn()}u=e._pixiId}var f=on[u];if(o&&i&&!f)throw new Error('The cacheId "'+u+'" does not exist in BaseTextureCache.');return f||(f=new r(e,n),f.cacheId=u,r.addToCache(f,u)),f},r.fromBuffer=function(e,n,i,o){e=e||new Float32Array(n*i*4);var u=new Vi(e,{width:n,height:i}),h=e instanceof Float32Array?nt.FLOAT:nt.UNSIGNED_BYTE;return new r(u,Object.assign(Tw,o||{width:n,height:i,type:h}))},r.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),on[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),on[n]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var n=on[e];if(n){var i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete on[e],n}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete on[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},r._globalBatch=0,r}(Xi),Qv=function(t){Wt(r,t);function r(e,n){var i=this,o=n||{},u=o.width,h=o.height;i=t.call(this,u,h)||this,i.items=[],i.itemDirtyIds=[];for(var f=0;f<e;f++){var c=new Ot;i.items.push(c),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return r.prototype.initFromArray=function(e,n){for(var i=0;i<this.length;i++)!e[i]||(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof Gi?this.addResourceAt(e[i],i):this.addResourceAt(Jv(e[i],n),i))},r.prototype.dispose=function(){for(var e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(e,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this},r.prototype.bind=function(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},r.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},r.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=e.items[0],u=o.realWidth,h=o.realHeight;return e.resize(u,h),Promise.resolve(e)}),this._load},r}(Gi),bw=function(t){Wt(r,t);function r(e,n){var i=this,o=n||{},u=o.width,h=o.height,f,c;return Array.isArray(e)?(f=e,c=e.length):c=e,i=t.call(this,c,{width:u,height:h})||this,f&&i.initFromArray(f,n),i}return r.prototype.addBaseTextureAt=function(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},r.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=pn.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,n,i){var o=this,u=o.length,h=o.itemDirtyIds,f=o.items,c=e.gl;i.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,u,0,n.format,i.type,null);for(var d=0;d<u;d++){var p=f[d];h[d]<p.dirtyId&&(h[d]=p.dirtyId,p.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,d,p.resource.width,p.resource.height,1,n.format,i.type,p.resource.source))}return!0},r}(Qv),$r=function(t){Wt(r,t);function r(e){var n=this,i=e,o=i.naturalWidth||i.videoWidth||i.width,u=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,o,u)||this,n.source=e,n.noSubImage=!1,n}return r.crossOrigin=function(e,n,i){i===void 0&&n.indexOf("data:")!==0?e.crossOrigin=lw(n):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")},r.prototype.upload=function(e,n,i,o){var u=e.gl,h=n.realWidth,f=n.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Je.UNPACK),!this.noSubImage&&n.target===u.TEXTURE_2D&&i.width===h&&i.height===f?u.texSubImage2D(u.TEXTURE_2D,0,0,0,n.format,i.type,o):(i.width=h,i.height=f,u.texImage2D(n.target,0,i.internalFormat,n.format,i.type,o)),!0},r.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(n,i),t.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(Gi),Iw=function(t){Wt(r,t);function r(e){return t.call(this,e)||this}return r.test=function(e){var n=globalThis.OffscreenCanvas;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},r}($r),Ew=function(t){Wt(r,t);function r(e,n){var i=this,o=n||{},u=o.width,h=o.height,f=o.autoLoad,c=o.linkBaseTexture;if(e&&e.length!==r.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");i=t.call(this,6,{width:u,height:h})||this;for(var d=0;d<r.SIDES;d++)i.items[d].target=pn.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=c!==!1,e&&i.initFromArray(e,n),f!==!1&&i.load(),i}return r.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=pn.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=pn.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.parentTextureArray=this.baseTexture,this.items[n]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[n]=e,this},r.prototype.upload=function(e,n,i){for(var o=this.itemDirtyIds,u=0;u<r.SIDES;u++){var h=this.items[u];(o[u]<h.dirtyId||i.dirtyId<n.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(e,h,i),o[u]=h.dirtyId):o[u]<-1&&(e.gl.texImage2D(h.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[u]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(Qv),t_=function(t){Wt(r,t);function r(e,n){var i=this;if(n=n||{},!(e instanceof HTMLImageElement)){var o=new Image;$r.crossOrigin(o,e,n.crossorigin),o.src=e,e=o}return i=t.call(this,e)||this,!e.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:K.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return r.prototype.load=function(e){var n=this;return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise(function(i,o){var u=n.source;n.url=u.src;var h=function(){n.destroyed||(u.onload=null,u.onerror=null,n.resize(u.width,u.height),n._load=null,n.createBitmap?i(n.process()):i(n))};u.complete&&u.src?h():(u.onload=h,u.onerror=function(f){o(f),n.onError.emit(f)})}),this._load)},r.prototype.process=function(){var e=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:o?"cors":"no-cors"}).then(function(u){return u.blob()}).then(function(u){return i(u,0,0,n.width,n.height,{premultiplyAlpha:e.alphaMode===Je.UNPACK?"premultiply":"none"})}).then(function(u){return e.destroyed?Promise.reject():(e.bitmap=u,e.update(),e._process=null,Promise.resolve(e))}),this._process},r.prototype.upload=function(e,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,i,this.bitmap),!this.preserveBitmap){var o=!0,u=n._glTextures;for(var h in u){var f=u[h];if(f!==i&&f.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return typeof e=="string"||e instanceof HTMLImageElement},r}($r),Rw=function(t){Wt(r,t);function r(e,n){var i=this;return n=n||{},i=t.call(this,K.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=e,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return r.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(n){if(e._resolve=function(){e.resize(e.source.width,e.source.height),n(e)},r.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},r.prototype._loadSvg=function(){var e=this,n=new Image;$r.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!e._resolve||(n.onerror=null,e.onError.emit(i))},n.onload=function(){if(!!e._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var u=i*e.scale,h=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(u=e._overrideWidth||e._overrideHeight/o*i,h=e._overrideHeight||e._overrideWidth/i*o),u=Math.round(u),h=Math.round(h);var f=e.source;f.width=u,f.height=h,f._pixiId="canvas_"+gn(),f.getContext("2d").drawImage(n,0,0,i,o,0,0,u,h),e._resolve(),e._resolve=null}}},r.getSize=function(e){var n=r.SVG_SIZE.exec(e),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},r.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(e,n){return n==="svg"||typeof e=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||typeof e=="string"&&r.SVG_XML.test(e)},r.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}($r),ww=function(t){Wt(r,t);function r(e,n){var i=this;if(n=n||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);var u=e[0].src||e[0];$r.crossOrigin(o,u,n.crossorigin);for(var h=0;h<e.length;++h){var f=document.createElement("source"),c=e[h],d=c.src,p=c.mime;d=d||e[h];var v=d.split("?").shift().toLowerCase(),g=v.slice(v.lastIndexOf(".")+1);p=p||r.MIME_TYPES[g]||"video/"+g,f.src=d,f.type=p,o.appendChild(f)}e=o}return i=t.call(this,e)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return r.prototype.update=function(e){if(!this.destroyed){var n=ve.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},r.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){e.valid?i(e):(e._resolve=i,n.load())}),this._load},r.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},r.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&e.paused===!1&&e.ended===!1&&e.readyState>2},r.prototype._isSourceReady=function(){var e=this.source;return e.readyState===3||e.readyState===4},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ve.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(ve.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(e.videoWidth,e.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&(ve.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ve.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ve.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),r.test=function(e,n){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||r.TYPES.indexOf(n)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}($r),Cw=function(t){Wt(r,t);function r(e){return t.call(this,e)||this}return r.test=function(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&e instanceof ImageBitmap},r}($r);ju.push(t_,Cw,Iw,ww,Rw,Vi,Ew,bw);var Aw=function(t){Wt(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.upload=function(e,n,i){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Je.UNPACK);var u=n.realWidth,h=n.realHeight;return i.width===u&&i.height===h?o.texSubImage2D(n.target,0,0,0,u,h,n.format,i.type,this.data):(i.width=u,i.height=h,o.texImage2D(n.target,0,i.internalFormat,u,h,0,n.format,i.type,this.data)),!0},r}(Vi),Yu=function(){function t(r,e){this.width=Math.round(r||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new me("disposeFramebuffer"),this.multisample=ie.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(r,e){return r===void 0&&(r=0),this.colorTextures[r]=e||new Ot(null,{scaleMode:Er.NEAREST,resolution:1,mipmap:Cr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(r){return this.depthTexture=r||new Ot(new Aw(null,{width:this.width,height:this.height}),{scaleMode:Er.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Cr.OFF,format:z.DEPTH_COMPONENT,type:nt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(r,e){if(r=Math.round(r),e=Math.round(e),!(r===this.width&&e===this.height)){this.width=r,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(r/o,e/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(r/o,e/o)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),e_=function(t){Wt(r,t);function r(e){e===void 0&&(e={});var n=this;if(typeof e=="number"){var i=arguments[0],o=arguments[1],u=arguments[2],h=arguments[3];e={width:i,height:o,scaleMode:u,resolution:h}}return e.width=e.width||100,e.height=e.height||100,e.multisample=e.multisample!==void 0?e.multisample:ie.NONE,n=t.call(this,null,e)||this,n.mipmap=Cr.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Yu(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=e.multisample,n.maskStack=[],n.filterStack=[{}],n}return r.prototype.resize=function(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},r.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(Ot),r_=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(r,e,n){var i=e.width,o=e.height;if(n){var u=r.width/2/i,h=r.height/2/o,f=r.x/i+u,c=r.y/o+h;n=Yt.add(n,Yt.NW),this.x0=f+u*Yt.uX(n),this.y0=c+h*Yt.uY(n),n=Yt.add(n,2),this.x1=f+u*Yt.uX(n),this.y1=c+h*Yt.uY(n),n=Yt.add(n,2),this.x2=f+u*Yt.uX(n),this.y2=c+h*Yt.uY(n),n=Yt.add(n,2),this.x3=f+u*Yt.uX(n),this.y3=c+h*Yt.uY(n)}else this.x0=r.x/i,this.y0=r.y/o,this.x1=(r.x+r.width)/i,this.y1=r.y/o,this.x2=(r.x+r.width)/i,this.y2=(r.y+r.height)/o,this.x3=r.x/i,this.y3=(r.y+r.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),vd=new r_;function Da(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var pt=function(t){Wt(r,t);function r(e,n,i,o,u,h){var f=t.call(this)||this;if(f.noFrame=!1,n||(f.noFrame=!0,n=new Lt(0,0,1,1)),e instanceof r&&(e=e.baseTexture),f.baseTexture=e,f._frame=n,f.trim=o,f.valid=!1,f._uvs=vd,f.uvMatrix=null,f.orig=i||n,f._rotate=Number(u||0),u===!0)f._rotate=2;else if(f._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return f.defaultAnchor=h?new jt(h.x,h.y):new jt(0,0),f._updateID=0,f.textureCacheIds=[],e.valid?f.noFrame?e.valid&&f.onBaseTextureUpdated(e):f.frame=n:e.once("loaded",f.onBaseTextureUpdated,f),f.noFrame&&e.on("update",f.onBaseTextureUpdated,f),f}return r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture.resource;n&&n.url&&br[n.url]&&r.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){var e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),i=new r(this.baseTexture,!this.noFrame&&e,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i},r.prototype.updateUvs=function(){this._uvs===vd&&(this._uvs=new r_),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=K.STRICT_TEXTURE_CACHE);var o=typeof e=="string",u=null;if(o)u=e;else if(e instanceof Ot){if(!e.cacheId){var h=n&&n.pixiIdPrefix||"pixiid";e.cacheId=h+"-"+gn(),Ot.addToCache(e,e.cacheId)}u=e.cacheId}else{if(!e._pixiId){var h=n&&n.pixiIdPrefix||"pixiid";e._pixiId=h+"_"+gn()}u=e._pixiId}var f=br[u];if(o&&i&&!f)throw new Error('The cacheId "'+u+'" does not exist in TextureCache.');return!f&&!(e instanceof Ot)?(n.resolution||(n.resolution=lo(e)),f=new r(new Ot(e,n)),f.baseTexture.cacheId=u,Ot.addToCache(f.baseTexture,u),r.addToCache(f,u)):!f&&e instanceof Ot&&(f=new r(e),r.addToCache(f,u)),f},r.fromURL=function(e,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),o=r.from(e,Object.assign({resourceOptions:i},n),!1),u=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):u.load().then(function(){return Promise.resolve(o)})},r.fromBuffer=function(e,n,i,o){return new r(Ot.fromBuffer(e,n,i,o))},r.fromLoader=function(e,n,i,o){var u=new Ot(e,Object.assign({scaleMode:K.SCALE_MODE,resolution:lo(n)},o)),h=u.resource;h instanceof t_&&(h.url=n);var f=new r(u);return i||(i=n),Ot.addToCache(f.baseTexture,i),r.addToCache(f,i),i!==n&&(Ot.addToCache(f.baseTexture,n),r.addToCache(f,n)),f.baseTexture.valid?Promise.resolve(f):new Promise(function(c){f.baseTexture.once("loaded",function(){return c(f)})})},r.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),br[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),br[n]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var n=br[e];if(n){var i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete br[e],n}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)br[e.textureCacheIds[o]]===e&&delete br[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var n=e.x,i=e.y,o=e.width,u=e.height,h=n+o>this.baseTexture.width,f=i+u>this.baseTexture.height;if(h||f){var c=h&&f?"and":"or",d="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,p="Y: "+i+" + "+u+" = "+(i+u)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+c+" "+p))}this.valid=o&&u&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(r,"EMPTY",{get:function(){return r._EMPTY||(r._EMPTY=new r(new Ot),Da(r._EMPTY),Da(r._EMPTY.baseTexture)),r._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(r,"WHITE",{get:function(){if(!r._WHITE){var e=K.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),r._WHITE=new r(Ot.from(e)),Da(r._WHITE),Da(r._WHITE.baseTexture)}return r._WHITE},enumerable:!1,configurable:!0}),r}(Xi),mn=function(t){Wt(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,n,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,u=Math.round(e*o)/o,h=Math.round(n*o)/o;this.valid=u>0&&h>0,this._frame.width=this.orig.width=u,this._frame.height=this.orig.height=h,i&&this.baseTexture.resize(u,h),this.updateUvs()},r.prototype.setResolution=function(e){var n=this.baseTexture;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))},r.create=function(e){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return typeof e=="number"&&(or("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:i[0],scaleMode:i[1],resolution:i[2]}),new r(new e_(e))},r}(pt),Pw=function(){function t(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(r,e,n){n===void 0&&(n=ie.NONE);var i=new e_(Object.assign({width:r,height:e,resolution:1,multisample:n},this.textureOptions));return new mn(i)},t.prototype.getOptimalTexture=function(r,e,n,i){n===void 0&&(n=1),i===void 0&&(i=ie.NONE);var o;r=Math.ceil(r*n-1e-6),e=Math.ceil(e*n-1e-6),!this.enableFullScreen||r!==this._pixelsWidth||e!==this._pixelsHeight?(r=fo(r),e=fo(e),o=((r&65535)<<16|e&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var u=this.texturePool[o].pop();return u||(u=this.createTexture(r,e,i)),u.filterPoolKey=o,u.setResolution(n),u},t.prototype.getFilterTexture=function(r,e,n){var i=this.getOptimalTexture(r.width,r.height,e||r.resolution,n||ie.NONE);return i.filterFrame=r.filterFrame,i},t.prototype.returnTexture=function(r){var e=r.filterPoolKey;r.filterFrame=null,this.texturePool[e].push(r)},t.prototype.returnFilterTexture=function(r){this.returnTexture(r)},t.prototype.clear=function(r){if(r=r!==!1,r)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(r){if(!(r.width===this._pixelsWidth&&r.height===this._pixelsHeight)){this.enableFullScreen=r.width>0&&r.height>0;for(var e in this.texturePool)if(Number(e)<0){var n=this.texturePool[e];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=r.width,this._pixelsHeight=r.height}},t.SCREEN_KEY=-1,t}(),_d=function(){function t(r,e,n,i,o,u,h){e===void 0&&(e=0),n===void 0&&(n=!1),i===void 0&&(i=nt.FLOAT),this.buffer=r,this.size=e,this.normalized=n,this.type=i,this.stride=o,this.start=u,this.instance=h}return t.prototype.destroy=function(){this.buffer=null},t.from=function(r,e,n,i,o){return new t(r,e,n,i,o)},t}(),Nw=0,ue=function(){function t(r,e,n){e===void 0&&(e=!0),n===void 0&&(n=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=Nw++,this.disposeRunner=new me("disposeBuffer")}return t.prototype.update=function(r){r instanceof Array&&(r=new Float32Array(r)),this.data=r||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===ar.ELEMENT_ARRAY_BUFFER},set:function(r){this.type=r?ar.ELEMENT_ARRAY_BUFFER:ar.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new t(r)},t}(),Uw={Float32Array,Uint32Array,Int32Array,Uint8Array};function Ow(t,r){for(var e=0,n=0,i={},o=0;o<t.length;o++)n+=r[o],e+=t[o].length;for(var u=new ArrayBuffer(e*4),h=null,f=0,o=0;o<t.length;o++){var c=r[o],d=t[o],p=qv(d);i[p]||(i[p]=new Uw[p](u)),h=i[p];for(var v=0;v<d.length;v++){var g=(v/c|0)*n+f,m=v%c;h[g+m]=d[v]}f+=c}return new Float32Array(u)}var gd={5126:4,5123:2,5121:1},Lw=0,Sw={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Wi=function(){function t(r,e){r===void 0&&(r=[]),e===void 0&&(e={}),this.buffers=r,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Lw++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new me("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(r,e,n,i,o,u,h,f){if(n===void 0&&(n=0),i===void 0&&(i=!1),f===void 0&&(f=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ue||(e instanceof Array&&(e=new Float32Array(e)),e=new ue(e));var c=r.split("|");if(c.length>1){for(var d=0;d<c.length;d++)this.addAttribute(c[d],e,n,i,o);return this}var p=this.buffers.indexOf(e);return p===-1&&(this.buffers.push(e),p=this.buffers.length-1),this.attributes[r]=new _d(p,n,i,o,u,h,f),this.instanced=this.instanced||f,this},t.prototype.getAttribute=function(r){return this.attributes[r]},t.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},t.prototype.addIndex=function(r){return r instanceof ue||(r instanceof Array&&(r=new Uint16Array(r)),r=new ue(r)),r.type=ar.ELEMENT_ARRAY_BUFFER,this.indexBuffer=r,this.buffers.indexOf(r)===-1&&this.buffers.push(r),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var r=[],e=[],n=new ue,i;for(i in this.attributes){var o=this.attributes[i],u=this.buffers[o.buffer];r.push(u.data),e.push(o.size*gd[o.type]/4),o.buffer=0}for(n.data=Ow(r,e),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var r in this.attributes){var e=this.attributes[r],n=this.buffers[e.buffer];return n.data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var r=new t,e=0;e<this.buffers.length;e++)r.buffers[e]=new ue(this.buffers[e].data.slice(0));for(var e in this.attributes){var n=this.attributes[e];r.attributes[e]=new _d(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.type=ar.ELEMENT_ARRAY_BUFFER),r},t.merge=function(r){for(var e=new t,n=[],i=[],o=[],u,h=0;h<r.length;h++){u=r[h];for(var f=0;f<u.buffers.length;f++)i[f]=i[f]||0,i[f]+=u.buffers[f].data.length,o[f]=0}for(var h=0;h<u.buffers.length;h++)n[h]=new Sw[qv(u.buffers[h].data)](i[h]),e.buffers[h]=new ue(n[h]);for(var h=0;h<r.length;h++){u=r[h];for(var f=0;f<u.buffers.length;f++)n[f].set(u.buffers[f].data,o[f]),o[f]+=u.buffers[f].data.length}if(e.attributes=u.attributes,u.indexBuffer){e.indexBuffer=e.buffers[u.buffers.indexOf(u.indexBuffer)],e.indexBuffer.type=ar.ELEMENT_ARRAY_BUFFER;for(var c=0,d=0,p=0,v=0,h=0;h<u.buffers.length;h++)if(u.buffers[h]!==u.indexBuffer){v=h;break}for(var h in u.attributes){var g=u.attributes[h];(g.buffer|0)===v&&(d+=g.size*gd[g.type]/4)}for(var h=0;h<r.length;h++){for(var m=r[h].indexBuffer.data,f=0;f<m.length;f++)e.indexBuffer.data[f+p]+=c;c+=r[h].buffers[v].data.length/d,p+=m.length}}return e},t}(),Fw=function(t){Wt(r,t);function r(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return r}(Wi),n_=function(t){Wt(r,t);function r(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new ue(e.vertices),e.uvBuffer=new ue(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return r.prototype.map=function(e,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/e.width,this.uvs[3]=o,this.uvs[4]=i+n.width/e.width,this.uvs[5]=o+n.height/e.height,this.uvs[6]=i,this.uvs[7]=o+n.height/e.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(Wi),Gw=0,vn=function(){function t(r,e,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Gw++,this.static=!!e,this.ubo=!!n,r instanceof ue?(this.buffer=r,this.buffer.type=ar.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=r,this.ubo&&(this.buffer=new ue(new Float32Array(1)),this.buffer.type=ar.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(r,e,n){if(!this.ubo)this.uniforms[r]=new t(e,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(r,e,n){return new t(r,e,n)},t.uboFrom=function(r,e){return new t(r,e!=null?e:!0,!0)},t}(),Bw=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ie.NONE,this.sourceFrame=new Lt,this.destinationFrame=new Lt,this.bindingSourceFrame=new Lt,this.bindingDestinationFrame=new Lt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Xa=[new jt,new jt,new jt,new jt],eu=new he,Mw=function(){function t(r){this.renderer=r,this.defaultFilterStack=[{}],this.texturePool=new Pw,this.texturePool.setScreenSize(r.view),this.statePool=[],this.quad=new Fw,this.quadUv=new n_,this.tempRect=new Lt,this.activeState={},this.globalUniforms=new vn({outputFrame:new Lt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(r,e){for(var n,i,o=this.renderer,u=this.defaultFilterStack,h=this.statePool.pop()||new Bw,f=this.renderer.renderTexture,c=e[0].resolution,d=e[0].multisample,p=e[0].padding,v=e[0].autoFit,g=(n=e[0].legacy)!==null&&n!==void 0?n:!0,m=1;m<e.length;m++){var x=e[m];c=Math.min(c,x.resolution),d=Math.min(d,x.multisample),p=this.useMaxPadding?Math.max(p,x.padding):p+x.padding,v=v&&x.autoFit,g=g||((i=x.legacy)!==null&&i!==void 0?i:!0)}u.length===1&&(this.defaultFilterStack[0].renderTexture=f.current),u.push(h),h.resolution=c,h.multisample=d,h.legacy=g,h.target=r,h.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),h.sourceFrame.pad(p);var T=this.tempRect.copyFrom(f.sourceFrame);o.projection.transform&&this.transformAABB(eu.copyFrom(o.projection.transform).invert(),T),v?(h.sourceFrame.fit(T),(h.sourceFrame.width<=0||h.sourceFrame.height<=0)&&(h.sourceFrame.width=0,h.sourceFrame.height=0)):h.sourceFrame.intersects(T)||(h.sourceFrame.width=0,h.sourceFrame.height=0),this.roundFrame(h.sourceFrame,f.current?f.current.resolution:o.resolution,f.sourceFrame,f.destinationFrame,o.projection.transform),h.renderTexture=this.getOptimalFilterTexture(h.sourceFrame.width,h.sourceFrame.height,c,d),h.filters=e,h.destinationFrame.width=h.renderTexture.width,h.destinationFrame.height=h.renderTexture.height;var E=this.tempRect;E.x=0,E.y=0,E.width=h.sourceFrame.width,E.height=h.sourceFrame.height,h.renderTexture.filterFrame=h.sourceFrame,h.bindingSourceFrame.copyFrom(f.sourceFrame),h.bindingDestinationFrame.copyFrom(f.destinationFrame),h.transform=o.projection.transform,o.projection.transform=null,f.bind(h.renderTexture,h.sourceFrame,E),o.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var r=this.defaultFilterStack,e=r.pop(),n=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var o=i.inputSize,u=i.inputPixel,h=i.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],u[0]=Math.round(o[0]*e.resolution),u[1]=Math.round(o[1]*e.resolution),u[2]=1/u[0],u[3]=1/u[1],h[0]=.5*u[2],h[1]=.5*u[3],h[2]=e.sourceFrame.width*o[2]-.5*u[2],h[3]=e.sourceFrame.height*o[3]-.5*u[3],e.legacy){var f=i.filterArea;f[0]=e.destinationFrame.width,f[1]=e.destinationFrame.height,f[2]=e.sourceFrame.x,f[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var c=r[r.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,e.renderTexture,c.renderTexture,Vr.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var d=e.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,e.resolution);p.filterFrame=d.filterFrame;var v=0;for(v=0;v<n.length-1;++v){v===1&&e.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,e.resolution),p.filterFrame=d.filterFrame),n[v].apply(this,d,p,Vr.CLEAR,e);var g=d;d=p,p=g}n[v].apply(this,d,c.renderTexture,Vr.BLEND,e),v>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(r,e){e===void 0&&(e=Vr.CLEAR);var n=this.renderer,i=n.renderTexture,o=n.state;if(r===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,r&&r.filterFrame){var u=this.tempRect;u.x=0,u.y=0,u.width=r.filterFrame.width,u.height=r.filterFrame.height,i.bind(r,r.filterFrame,u)}else r!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(r):this.renderer.renderTexture.bind(r,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var h=o.stateId&1||this.forceClear;(e===Vr.CLEAR||e===Vr.BLIT&&h)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(r,e,n,i){var o=this.renderer;o.state.set(r.state),this.bindAndClear(n,i),r.uniforms.uSampler=e,r.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(r),r.legacy=!!r.program.attributeData.aTextureCoord,r.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Ze.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Ze.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,e){var n=this.activeState,i=n.sourceFrame,o=n.destinationFrame,u=e._texture.orig,h=r.set(o.width,0,0,o.height,i.x,i.y),f=e.worldTransform.copyTo(he.TEMP_MATRIX);return f.invert(),h.prepend(f),h.scale(1/u.width,1/u.height),h.translate(e.anchor.x,e.anchor.y),h},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,e,n,i){return n===void 0&&(n=1),i===void 0&&(i=ie.NONE),this.texturePool.getOptimalTexture(r,e,n,i)},t.prototype.getFilterTexture=function(r,e,n){if(typeof r=="number"){var i=r;r=e,e=i}r=r||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(r.width,r.height,e||r.resolution,n||ie.NONE);return o.filterFrame=r.filterFrame,o},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(r,e){var n=Xa[0],i=Xa[1],o=Xa[2],u=Xa[3];n.set(e.left,e.top),i.set(e.left,e.bottom),o.set(e.right,e.top),u.set(e.right,e.bottom),r.apply(n,n),r.apply(i,i),r.apply(o,o),r.apply(u,u);var h=Math.min(n.x,i.x,o.x,u.x),f=Math.min(n.y,i.y,o.y,u.y),c=Math.max(n.x,i.x,o.x,u.x),d=Math.max(n.y,i.y,o.y,u.y);e.x=h,e.y=f,e.width=c-h,e.height=d-f},t.prototype.roundFrame=function(r,e,n,i,o){if(!(r.width<=0||r.height<=0||n.width<=0||n.height<=0)){if(o){var u=o.a,h=o.b,f=o.c,c=o.d;if((Math.abs(h)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(u)>1e-4||Math.abs(c)>1e-4))return}o=o?eu.copyFrom(o):eu.identity(),o.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,r),r.ceil(e),this.transformAABB(o.invert(),r)}},t}(),Ro=function(){function t(r){this.renderer=r}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(r){},t}(),Hw=function(){function t(r){this.renderer=r,this.emptyRenderer=new Ro(r),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(r,e){for(var n=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)r[i]=n[i]||null,r[i]&&(r[i]._batchLocation=i)},t.prototype.boundArray=function(r,e,n,i){for(var o=r.elements,u=r.ids,h=r.count,f=0,c=0;c<h;c++){var d=o[c],p=d._batchLocation;if(p>=0&&p<i&&e[p]===d){u[c]=p;continue}for(;f<i;){var v=e[f];if(v&&v._batchEnabled===n&&v._batchLocation===f){f++;continue}u[c]=f,d._batchLocation=f,e[f]=d;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),md=0,kw=function(){function t(r){this.renderer=r,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=md++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=md++,this.renderer.runners.contextChange.emit(r)},t.prototype.initFromOptions=function(r){var e=this.createContext(this.renderer.view,r);this.initFromContext(e)},t.prototype.createContext=function(r,e){var n;if(K.PREFER_ENV>=wr.WEBGL2&&(n=r.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var r=this.gl,e={anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:r.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(r){r.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var r=this.renderer.view;this.renderer=null,r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(r){var e=r.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),Dw=function(){function t(r){this.framebuffer=r,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ie.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),Xw=new Lt,Vw=function(){function t(r){this.renderer=r,this.managedFramebuffers=[],this.unknownFramebuffer=new Yu(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;K.PREFER_ENV===wr.WEBGL_LEGACY&&(e=null,n=null),e?r.drawBuffers=function(i){return e.drawBuffersWEBGL(i)}:(this.hasMRT=!1,r.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},t.prototype.bind=function(r,e,n){n===void 0&&(n=0);var i=this.gl;if(r){var o=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(r.dirtyId++,r.dirtyFormat++,o.mipLevel=n),o.dirtyId!==r.dirtyId&&(o.dirtyId=r.dirtyId,o.dirtyFormat!==r.dirtyFormat?(o.dirtyFormat=r.dirtyFormat,o.dirtySize=r.dirtySize,this.updateFramebuffer(r,n)):o.dirtySize!==r.dirtySize&&(o.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var u=0;u<r.colorTextures.length;u++){var h=r.colorTextures[u];this.renderer.texture.unbind(h.parentTextureArray||h)}if(r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),e){var f=e.width>>n,c=e.height>>n,d=f/e.width;this.setViewport(e.x*d,e.y*d,f,c)}else{var f=r.width>>n,c=r.height>>n;this.setViewport(0,0,f,c)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(r,e,n,i){var o=this.viewport;r=Math.round(r),e=Math.round(e),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==r||o.y!==e)&&(o.x=r,o.y=e,o.width=n,o.height=i,this.gl.viewport(r,e,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(r,e,n,i,o){o===void 0&&(o=uo.COLOR|uo.DEPTH);var u=this.gl;u.clearColor(r,e,n,i),u.clear(o)},t.prototype.initFramebuffer=function(r){var e=this.gl,n=new Dw(e.createFramebuffer());return n.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(r),r.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(r){var e=this.gl,n=r.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,r.width,r.height)),n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),n.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.DEPTH24_STENCIL8,r.width,r.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r.width,r.height));var i=r.colorTextures,o=i.length;e.drawBuffers||(o=Math.min(o,1));for(var u=0;u<o;u++){var h=i[u],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0)}r.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(r.depthTexture,0)},t.prototype.updateFramebuffer=function(r,e){var n=this.gl,i=r.glFramebuffers[this.CONTEXT_UID],o=r.colorTextures,u=o.length;n.drawBuffers||(u=Math.min(u,1)),i.multisample>1&&this.canMultisampleFramebuffer(r)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var h=[],f=0;f<u;f++){var c=o[f],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),!(f===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,c.target,d._glTextures[this.CONTEXT_UID].texture,e),h.push(n.COLOR_ATTACHMENT0+f))}if(h.length>1&&n.drawBuffers(h),r.depthTexture){var p=this.writeDepthTexture;if(p){var v=r.depthTexture;this.renderer.texture.bind(v,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,e)}}(r.stencil||r.depth)&&!(r.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,r.width,r.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(r){return this.renderer.context.webGLVersion!==1&&r.colorTextures.length<=1&&!r.depthTexture},t.prototype.detectSamples=function(r){var e=this.msaaSamples,n=ie.NONE;if(r<=1||e===null)return n;for(var i=0;i<e.length;i++)if(e[i]<=r){n=e[i];break}return n===1&&(n=ie.NONE),n},t.prototype.blit=function(r,e,n){var i=this,o=i.current,u=i.renderer,h=i.gl,f=i.CONTEXT_UID;if(u.context.webGLVersion===2&&!!o){var c=o.glFramebuffers[f];if(!!c){if(!r){if(!c.msaaBuffer)return;var d=o.colorTextures[0];if(!d)return;c.blitFramebuffer||(c.blitFramebuffer=new Yu(o.width,o.height),c.blitFramebuffer.addColorTexture(0,d)),r=c.blitFramebuffer,r.colorTextures[0]!==d&&(r.colorTextures[0]=d,r.dirtyId++,r.dirtyFormat++),(r.width!==o.width||r.height!==o.height)&&(r.width=o.width,r.height=o.height,r.dirtyId++,r.dirtySize++)}e||(e=Xw,e.width=o.width,e.height=o.height),n||(n=e);var p=e.width===n.width&&e.height===n.height;this.bind(r),h.bindFramebuffer(h.READ_FRAMEBUFFER,c.framebuffer),h.blitFramebuffer(e.left,e.top,e.right,e.bottom,n.left,n.top,n.right,n.bottom,h.COLOR_BUFFER_BIT,p?h.NEAREST:h.LINEAR)}}},t.prototype.disposeFramebuffer=function(r,e){var n=r.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!n){delete r.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(r);o>=0&&this.managedFramebuffers.splice(o,1),r.disposeRunner.remove(this),e||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(r){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],r)},t.prototype.forceStencil=function(){var r=this.current;if(!!r){var e=r.glFramebuffers[this.CONTEXT_UID];if(!(!e||e.stencil)){r.stencil=!0;var n=r.width,i=r.height,o=this.gl,u=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,u),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,n,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,i),e.stencil=u,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,u)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Lt},t.prototype.destroy=function(){this.renderer=null},t}(),ru={5126:4,5123:2,5121:1},Ww=function(){function t(r){this.renderer=r,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;K.PREFER_ENV===wr.WEBGL_LEGACY&&(n=null),n?(r.createVertexArray=function(){return n.createVertexArrayOES()},r.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},r.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(e.webGLVersion!==2){var i=r.getExtension("ANGLE_instanced_arrays");i?(r.vertexAttribDivisor=function(o,u){return i.vertexAttribDivisorANGLE(o,u)},r.drawElementsInstanced=function(o,u,h,f,c){return i.drawElementsInstancedANGLE(o,u,h,f,c)},r.drawArraysInstanced=function(o,u,h,f){return i.drawArraysInstancedANGLE(o,u,h,f)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(r,e){e=e||this.renderer.shader.shader;var n=this.gl,i=r.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var u=i[e.program.id]||this.initGeometryVao(r,e,o);this._activeGeometry=r,this._activeVao!==u&&(this._activeVao=u,this.hasVao?n.bindVertexArray(u):this.activateVao(r,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,e=this.renderer.buffer,n=0;n<r.buffers.length;n++){var i=r.buffers[n];e.update(i)}},t.prototype.checkCompatibility=function(r,e){var n=r.attributes,i=e.attributeData;for(var o in i)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},t.prototype.getSignature=function(r,e){var n=r.attributes,i=e.attributeData,o=["g",r.id];for(var u in n)i[u]&&o.push(u,i[u].location);return o.join("-")},t.prototype.initGeometryVao=function(r,e,n){n===void 0&&(n=!0);var i=this.gl,o=this.CONTEXT_UID,u=this.renderer.buffer,h=e.program;h.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(r,h);var f=this.getSignature(r,h),c=r.glVertexArrayObjects[this.CONTEXT_UID],d=c[f];if(d)return c[h.id]=d,d;var p=r.buffers,v=r.attributes,g={},m={};for(var x in p)g[x]=0,m[x]=0;for(var x in v)!v[x].size&&h.attributeData[x]?v[x].size=h.attributeData[x].size:v[x].size||console.warn("PIXI Geometry attribute '"+x+"' size cannot be determined (likely the bound shader does not have the attribute)"),g[v[x].buffer]+=v[x].size*ru[v[x].type];for(var x in v){var T=v[x],E=T.size;T.stride===void 0&&(g[T.buffer]===E*ru[T.type]?T.stride=0:T.stride=g[T.buffer]),T.start===void 0&&(T.start=m[T.buffer],m[T.buffer]+=E*ru[T.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var U=0;U<p.length;U++){var P=p[U];u.bind(P),n&&P._glBuffers[o].refCount++}return this.activateVao(r,h),this._activeVao=d,c[h.id]=d,c[f]=d,d},t.prototype.disposeGeometry=function(r,e){var n;if(!!this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var i=r.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,u=r.buffers,h=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(r.disposeRunner.remove(this),!!i){if(h)for(var f=0;f<u.length;f++){var c=u[f]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!e&&h.dispose(u[f],e))}if(!e){for(var d in i)if(d[0]==="g"){var p=i[d];this._activeVao===p&&this.unbind(),o.deleteVertexArray(p)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],r)},t.prototype.activateVao=function(r,e){var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,u=r.buffers,h=r.attributes;r.indexBuffer&&o.bind(r.indexBuffer);var f=null;for(var c in h){var d=h[c],p=u[d.buffer],v=p._glBuffers[i];if(e.attributeData[c]){f!==v&&(o.bind(p),f=v);var g=e.attributeData[c].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,e,n,i){var o=this.gl,u=this._activeGeometry;if(u.indexBuffer){var h=u.indexBuffer.data.BYTES_PER_ELEMENT,f=h===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;h===2||h===4&&this.canUseUInt32ElementIndex?u.instanced?o.drawElementsInstanced(r,e||u.indexBuffer.data.length,f,(n||0)*h,i||1):o.drawElements(r,e||u.indexBuffer.data.length,f,(n||0)*h):console.warn("unsupported index buffer type: uint32")}else u.instanced?o.drawArraysInstanced(r,n,e||u.getSize(),i||1):o.drawArrays(r,n,e||u.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),zw=function(){function t(r){r===void 0&&(r=null),this.type=se.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=K.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(r){r?this._filters?this._filters[0]=r:this._filters=[r]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=se.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function yd(t,r,e){var n=t.createShader(r);return t.shaderSource(n,e),t.compileShader(n),n}function xd(t,r){var e=t.getShaderSource(r).split(`
`).map(function(c,d){return d+": "+c}),n=t.getShaderInfoLog(r),i=n.split(`
`),o={},u=i.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return c&&!o[c]?(o[c]=!0,!0):!1}),h=[""];u.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",h.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var f=e.join(`
`);h[0]=f,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,h),console.groupEnd()}function jw(t,r,e,n){t.getProgramParameter(r,t.LINK_STATUS)||(t.getShaderParameter(e,t.COMPILE_STATUS)||xd(t,e),t.getShaderParameter(n,t.COMPILE_STATUS)||xd(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(r)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(r)))}function nu(t){for(var r=new Array(t),e=0;e<r.length;e++)r[e]=!1;return r}function i_(t,r){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"uvec2":return new Uint32Array(2*r);case"uvec3":return new Uint32Array(3*r);case"uvec4":return new Uint32Array(4*r);case"bool":return!1;case"bvec2":return nu(2*r);case"bvec3":return nu(3*r);case"bvec4":return nu(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var a_={},yi=a_;function $w(){if(yi===a_||yi&&yi.isContextLost()){var t=K.ADAPTER.createCanvas(),r=void 0;K.PREFER_ENV>=wr.WEBGL2&&(r=t.getContext("webgl2",{})),r||(r=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),r?r.getExtension("WEBGL_draw_buffers"):r=null),yi=r}return yi}var Va;function qw(){if(!Va){Va=ir.MEDIUM;var t=$w();if(t&&t.getShaderPrecisionFormat){var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Va=r.precision?ir.HIGH:ir.MEDIUM}}return Va}function Td(t,r,e){if(t.substring(0,9)!=="precision"){var n=r;return r===ir.HIGH&&e!==ir.HIGH&&(n=ir.MEDIUM),"precision "+n+` float;
`+t}else if(e!==ir.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var Yw={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function o_(t){return Yw[t]}var Wa=null,bd={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function s_(t,r){if(!Wa){var e=Object.keys(bd);Wa={};for(var n=0;n<e.length;++n){var i=e[n];Wa[t[i]]=bd[i]}}return Wa[r]}var Zn=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,r){return t.type==="mat3"&&t.size===1&&r.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,r){return t.type==="vec2"&&t.size===1&&r.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,r){return t.type==="vec4"&&t.size===1&&r.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Zw={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Kw={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Jw(t,r){var e,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var o=r[i];if(!o){!((e=t.uniforms[i])===null||e===void 0)&&e.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var u=t.uniforms[i],h=!1,f=0;f<Zn.length;f++)if(Zn[f].test(o,u)){n.push(Zn[f].code(i,u)),h=!0;break}if(!h){var c=o.size===1?Zw:Kw,d=c[o.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var Qw=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function t2(t){for(var r="",e=0;e<t;++e)e>0&&(r+=`
else `),e<t-1&&(r+="if(test == "+e+".0){}");return r}function e2(t,r){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=r.createShader(r.FRAGMENT_SHADER);;){var n=Qw.replace(/%forloop%/gi,t2(t));if(r.shaderSource(e,n),r.compileShader(e),!r.getShaderParameter(e,r.COMPILE_STATUS))t=t/2|0;else break}return t}var xi;function r2(){if(typeof xi=="boolean")return xi;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");xi=t({a:"b"},"a","b")===!0}catch{xi=!1}return xi}var n2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,i2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,a2=0,za={},zi=function(){function t(r,e,n){n===void 0&&(n="pixi-shader"),this.id=a2++,this.vertexSrc=r||t.defaultVertexSrc,this.fragmentSrc=e||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),za[n]?(za[n]++,n+="-"+za[n]):za[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Td(this.vertexSrc,K.PRECISION_VERTEX,ir.HIGH),this.fragmentSrc=Td(this.fragmentSrc,K.PRECISION_FRAGMENT,qw())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return i2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return n2},enumerable:!1,configurable:!0}),t.from=function(r,e,n){var i=r+e,o=$c[i];return o||($c[i]=o=new t(r,e,n)),o},t}(),jr=function(){function t(r,e){this.uniformBindCount=0,this.program=r,e?e instanceof vn?this.uniformGroup=e:this.uniformGroup=new vn(e):this.uniformGroup=new vn({})}return t.prototype.checkUniformExists=function(r,e){if(e.uniforms[r])return!0;for(var n in e.uniforms){var i=e.uniforms[n];if(i.group&&this.checkUniformExists(r,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(r,e,n){var i=zi.from(r,e);return new t(i,n)},t}(),iu=0,au=1,ou=2,su=3,uu=4,hu=5,yn=function(){function t(){this.data=0,this.blendMode=at.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<iu)},set:function(r){!!(this.data&1<<iu)!==r&&(this.data^=1<<iu)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<au)},set:function(r){!!(this.data&1<<au)!==r&&(this.data^=1<<au)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<ou)},set:function(r){!!(this.data&1<<ou)!==r&&(this.data^=1<<ou)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<su)},set:function(r){!!(this.data&1<<su)!==r&&(this.data^=1<<su)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<hu)},set:function(r){!!(this.data&1<<hu)!==r&&(this.data^=1<<hu)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<uu)},set:function(r){!!(this.data&1<<uu)!==r&&(this.data^=1<<uu)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==at.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var r=new t;return r.depthTest=!1,r.blend=!0,r},t}(),o2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,s2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,qr=function(t){Wt(r,t);function r(e,n,i){var o=this,u=zi.from(e||r.defaultVertexSrc,n||r.defaultFragmentSrc);return o=t.call(this,u,i)||this,o.padding=0,o.resolution=K.FILTER_RESOLUTION,o.multisample=K.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new yn,o}return r.prototype.apply=function(e,n,i,o,u){e.applyFilter(this,n,i,o)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return s2},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return o2},enumerable:!1,configurable:!0}),r}(jr),u2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,h2=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Id=new he,Nh=function(){function t(r,e){this._texture=r,this.mapCoord=new he,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(r,e){e===void 0&&(e=r);for(var n=this.mapCoord,i=0;i<r.length;i+=2){var o=r[i],u=r[i+1];e[i]=o*n.a+u*n.c+n.tx,e[i+1]=o*n.b+u*n.d+n.ty}return e},t.prototype.update=function(r){var e=this._texture;if(!e||!e.valid||!r&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=e.orig,o=e.trim;o&&(Id.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Id));var u=e.baseTexture,h=this.uClampFrame,f=this.clampMargin/u.resolution,c=this.clampOffset;return h[0]=(e._frame.x+f+c)/u.width,h[1]=(e._frame.y+f+c)/u.height,h[2]=(e._frame.x+e._frame.width-f+c)/u.width,h[3]=(e._frame.y+e._frame.height-f+c)/u.height,this.uClampOffset[0]=c/u.realWidth,this.uClampOffset[1]=c/u.realHeight,this.isSimple=e._frame.width===u.width&&e._frame.height===u.height&&e.rotate===0,!0},t}(),f2=function(t){Wt(r,t);function r(e,n,i){var o=this,u=null;return typeof e!="string"&&n===void 0&&i===void 0&&(u=e,e=void 0,n=void 0,i=void 0),o=t.call(this,e||u2,n||h2,i)||this,o.maskSprite=u,o.maskMatrix=new he,o}return Object.defineProperty(r.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),r.prototype.apply=function(e,n,i,o){var u=this._maskSprite,h=u._texture;!h.valid||(h.uvMatrix||(h.uvMatrix=new Nh(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,u).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=u.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,e.applyFilter(this,n,i,o))},r}(qr),l2=function(){function t(r){this.renderer=r,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},t.prototype.push=function(r,e){var n=e;if(!n.isMaskData){var i=this.maskDataPool.pop()||new zw;i.pooled=!0,i.maskObject=e,n=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n._colorMask=o?o._colorMask:15,n.autoDetect&&this.detect(n),n._target=r,n.type!==se.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case se.SCISSOR:this.renderer.scissor.push(n);break;case se.STENCIL:this.renderer.stencil.push(n);break;case se.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case se.COLOR:this.pushColorMask(n);break}n.type===se.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(r){var e=this.maskStack.pop();if(!(!e||e._target!==r)){if(e.enabled)switch(e.type){case se.SCISSOR:this.renderer.scissor.pop(e);break;case se.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case se.SPRITE:this.popSpriteMask(e);break;case se.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===se.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(r){var e=r.maskObject;e?e.isSprite?r.type=se.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(r)?r.type=se.SCISSOR:r.type=se.STENCIL:r.type=se.COLOR},t.prototype.pushSpriteMask=function(r){var e,n,i=r.maskObject,o=r._target,u=r._filters;u||(u=this.alphaMaskPool[this.alphaMaskIndex],u||(u=this.alphaMaskPool[this.alphaMaskIndex]=[new f2]));var h=this.renderer,f=h.renderTexture,c,d;if(f.current){var p=f.current;c=r.resolution||p.resolution,d=(e=r.multisample)!==null&&e!==void 0?e:p.multisample}else c=r.resolution||h.resolution,d=(n=r.multisample)!==null&&n!==void 0?n:h.multisample;u[0].resolution=c,u[0].multisample=d,u[0].maskSprite=i;var v=o.filterArea;o.filterArea=i.getBounds(!0),h.filter.push(o,u),o.filterArea=v,r._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(r){this.renderer.filter.pop(),r._filters?r._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(r){var e=r._colorMask,n=r._colorMask=e&r.colorMask;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(r){var e=r._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),u_=function(){function t(r){this.renderer=r,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(r){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=r;var i=this.getStackLength();i!==n&&(i===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),Ed=new he,Rd=[],c2=function(t){Wt(r,t);function r(e){var n=t.call(this,e)||this;return n.glConst=K.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},r.prototype.calcScissorRect=function(e){var n;if(!e._scissorRectLocal){var i=e._scissorRect,o=e.maskObject,u=this.renderer,h=u.renderTexture,f=o.getBounds(!0,(n=Rd.pop())!==null&&n!==void 0?n:new Lt);this.roundFrameToPixels(f,h.current?h.current.resolution:u.resolution,h.sourceFrame,h.destinationFrame,u.projection.transform),i&&f.fit(i),e._scissorRectLocal=f}},r.isMatrixRotated=function(e){if(!e)return!1;var n=e.a,i=e.b,o=e.c,u=e.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(u)>1e-4)},r.prototype.testScissor=function(e){var n=e.maskObject;if(!n.isFastRect||!n.isFastRect()||r.isMatrixRotated(n.worldTransform)||r.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var i=e._scissorRectLocal;return i.width>0&&i.height>0},r.prototype.roundFrameToPixels=function(e,n,i,o,u){r.isMatrixRotated(u)||(u=u?Ed.copyFrom(u):Ed.identity(),u.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(u,e),e.fit(o),e.x=Math.round(e.x*n),e.y=Math.round(e.y*n),e.width=Math.round(e.width*n),e.height=Math.round(e.height*n))},r.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var n=this.renderer.gl;e._scissorRect||n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},r.prototype.pop=function(e){var n=this.renderer.gl;e&&Rd.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},r.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=e.y:n=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,n,e.width,e.height)},r}(u_),d2=function(t){Wt(r,t);function r(e){var n=t.call(this,e)||this;return n.glConst=K.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},r.prototype.push=function(e){var n=e.maskObject,i=this.renderer.gl,o=e._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;var u=e._colorMask;u!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,u!==0&&(e._colorMask=u,i.colorMask((u&1)!==0,(u&2)!==0,(u&4)!==0,(u&8)!==0)),this._useCurrent()},r.prototype.pop=function(e){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,o=i?i._colorMask:15;o!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,o!==0&&(i._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}},r.prototype._useCurrent=function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},r}(u_),p2=function(){function t(r){this.renderer=r,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new he,this.transform=null}return t.prototype.update=function(r,e,n,i){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,e,n,i){var o=this.projectionMatrix,u=i?-1:1;o.identity(),o.a=1/e.width*2,o.d=u*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-u-e.y*o.d},t.prototype.setTransform=function(r){},t.prototype.destroy=function(){this.renderer=null},t}(),sn=new Lt,Ti=new Lt,v2=function(){function t(r){this.renderer=r,this.clearColor=r._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Lt,this.destinationFrame=new Lt,this.viewportFrame=new Lt}return t.prototype.bind=function(r,e,n){r===void 0&&(r=null);var i=this.renderer;this.current=r;var o,u,h;r?(o=r.baseTexture,h=o.resolution,e||(sn.width=r.frame.width,sn.height=r.frame.height,e=sn),n||(Ti.x=r.frame.x,Ti.y=r.frame.y,Ti.width=e.width,Ti.height=e.height,n=Ti),u=o.framebuffer):(h=i.resolution,e||(sn.width=i.screen.width,sn.height=i.screen.height,e=sn),n||(n=sn,n.width=e.width,n.height=e.height));var f=this.viewportFrame;f.x=n.x*h,f.y=n.y*h,f.width=n.width*h,f.height=n.height*h,r||(f.y=i.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(u,f),this.renderer.projection.update(n,e,h,!u),r?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(r,e){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==i.width||n.height!==i.height;if(o){var u=this.viewportFrame,h=u.x,f=u.y,c=u.width,d=u.height;h=Math.round(h),f=Math.round(f),c=Math.round(c),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,f,c,d)}this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],e),o&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function _2(t,r,e,n,i){e.buffer.update(i)}var g2={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},h_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function m2(t){for(var r=t.map(function(f){return{data:f,offset:0,dataLen:0,dirty:0}}),e=0,n=0,i=0,o=0;o<r.length;o++){var u=r[o];if(e=h_[u.data.type],u.data.size>1&&(e=Math.max(e,16)*u.data.size),u.dataLen=e,n%e!==0&&n<16){var h=n%e%16;n+=h,i+=h}n+e>16?(i=Math.ceil(i/16)*16,u.offset=i,i+=e,n=e):(u.offset=i,n+=e,i+=e)}return i=Math.ceil(i/16)*16,{uboElements:r,size:i}}function y2(t,r){var e=[];for(var n in t)r[n]&&e.push(r[n]);return e.sort(function(i,o){return i.index-o.index}),e}function x2(t,r){if(!t.autoManage)return{size:0,syncFunc:_2};for(var e=y2(t.uniforms,r),n=m2(e),i=n.uboElements,o=n.size,u=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],h=0;h<i.length;h++){for(var f=i[h],c=t.uniforms[f.data.name],d=f.data.name,p=!1,v=0;v<Zn.length;v++){var g=Zn[v];if(g.codeUbo&&g.test(f.data,c)){u.push("offset = "+f.offset/4+";",Zn[v].codeUbo(f.data.name,c)),p=!0;break}}if(!p)if(f.data.size>1){var m=o_(f.data.type),x=Math.max(h_[f.data.type]/16,1),T=m/x,E=(4-T%4)%4;u.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+f.offset/4+`;

                t = 0;

                for(var i=0; i < `+f.data.size*x+`; i++)
                {
                    for(var j = 0; j < `+T+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+E+`;
                }

                `)}else{var U=g2[f.data.type];u.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+f.offset/4+`;
                `+U+`;
                `)}}return u.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",u.join(`
`))}}var T2=function(){function t(r,e){this.program=r,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function b2(t,r){for(var e={},n=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=r.getActiveAttrib(t,i);if(o.name.indexOf("gl_")!==0){var u=s_(r,o.type),h={type:u,name:o.name,size:o_(u),location:r.getAttribLocation(t,o.name)};e[o.name]=h}}return e}function I2(t,r){for(var e={},n=r.getProgramParameter(t,r.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=r.getActiveUniform(t,i),u=o.name.replace(/\[.*?\]$/,""),h=!!o.name.match(/\[.*?\]$/),f=s_(r,o.type);e[u]={name:u,index:i,type:f,size:o.size,isArray:h,value:i_(f,o.size)}}return e}function E2(t,r){var e=yd(t,t.VERTEX_SHADER,r.vertexSrc),n=yd(t,t.FRAGMENT_SHADER,r.fragmentSrc),i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||jw(t,i,e,n),r.attributeData=b2(i,t),r.uniformData=I2(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(r.vertexSrc)){var o=Object.keys(r.attributeData);o.sort(function(d,p){return d>p?1:-1});for(var u=0;u<o.length;u++)r.attributeData[o[u]].location=u,t.bindAttribLocation(i,u,o[u]);t.linkProgram(i)}t.deleteShader(e),t.deleteShader(n);var h={};for(var u in r.uniformData){var f=r.uniformData[u];h[u]={location:t.getUniformLocation(i,u),value:i_(f.type,f.size)}}var c=new T2(i,h);return c}var R2=0,ja={textureCount:0,uboCount:0},w2=function(){function t(r){this.destroyed=!1,this.renderer=r,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=R2++}return t.prototype.systemCheck=function(){if(!r2())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,e){r.uniforms.globals=this.renderer.globalUniforms;var n=r.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(r);return this.shader=r,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),e||(ja.textureCount=0,ja.uboCount=0,this.syncUniformGroup(r.uniformGroup,ja)),i},t.prototype.setUniforms=function(r){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r,e){var n=this.getGlProgram();(!r.static||r.dirtyId!==n.uniformDirtyGroups[r.id])&&(n.uniformDirtyGroups[r.id]=r.dirtyId,this.syncUniforms(r,n,e))},t.prototype.syncUniforms=function(r,e,n){var i=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);i(e.uniformData,r.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(r){var e=this.getSignature(r,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=Jw(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[e],r.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(r,e){var n=this.getGlProgram();if(!r.static||r.dirtyId!==0||!n.uniformGroups[r.id]){r.dirtyId=0;var i=n.uniformGroups[r.id]||this.createSyncBufferGroup(r,n,e);r.buffer.update(),i(n.uniformData,r.uniforms,this.renderer,ja,r.buffer)}this.renderer.buffer.bindBufferBase(r.buffer,n.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(r,e,n){var i=this.renderer.gl;this.renderer.buffer.bind(r.buffer);var o=this.gl.getUniformBlockIndex(e.program,n);e.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var u=this.getSignature(r,this.shader.program.uniformData,"ubo"),h=this._uboCache[u];if(h||(h=this._uboCache[u]=x2(r,this.shader.program.uniformData)),r.autoManage){var f=new Float32Array(h.size/4);r.buffer.update(f)}return e.uniformGroups[r.id]=h.syncFunc,e.uniformGroups[r.id]},t.prototype.getSignature=function(r,e,n){var i=r.uniforms,o=[n+"-"];for(var u in i)o.push(u),e[u]&&o.push(e[u].type);return o.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(r){var e=this.gl,n=r.program,i=E2(e,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function C2(t,r){return r===void 0&&(r=[]),r[at.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.ADD]=[t.ONE,t.ONE],r[at.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.NONE]=[0,0],r[at.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],r[at.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[at.SRC_IN]=[t.DST_ALPHA,t.ZERO],r[at.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],r[at.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[at.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],r[at.DST_IN]=[t.ZERO,t.SRC_ALPHA],r[at.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],r[at.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],r[at.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[at.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],r}var A2=0,P2=1,N2=2,U2=3,O2=4,L2=5,S2=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=at.NONE,this._blendEq=!1,this.map=[],this.map[A2]=this.setBlend,this.map[P2]=this.setOffset,this.map[N2]=this.setCullFace,this.map[U2]=this.setDepthTest,this.map[O2]=this.setFrontFace,this.map[L2]=this.setDepthMask,this.checks=[],this.defaultState=new yn,this.defaultState.blend=!0}return t.prototype.contextChange=function(r){this.gl=r,this.blendModes=C2(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var e=this.stateId^r.data,n=0;e;)e&1&&this.map[n].call(this,!!(r.data&1<<n)),e=e>>1,n++;this.stateId=r.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(r.data&1<<e));for(var e=0;e<this.checks.length;e++)this.checks[e](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(r){this.gl.depthMask(r)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var e=this.blendModes[r],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,e){this.gl.polygonOffset(r,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,e){var n=this.checks.indexOf(r);e&&n===-1?this.checks.push(r):!e&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(r,e){r.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(r,e){r.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),F2=function(){function t(r){this.renderer=r,this.count=0,this.checkCount=0,this.maxIdle=K.GC_MAX_IDLE,this.checkCountMax=K.GC_MAX_CHECK_COUNT,this.mode=K.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Xu.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var r=this.renderer.texture,e=r.managedTextures,n=!1,i=0;i<e.length;i++){var o=e[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(r.destroyTexture(o,!0),e[i]=null,n=!0)}if(n){for(var u=0,i=0;i<e.length;i++)e[i]!==null&&(e[u++]=e[i]);e.length=u}},t.prototype.unload=function(r){var e=this.renderer.texture,n=r._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var i=r.children.length-1;i>=0;i--)this.unload(r.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function G2(t){var r,e,n,i,o,u,h,f,c,d,p,v,g,m,x,T,E,U,P,N,A,C,M;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?M=(r={},r[nt.UNSIGNED_BYTE]=(e={},e[z.RGBA]=t.RGBA8,e[z.RGB]=t.RGB8,e[z.RG]=t.RG8,e[z.RED]=t.R8,e[z.RGBA_INTEGER]=t.RGBA8UI,e[z.RGB_INTEGER]=t.RGB8UI,e[z.RG_INTEGER]=t.RG8UI,e[z.RED_INTEGER]=t.R8UI,e[z.ALPHA]=t.ALPHA,e[z.LUMINANCE]=t.LUMINANCE,e[z.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,e),r[nt.BYTE]=(n={},n[z.RGBA]=t.RGBA8_SNORM,n[z.RGB]=t.RGB8_SNORM,n[z.RG]=t.RG8_SNORM,n[z.RED]=t.R8_SNORM,n[z.RGBA_INTEGER]=t.RGBA8I,n[z.RGB_INTEGER]=t.RGB8I,n[z.RG_INTEGER]=t.RG8I,n[z.RED_INTEGER]=t.R8I,n),r[nt.UNSIGNED_SHORT]=(i={},i[z.RGBA_INTEGER]=t.RGBA16UI,i[z.RGB_INTEGER]=t.RGB16UI,i[z.RG_INTEGER]=t.RG16UI,i[z.RED_INTEGER]=t.R16UI,i[z.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),r[nt.SHORT]=(o={},o[z.RGBA_INTEGER]=t.RGBA16I,o[z.RGB_INTEGER]=t.RGB16I,o[z.RG_INTEGER]=t.RG16I,o[z.RED_INTEGER]=t.R16I,o),r[nt.UNSIGNED_INT]=(u={},u[z.RGBA_INTEGER]=t.RGBA32UI,u[z.RGB_INTEGER]=t.RGB32UI,u[z.RG_INTEGER]=t.RG32UI,u[z.RED_INTEGER]=t.R32UI,u[z.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,u),r[nt.INT]=(h={},h[z.RGBA_INTEGER]=t.RGBA32I,h[z.RGB_INTEGER]=t.RGB32I,h[z.RG_INTEGER]=t.RG32I,h[z.RED_INTEGER]=t.R32I,h),r[nt.FLOAT]=(f={},f[z.RGBA]=t.RGBA32F,f[z.RGB]=t.RGB32F,f[z.RG]=t.RG32F,f[z.RED]=t.R32F,f[z.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,f),r[nt.HALF_FLOAT]=(c={},c[z.RGBA]=t.RGBA16F,c[z.RGB]=t.RGB16F,c[z.RG]=t.RG16F,c[z.RED]=t.R16F,c),r[nt.UNSIGNED_SHORT_5_6_5]=(d={},d[z.RGB]=t.RGB565,d),r[nt.UNSIGNED_SHORT_4_4_4_4]=(p={},p[z.RGBA]=t.RGBA4,p),r[nt.UNSIGNED_SHORT_5_5_5_1]=(v={},v[z.RGBA]=t.RGB5_A1,v),r[nt.UNSIGNED_INT_2_10_10_10_REV]=(g={},g[z.RGBA]=t.RGB10_A2,g[z.RGBA_INTEGER]=t.RGB10_A2UI,g),r[nt.UNSIGNED_INT_10F_11F_11F_REV]=(m={},m[z.RGB]=t.R11F_G11F_B10F,m),r[nt.UNSIGNED_INT_5_9_9_9_REV]=(x={},x[z.RGB]=t.RGB9_E5,x),r[nt.UNSIGNED_INT_24_8]=(T={},T[z.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,T),r[nt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(E={},E[z.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,E),r):M=(U={},U[nt.UNSIGNED_BYTE]=(P={},P[z.RGBA]=t.RGBA,P[z.RGB]=t.RGB,P[z.ALPHA]=t.ALPHA,P[z.LUMINANCE]=t.LUMINANCE,P[z.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,P),U[nt.UNSIGNED_SHORT_5_6_5]=(N={},N[z.RGB]=t.RGB,N),U[nt.UNSIGNED_SHORT_4_4_4_4]=(A={},A[z.RGBA]=t.RGBA,A),U[nt.UNSIGNED_SHORT_5_5_5_1]=(C={},C[z.RGBA]=t.RGBA,C),U),M}var fu=function(){function t(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=nt.UNSIGNED_BYTE,this.internalFormat=z.RGBA,this.samplerType=0}return t}(),B2=function(){function t(r){this.renderer=r,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ot,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=G2(r);var e=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new fu(r.createTexture());r.bindTexture(r.TEXTURE_2D,i.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=i,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new fu(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(r,e){e===void 0&&(e=0);var n=this.gl;if(r=r==null?void 0:r.castToBaseTexture(),r&&r.valid&&!r.parentTextureArray){r.touched=this.renderer.textureGC.count;var i=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[e]!==r&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(r.target,i.texture)),i.dirtyId!==r.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(r)),this.boundTextures[e]=r}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var e=this,n=e.gl,i=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===r&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(r.target,this.emptyTextures[r.target].texture),i[o]=null)},t.prototype.ensureSamplerType=function(r){var e=this,n=e.boundTextures,i=e.hasIntegerTextures,o=e.CONTEXT_UID;if(!!i)for(var u=r-1;u>=0;--u){var h=n[u];if(h){var f=h._glTextures[o];f.samplerType!==ho.FLOAT&&this.renderer.texture.unbind(h)}}},t.prototype.initTexture=function(r){var e=new fu(this.gl.createTexture());return e.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(r,e){var n,i;e.internalFormat=(i=(n=this.internalFormats[r.type])===null||n===void 0?void 0:n[r.format])!==null&&i!==void 0?i:r.format,this.webGLVersion===2&&r.type===nt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=r.type},t.prototype.updateTexture=function(r){var e=r._glTextures[this.CONTEXT_UID];if(!!e){var n=this.renderer;if(this.initTextureType(r,e),r.resource&&r.resource.upload(n,r,e))e.samplerType!==ho.FLOAT&&(this.hasIntegerTextures=!0);else{var i=r.realWidth,o=r.realHeight,u=n.gl;(e.width!==i||e.height!==o||e.dirtyId<0)&&(e.width=i,e.height=o,u.texImage2D(r.target,0,e.internalFormat,i,o,0,r.format,e.type,null))}r.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(r),e.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,e){var n=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),n.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(r);i!==-1&&Yn(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(r){var e=r._glTextures[this.CONTEXT_UID];!e||((r.mipmap===Cr.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?e.mipmap=!1:e.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?e.wrapMode=Rr.CLAMP:e.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,e)||this.setStyle(r,e),e.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,e){var n=this.gl;if(e.mipmap&&r.mipmap!==Cr.ON_MANUAL&&n.generateMipmap(r.target),n.texParameteri(r.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(r.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(r.target,n.TEXTURE_MIN_FILTER,r.scaleMode===Er.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&r.anisotropicLevel>0&&r.scaleMode===Er.LINEAR){var o=Math.min(r.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(r.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(r.target,n.TEXTURE_MIN_FILTER,r.scaleMode===Er.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(r.target,n.TEXTURE_MAG_FILTER,r.scaleMode===Er.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),lu=new he,M2=function(t){Wt(r,t);function r(e,n){e===void 0&&(e=Fi.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},K.RENDER_OPTIONS,n),i.options=n,i.type=e,i.screen=new Lt(0,0,n.width,n.height),i.view=n.view||K.ADAPTER.createCanvas(),i.resolution=n.resolution||K.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(or("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return r.prototype.initPlugins=function(e){for(var n in e)this.plugins[n]=new e[n](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,n){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},r.prototype.generateTexture=function(e,n,i,o){n===void 0&&(n={}),typeof n=="number"&&(or("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:o});var u=n.region,h=xw(n,["region"]);o=u||e.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var f=mn.create(qu({width:o.width,height:o.height},h));return lu.tx=-o.x,lu.ty=-o.y,this.render(e,{renderTexture:f,clear:!1,transform:lu,skipUpdateTransform:!!e.parent}),f},r.prototype.destroy=function(e){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Fi.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Vv(e),Kn(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),r}(Xi),H2=function(){function t(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),k2=function(){function t(r){this.renderer=r,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(r){var e=this,n=e.gl,i=e.CONTEXT_UID,o=r._glBuffers[i]||this.createGLBuffer(r);n.bindBuffer(r.type,o.buffer)},t.prototype.bindBufferBase=function(r,e){var n=this,i=n.gl,o=n.CONTEXT_UID;if(this.boundBufferBases[e]!==r){var u=r._glBuffers[o]||this.createGLBuffer(r);this.boundBufferBases[e]=r,i.bindBufferBase(i.UNIFORM_BUFFER,e,u.buffer)}},t.prototype.bindBufferRange=function(r,e,n){var i=this,o=i.gl,u=i.CONTEXT_UID;n=n||0;var h=r._glBuffers[u]||this.createGLBuffer(r);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,h.buffer,n*256,256)},t.prototype.update=function(r){var e=this,n=e.gl,i=e.CONTEXT_UID,o=r._glBuffers[i];if(r._updateID!==o.updateID)if(o.updateID=r._updateID,n.bindBuffer(r.type,o.buffer),o.byteLength>=r.data.byteLength)n.bufferSubData(r.type,0,r.data);else{var u=r.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=r.data.byteLength,n.bufferData(r.type,r.data,u)}},t.prototype.dispose=function(r,e){if(!!this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var n=r._glBuffers[this.CONTEXT_UID],i=this.gl;r.disposeRunner.remove(this),n&&(e||i.deleteBuffer(n.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(r){for(var e=Object.keys(this.managedBuffers),n=0;n<e.length;n++)this.dispose(this.managedBuffers[e[n]],r)},t.prototype.createGLBuffer=function(r){var e=this,n=e.CONTEXT_UID,i=e.gl;return r._glBuffers[n]=new H2(i.createBuffer()),this.managedBuffers[r.id]=r,r.disposeRunner.add(this),r._glBuffers[n]},t}(),f_=function(t){Wt(r,t);function r(e){var n=t.call(this,Fi.WEBGL,e)||this;return e=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new me("destroy"),contextChange:new me("contextChange"),reset:new me("reset"),update:new me("update"),postrender:new me("postrender"),prerender:new me("prerender"),resize:new me("resize")},n.runners.contextChange.add(n),n.globalUniforms=new vn({projectionMatrix:new he},!0),n.addSystem(l2,"mask").addSystem(kw,"context").addSystem(S2,"state").addSystem(w2,"shader").addSystem(B2,"texture").addSystem(k2,"buffer").addSystem(Ww,"geometry").addSystem(Vw,"framebuffer").addSystem(c2,"scissor").addSystem(d2,"stencil").addSystem(p2,"projection").addSystem(F2,"textureGC").addSystem(Mw,"filter").addSystem(v2,"renderTexture").addSystem(Hw,"batch"),n.initPlugins(r.__plugins),n.multisample=void 0,e.context?n.context.initFromContext(e.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:e.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,mI(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return r.create=function(e){if(Xv())return new r(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.contextChange=function(){var e=this.gl,n;if(this.context.webGLVersion===1){var i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{var i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}n>=ie.HIGH?this.multisample=ie.HIGH:n>=ie.MEDIUM?this.multisample=ie.MEDIUM:n>=ie.LOW?this.multisample=ie.LOW:this.multisample=ie.NONE},r.prototype.addSystem=function(e,n){var i=new e(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},r.prototype.render=function(e,n){var i,o,u,h;if(n&&(n instanceof mn?(or("6.0.0","Renderer#render arguments changed, use options instead."),i=n,o=arguments[2],u=arguments[3],h=arguments[4]):(i=n.renderTexture,o=n.clear,u=n.transform,h=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=u,!this.context.isLost){if(i||(this._lastObjectRendered=e),!h){var f=e.enableTempParent();e.updateTransform(),e.disableTempParent(f)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.generateTexture=function(e,n,i,o){n===void 0&&(n={});var u=t.prototype.generateTexture.call(this,e,n,i,o);return this.framebuffer.blit(),u},r.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(this.screen.height,this.screen.width)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(e){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(r.prototype,"extract",{get:function(){return or("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),r.registerPlugin=function(e,n){or("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Pr.add({name:e,type:Dt.RendererPlugin,ref:n})},r.__plugins={},r}(M2);Pr.handleByMap(Dt.RendererPlugin,f_.__plugins);function D2(t){return f_.create(t)}var X2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,V2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,W2=X2,l_=V2,Zu=function(){function t(){this.texArray=null,this.blend=0,this.type=Ze.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),Ku=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},t}(),Ju=function(){function t(r){typeof r=="number"?this.rawBinaryData=new ArrayBuffer(r):r instanceof Uint8Array?this.rawBinaryData=r.buffer:this.rawBinaryData=r,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(r){return this[r+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},t}(),z2=function(t){Wt(r,t);function r(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=yn.for2d(),n.size=K.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return r.prototype.contextChange=function(){var e=this.renderer.gl;K.PREFER_ENV===wr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),K.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=e2(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var e=r._drawCallPool,n=r._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new Zu);for(;n.length<o;)n.push(new Ku);for(var u=0;u<this.MAX_TEXTURES;u++)this._tempBoundTextures[u]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},r.prototype.buildTexturesAndDrawCalls=function(){var e=this,n=e._bufferedTextures,i=e.MAX_TEXTURES,o=r._textureArrayPool,u=this.renderer.batch,h=this._tempBoundTextures,f=this.renderer.textureGC.count,c=++Ot._globalBatch,d=0,p=o[0],v=0;u.copyBoundTextures(h,i);for(var g=0;g<this._bufferSize;++g){var m=n[g];n[g]=null,m._batchEnabled!==c&&(p.count>=i&&(u.boundArray(p,h,c,i),this.buildDrawCalls(p,v,g),v=g,p=o[++d],++c),m._batchEnabled=c,m.touched=f,p.elements[p.count++]=m)}p.count>0&&(u.boundArray(p,h,c,i),this.buildDrawCalls(p,v,this._bufferSize),++d,++c);for(var g=0;g<h.length;g++)h[g]=null;Ot._globalBatch=c},r.prototype.buildDrawCalls=function(e,n,i){var o=this,u=o._bufferedElements,h=o._attributeBuffer,f=o._indexBuffer,c=o.vertexSize,d=r._drawCallPool,p=this._dcIndex,v=this._aIndex,g=this._iIndex,m=d[p];m.start=this._iIndex,m.texArray=e;for(var x=n;x<i;++x){var T=u[x],E=T._texture.baseTexture,U=zv[E.alphaMode?1:0][T.blendMode];u[x]=null,n<x&&m.blend!==U&&(m.size=g-m.start,n=x,m=d[++p],m.texArray=e,m.start=g),this.packInterleavedGeometry(T,h,f,v,g),v+=T.vertexData.length/2*c,g+=T.indices.length,m.blend=U}n<i&&(m.size=g-m.start,++p),this._dcIndex=p,this._aIndex=v,this._iIndex=g},r.prototype.bindAndClearTexArray=function(e){for(var n=this.renderer.texture,i=0;i<e.count;i++)n.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},r.prototype.updateGeometry=function(){var e=this,n=e._packedGeometries,i=e._attributeBuffer,o=e._indexBuffer;K.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,u=r._drawCallPool,h=null,f=0;f<e;f++){var c=u[f],d=c.texArray,p=c.type,v=c.size,g=c.start,m=c.blend;h!==d&&(h=d,this.bindAndClearTexArray(d)),this.state.blendMode=m,o.set(this.state),i.drawElements(p,v,i.UNSIGNED_SHORT,g*2)}},r.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),K.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(e){var n=fo(Math.ceil(e/8)),i=zc(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var u=this._aBuffers[o];return u||(this._aBuffers[o]=u=new Ju(o*this.vertexSize*4)),u},r.prototype.getIndexBuffer=function(e){var n=fo(Math.ceil(e/12)),i=zc(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var u=this._iBuffers[i];return u||(this._iBuffers[i]=u=new Uint16Array(o)),u},r.prototype.packInterleavedGeometry=function(e,n,i,o,u){for(var h=n.uint32View,f=n.float32View,c=o/this.vertexSize,d=e.uvs,p=e.indices,v=e.vertexData,g=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),x=m<1&&e._texture.baseTexture.alphaMode?Ah(e._tintRGB,m):e._tintRGB+(m*255<<24),T=0;T<v.length;T+=2)f[o++]=v[T],f[o++]=v[T+1],f[o++]=d[T],f[o++]=d[T+1],h[o++]=x,f[o++]=g;for(var T=0;T<p.length;T++)i[u++]=c+p[T]},r._drawCallPool=[],r._textureArrayPool=[],r}(Ro),j2=function(){function t(r,e){if(this.vertexSrc=r,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(r){if(!this.programCache[r]){for(var e=new Int32Array(r),n=0;n<r;n++)e[n]=n;this.defaultGroupCache[r]=vn.from({uSamplers:e},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+r),i=i.replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new zi(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new he,default:this.defaultGroupCache[r]};return new jr(this.programCache[r],o)},t.prototype.generateSampleSrc=function(r){var e="";e+=`
`,e+=`
`;for(var n=0;n<r;n++)n>0&&(e+=`
else `),n<r-1&&(e+="if(vTextureId < "+n+".5)"),e+=`
{`,e+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",e+=`
}`;return e+=`
`,e+=`
`,e},t}(),c_=function(t){Wt(r,t);function r(e){e===void 0&&(e=!1);var n=t.call(this)||this;return n._buffer=new ue(null,e,!1),n._indexBuffer=new ue(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,nt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,nt.FLOAT).addAttribute("aColor",n._buffer,4,!0,nt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,nt.FLOAT).addIndex(n._indexBuffer),n}return r}(Wi),wd=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Cd=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,$2=function(){function t(){}return t.create=function(r){var e=Object.assign({vertex:wd,fragment:Cd,geometryClass:c_,vertexSize:6},r),n=e.vertex,i=e.fragment,o=e.vertexSize,u=e.geometryClass;return function(h){Wt(f,h);function f(c){var d=h.call(this,c)||this;return d.shaderGenerator=new j2(n,i),d.geometryClass=u,d.vertexSize=o,d}return f}(z2)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return wd},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Cd},enumerable:!1,configurable:!0}),t}(),d_=$2.create();Object.assign(d_,{extension:{name:"batch",type:Dt.RendererPlugin}});/*!
 * @pixi/accessibility - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var q2={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};re.mixin(q2);var Y2=9,$a=100,Z2=0,K2=0,Ad=2,Pd=1,J2=-1e3,Q2=-1e3,tC=2,eC=function(){function t(r){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(nr.tablet||nr.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=$a+"px",e.style.height=$a+"px",e.style.position="absolute",e.style.top=Z2+"px",e.style.left=K2+"px",e.style.zIndex=Ad.toString(),this.div=e,this.renderer=r,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var r=this,e=document.createElement("button");e.style.width=Pd+"px",e.style.height=Pd+"px",e.style.position="absolute",e.style.top=J2+"px",e.style.left=Q2+"px",e.style.zIndex=tC.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){r._isMobileAccessibility=!0,r.activate(),r.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var r;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(r=this.renderer.view.parentNode)===null||r===void 0||r.appendChild(this.div))},t.prototype.deactivate=function(){var r;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(r=this.div.parentNode)===null||r===void 0||r.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(r){if(!(!r.visible||!r.accessibleChildren)){r.accessible&&r.interactive&&(r._accessibleActive||this.addChild(r),r.renderId=this.renderId);var e=r.children;if(e)for(var n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){var r=performance.now();if(!(nr.android.device&&r<this.androidUpdateCount)&&(this.androidUpdateCount=r+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=e.left,i=e.top,o=e.width,u=e.height,h=this.renderer,f=h.width,c=h.height,d=h.resolution,p=o/f*d,v=u/c*d,g=this.div;g.style.left=n+"px",g.style.top=i+"px",g.style.width=f+"px",g.style.height=c+"px";for(var m=0;m<this.children.length;m++){var x=this.children[m];if(x.renderId!==this.renderId)x._accessibleActive=!1,Yn(this.children,m,1),this.div.removeChild(x._accessibleDiv),this.pool.push(x._accessibleDiv),x._accessibleDiv=null,m--;else{g=x._accessibleDiv;var T=x.hitArea,E=x.worldTransform;x.hitArea?(g.style.left=(E.tx+T.x*E.a)*p+"px",g.style.top=(E.ty+T.y*E.d)*v+"px",g.style.width=T.width*E.a*p+"px",g.style.height=T.height*E.d*v+"px"):(T=x.getBounds(),this.capHitArea(T),g.style.left=T.x*p+"px",g.style.top=T.y*v+"px",g.style.width=T.width*p+"px",g.style.height=T.height*v+"px",g.title!==x.accessibleTitle&&x.accessibleTitle!==null&&(g.title=x.accessibleTitle),g.getAttribute("aria-label")!==x.accessibleHint&&x.accessibleHint!==null&&g.setAttribute("aria-label",x.accessibleHint)),(x.accessibleTitle!==g.title||x.tabIndex!==g.tabIndex)&&(g.title=x.accessibleTitle,g.tabIndex=x.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}},t.prototype.updateDebugHTML=function(r){r.innerHTML="type: "+r.type+"</br> title : "+r.title+"</br> tabIndex: "+r.tabIndex},t.prototype.capHitArea=function(r){r.x<0&&(r.width+=r.x,r.x=0),r.y<0&&(r.height+=r.y,r.y=0);var e=this.renderer,n=e.width,i=e.height;r.x+r.width>n&&(r.width=n-r.x),r.y+r.height>i&&(r.height=i-r.y)},t.prototype.addChild=function(r){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=$a+"px",e.style.height=$a+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=Ad.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=r.accessiblePointerEvents,e.type=r.accessibleType,r.accessibleTitle&&r.accessibleTitle!==null?e.title=r.accessibleTitle:(!r.accessibleHint||r.accessibleHint===null)&&(e.title="displayObject "+r.tabIndex),r.accessibleHint&&r.accessibleHint!==null&&e.setAttribute("aria-label",r.accessibleHint),this.debug&&this.updateDebugHTML(e),r._accessibleActive=!0,r._accessibleDiv=e,e.displayObject=r,this.children.push(r),this.div.appendChild(r._accessibleDiv),r._accessibleDiv.tabIndex=r.tabIndex},t.prototype._onClick=function(r){var e=this.renderer.plugins.interaction,n=r.target.displayObject,i=e.eventData;e.dispatchEvent(n,"click",i),e.dispatchEvent(n,"pointertap",i),e.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,n=r.target.displayObject,i=e.eventData;e.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,n=r.target.displayObject,i=e.eventData;e.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(r){r.keyCode===Y2&&this.activate()},t.prototype._onMouseMove=function(r){r.movementX===0&&r.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[Dt.RendererPlugin,Dt.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Nd=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new jt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(r,e,n){return r.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var e="buttons"in r&&r.buttons;this.buttons=Number.isInteger(e)?e:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qu=function(t,r){return Qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Qu(t,r)};function rC(t,r){Qu(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var nC=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),cu=function(){function t(r){this._pointerId=r,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(r,e){e?this._flags=this._flags|r:this._flags=this._flags&~r},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(r){this._doSet(t.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),iC=function(){function t(){this._tempPoint=new jt}return t.prototype.recursiveFindHit=function(r,e,n,i,o){var u;if(!e||!e.visible)return!1;var h=r.data.global;o=e.interactive||o;var f=!1,c=o,d=!0;if(e.hitArea)i&&(e.worldTransform.applyInverse(h,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?f=!0:(i=!1,d=!1)),c=!1;else if(e._mask&&i){var p=e._mask.isMaskData?e._mask.maskObject:e._mask;p&&!(!((u=p.containsPoint)===null||u===void 0)&&u.call(p,h))&&(i=!1)}if(d&&e.interactiveChildren&&e.children)for(var v=e.children,g=v.length-1;g>=0;g--){var m=v[g],x=this.recursiveFindHit(r,m,n,i,c);if(x){if(!m.parent)continue;c=!1,x&&(r.target&&(i=!1),f=!0)}}return o&&(i&&!r.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(h)&&(f=!0),e.interactive&&(f&&!r.target&&(r.target=e),n&&n(r,e,!!f))),f},t.prototype.findHit=function(r,e,n,i){this.recursiveFindHit(r,e,n,i,!1)},t}(),aC={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};re.mixin(aC);var qa=1,Ya={target:null,data:{global:null}},oC=function(t){rC(r,t);function r(e,n){var i=t.call(this)||this;return n=n||{},i.renderer=e,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new Nd,i.mouse.identifier=qa,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[qa]=i.mouse,i.interactionDataPool=[],i.eventData=new nC,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new iC,i._tempDisplayObject=new Kv,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(e,n){return Ya.target=null,Ya.data.global=e,n||(n=this.lastObjectRendered),this.processInteractive(Ya,n,null,!0),Ya.target},r.prototype.setTargetElement=function(e,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=n,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(ve.system.add(this.tickerUpdate,this,Ar.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){!this.tickerAdded||(ve.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(e){e=e||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var i=this.cursorStyles[e];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(e);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},r.prototype.dispatchEvent=function(e,n,i){(!i.stopPropagationHint||e===i.stopsPropagatingAt)&&(i.currentTarget=e,i.type=n,e.emit(n,i),e[n]&&e[n](i))},r.prototype.delayDispatchEvent=function(e,n,i){this.delayedEvents.push({displayObject:e,eventString:n,eventData:i})},r.prototype.mapPositionToPoint=function(e,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var u=1/this.resolution;e.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*u,e.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*u},r.prototype.processInteractive=function(e,n,i,o){var u=this.search.findHit(e,n,i,o),h=this.delayedEvents;if(!h.length)return u;e.stopPropagationHint=!1;var f=h.length;this.delayedEvents=[];for(var c=0;c<f;c++){var d=h[c],p=d.displayObject,v=d.eventString,g=d.eventData;g.stopsPropagatingAt===p&&(g.stopPropagationHint=!0),this.dispatchEvent(p,v,g)}return u},r.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);if(this.autoPreventDefault&&n[0].isNormalized){var i=e.cancelable||!("cancelable"in e);i&&e.preventDefault()}for(var o=n.length,u=0;u<o;u++){var h=n[u],f=this.getInteractionDataForPointerId(h),c=this.configureInteractionEventForDOMEvent(this.eventData,h,f);if(c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),h.pointerType==="touch")this.emit("touchstart",c);else if(h.pointerType==="mouse"||h.pointerType==="pen"){var d=h.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(e,n,i){var o=e.data,u=e.data.identifier;if(i){if(n.trackedPointers[u]||(n.trackedPointers[u]=new cu(u)),this.dispatchEvent(n,"pointerdown",e),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",e);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var h=o.button===2;h?n.trackedPointers[u].rightDown=!0:n.trackedPointers[u].leftDown=!0,this.dispatchEvent(n,h?"rightdown":"mousedown",e)}}},r.prototype.onPointerComplete=function(e,n,i){var o=this.normalizeToPointerData(e),u=o.length,h=e.target;e.composedPath&&e.composedPath().length>0&&(h=e.composedPath()[0]);for(var f=h!==this.interactionDOMElement?"outside":"",c=0;c<u;c++){var d=o[c],p=this.getInteractionDataForPointerId(d),v=this.configureInteractionEventForDOMEvent(this.eventData,d,p);if(v.data.originalEvent=e,this.processInteractive(v,this.lastObjectRendered,i,n||!f),this.emit(n?"pointercancel":"pointerup"+f,v),d.pointerType==="mouse"||d.pointerType==="pen"){var g=d.button===2;this.emit(g?"rightup"+f:"mouseup"+f,v)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+f,v),this.releaseInteractionDataForPointerId(d.pointerId))}},r.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(e,n){var i=e.data,o=e.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",e),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",e))},r.prototype.onPointerUp=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!1,this.processPointerUp)},r.prototype.processPointerUp=function(e,n,i){var o=e.data,u=e.data.identifier,h=n.trackedPointers[u],f=o.pointerType==="touch",c=o.pointerType==="mouse"||o.pointerType==="pen",d=!1;if(c){var p=o.button===2,v=cu.FLAGS,g=p?v.RIGHT_DOWN:v.LEFT_DOWN,m=h!==void 0&&h.flags&g;i?(this.dispatchEvent(n,p?"rightup":"mouseup",e),m&&(this.dispatchEvent(n,p?"rightclick":"click",e),d=!0)):m&&this.dispatchEvent(n,p?"rightupoutside":"mouseupoutside",e),h&&(p?h.rightDown=!1:h.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",e),f&&this.dispatchEvent(n,"touchend",e),h&&((!c||d)&&this.dispatchEvent(n,"pointertap",e),f&&(this.dispatchEvent(n,"tap",e),h.over=!1))):h&&(this.dispatchEvent(n,"pointerupoutside",e),f&&this.dispatchEvent(n,"touchendoutside",e)),h&&h.none&&delete n.trackedPointers[u]},r.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var u=n[o],h=this.getInteractionDataForPointerId(u),f=this.configureInteractionEventForDOMEvent(this.eventData,u,h);f.data.originalEvent=e,this.processInteractive(f,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",f),u.pointerType==="touch"&&this.emit("touchmove",f),(u.pointerType==="mouse"||u.pointerType==="pen")&&this.emit("mousemove",f)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(e,n,i){var o=e.data,u=o.pointerType==="touch",h=o.pointerType==="mouse"||o.pointerType==="pen";h&&this.processPointerOverOut(e,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",e),u&&this.dispatchEvent(n,"touchmove",e),h&&this.dispatchEvent(n,"mousemove",e))},r.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),u=this.configureInteractionEventForDOMEvent(this.eventData,i,o);u.data.originalEvent=i,this.processInteractive(u,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",u),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",u):this.releaseInteractionDataForPointerId(o.identifier)}},r.prototype.processPointerOverOut=function(e,n,i){var o=e.data,u=e.data.identifier,h=o.pointerType==="mouse"||o.pointerType==="pen",f=n.trackedPointers[u];i&&!f&&(f=n.trackedPointers[u]=new cu(u)),f!==void 0&&(i&&this.mouseOverRenderer?(f.over||(f.over=!0,this.delayDispatchEvent(n,"pointerover",e),h&&this.delayDispatchEvent(n,"mouseover",e)),h&&this.cursor===null&&(this.cursor=n.cursor)):f.over&&(f.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),h&&this.dispatchEvent(n,"mouseout",e),f.none&&delete n.trackedPointers[u]))},r.prototype.onPointerOver=function(e){var n=this.normalizeToPointerData(e),i=n[0],o=this.getInteractionDataForPointerId(i),u=this.configureInteractionEventForDOMEvent(this.eventData,i,o);u.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",u),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",u)},r.prototype.getInteractionDataForPointerId=function(e){var n=e.pointerId,i;return n===qa||e.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new Nd,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(e),i},r.prototype.releaseInteractionDataForPointerId=function(e){var n=this.activeInteractionData[e];n&&(delete this.activeInteractionData[e],n.reset(),this.interactionDataPool.push(n))},r.prototype.configureInteractionEventForDOMEvent=function(e,n,i){return e.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,e.reset(),e},r.prototype.normalizeToPointerData=function(e){var n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var i=0,o=e.changedTouches.length;i<o;i++){var u=e.changedTouches[i];typeof u.button>"u"&&(u.button=e.touches.length?1:0),typeof u.buttons>"u"&&(u.buttons=e.touches.length?1:0),typeof u.isPrimary>"u"&&(u.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof u.width>"u"&&(u.width=u.radiusX||1),typeof u.height>"u"&&(u.height=u.radiusY||1),typeof u.tiltX>"u"&&(u.tiltX=0),typeof u.tiltY>"u"&&(u.tiltY=0),typeof u.pointerType>"u"&&(u.pointerType="touch"),typeof u.pointerId>"u"&&(u.pointerId=u.identifier||0),typeof u.pressure>"u"&&(u.pressure=u.force||.5),typeof u.twist>"u"&&(u.twist=0),typeof u.tangentialPressure>"u"&&(u.tangentialPressure=0),typeof u.layerX>"u"&&(u.layerX=u.offsetX=u.clientX),typeof u.layerY>"u"&&(u.layerY=u.offsetY=u.clientY),u.isNormalized=!0,n.push(u)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){var h=e;typeof h.isPrimary>"u"&&(h.isPrimary=!0),typeof h.width>"u"&&(h.width=1),typeof h.height>"u"&&(h.height=1),typeof h.tiltX>"u"&&(h.tiltX=0),typeof h.tiltY>"u"&&(h.tiltY=0),typeof h.pointerType>"u"&&(h.pointerType="mouse"),typeof h.pointerId>"u"&&(h.pointerId=qa),typeof h.pressure>"u"&&(h.pressure=.5),typeof h.twist>"u"&&(h.twist=0),typeof h.tangentialPressure>"u"&&(h.tangentialPressure=0),h.isNormalized=!0,n.push(h)}else n.push(e);return n},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r.extension={name:"interaction",type:[Dt.RendererPlugin,Dt.CanvasRendererPlugin]},r}(Xi);/*!
 * @pixi/extract - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ud=new Lt,Od=4,sC=function(){function t(r){this.renderer=r}return t.prototype.image=function(r,e,n){var i=new Image;return i.src=this.base64(r,e,n),i},t.prototype.base64=function(r,e,n){return this.canvas(r).toDataURL(e,n)},t.prototype.canvas=function(r,e){var n=this.renderer,i,o=!1,u,h=!1;r&&(r instanceof mn?u=r:(u=this.renderer.generateTexture(r),h=!0)),u?(i=u.baseTexture.resolution,e=e!=null?e:u.frame,o=!1,n.renderTexture.bind(u)):(i=n.resolution,e||(e=Ud,e.width=n.width,e.height=n.height),o=!0,n.renderTexture.bind(null));var f=Math.round(e.width*i),c=Math.round(e.height*i),d=new qc(f,c,1),p=new Uint8Array(Od*f*c),v=n.gl;v.readPixels(Math.round(e.x*i),Math.round(e.y*i),f,c,v.RGBA,v.UNSIGNED_BYTE,p);var g=d.context.getImageData(0,0,f,c);if(t.arrayPostDivide(p,g.data),d.context.putImageData(g,0,0),o){var m=new qc(d.width,d.height,1);m.context.scale(1,-1),m.context.drawImage(d.canvas,0,-c),d.destroy(),d=m}return h&&u.destroy(!0),d.canvas},t.prototype.pixels=function(r,e){var n=this.renderer,i,o,u=!1;r&&(r instanceof mn?o=r:(o=this.renderer.generateTexture(r),u=!0)),o?(i=o.baseTexture.resolution,e=e!=null?e:o.frame,n.renderTexture.bind(o)):(i=n.resolution,e||(e=Ud,e.width=n.width,e.height=n.height),n.renderTexture.bind(null));var h=Math.round(e.width*i),f=Math.round(e.height*i),c=new Uint8Array(Od*h*f),d=n.gl;return d.readPixels(Math.round(e.x*i),Math.round(e.y*i),h,f,d.RGBA,d.UNSIGNED_BYTE,c),u&&o.destroy(!0),t.arrayPostDivide(c,c),c},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(r,e){for(var n=0;n<r.length;n+=4){var i=e[n+3]=r[n+3];i!==0?(e[n]=Math.round(Math.min(r[n]*255/i,255)),e[n+1]=Math.round(Math.min(r[n+1]*255/i,255)),e[n+2]=Math.round(Math.min(r[n+2]*255/i,255))):(e[n]=r[n],e[n+1]=r[n+1],e[n+2]=r[n+2])}},t.extension={name:"extract",type:Dt.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Za=function(){function t(r,e,n){e===void 0&&(e=!1),this._fn=r,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function Ld(t,r){return t._head?(t._tail._next=r,r._prev=t._tail,t._tail=r):(t._head=r,t._tail=r),r._owner=t,r}var Ir=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(r){r===void 0&&(r=!1);var e=this._head;if(r)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n},t.prototype.has=function(r){if(!(r instanceof Za))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return r._owner===this},t.prototype.dispatch=function(){for(var r=arguments,e=[],n=0;n<arguments.length;n++)e[n]=r[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,e),i=i._next;return!0},t.prototype.add=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Ld(this,new Za(r,!1,e))},t.prototype.once=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Ld(this,new Za(r,!0,e))},t.prototype.detach=function(r){if(!(r instanceof Za))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return r._owner!==this?this:(r._prev&&(r._prev._next=r._next),r._next&&(r._next._prev=r._prev),r===this._head?(this._head=r._next,r._next===null&&(this._tail=null)):r===this._tail&&(this._tail=r._prev,this._tail._next=null),r._owner=null,this)},t.prototype.detachAll=function(){var r=this._head;if(!r)return this;for(this._head=this._tail=null;r;)r._owner=null,r=r._next;return this},t}();function p_(t,r){r=r||{};for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[r.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[e.key[o]]=n[o]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(u,h,f){h&&(i[e.q.name][h]=f)}),i}var du,Ka=null,uC=0,Sd=200,hC=204,fC=1223,lC=2;function Fd(){}function Gd(t,r,e){r&&r.indexOf(".")===0&&(r=r.substring(1)),r&&(t[r]=e)}function pu(t){return t.toString().replace("object ","")}var Jt=function(){function t(r,e,n){if(this._dequeue=Fd,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof r!="string"||typeof e!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,e.indexOf("data:")===0),this.name=r,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Fd,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Ir,this.onProgress=new Ir,this.onComplete=new Ir,this.onAfterMiddleware=new Ir}return t.setExtensionLoadType=function(r,e){Gd(t._loadTypeMap,r,e)},t.setExtensionXhrType=function(r,e){Gd(t._xhrTypeMap,r,e)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(r){var e=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(e)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof du>"u"&&(du=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),du&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(r){return(this._flags&r)!==0},t.prototype._setFlag=function(r,e){this._flags=e?this._flags|r:this._flags&~r},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(r,this.url[n],Array.isArray(e)?e[n]:e));else{var e=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(r.withCredentials=!0),r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=t.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new globalThis.XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t.prototype._createSource=function(r,e,n){n||(n=r+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=n,i},t.prototype._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t.prototype._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var r=this.xhr;this.abort(pu(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t.prototype._xhrOnTimeout=function(){var r=this.xhr;this.abort(pu(r)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var r=this.xhr;this.abort(pu(r)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var r=this.xhr,e="",n=typeof r.status>"u"?Sd:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType>"u")&&(e=r.responseText),n===uC&&(e.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=Sd:n===fC&&(n=hC);var i=n/100|0;if(i===lC)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=t.TYPE.JSON}catch(h){this.abort("Error trying to parse loaded json: "+h);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(e,"text/xml")}else{var u=document.createElement("div");u.innerHTML=e,this.data=u}this.type=t.TYPE.XML}catch(h){this.abort("Error trying to parse loaded xml: "+h);return}else this.data=r.response||e;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(r,e){if(r.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,Ka||(Ka=document.createElement("a")),Ka.href=r;var n=p_(Ka.href,{strictMode:!0}),i=!n.port&&e.port===""||n.port===e.port,o=n.protocol?n.protocol+":":"";return n.host!==e.hostname||!i||o!==e.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(r){r===void 0&&(r=this.url);var e="";if(this.isDataUrl){var n=r.indexOf("/");e=r.substring(n+1,r.indexOf(";",n))}else{var i=r.indexOf("?"),o=r.indexOf("#"),u=Math.min(i>-1?i:r.length,o>-1?o:r.length);r=r.substring(0,u),e=r.substring(r.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(r){r[r.NONE=0]="NONE",r[r.DATA_URL=1]="DATA_URL",r[r.COMPLETE=2]="COMPLETE",r[r.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.JSON=1]="JSON",r[r.XML=2]="XML",r[r.IMAGE=3]="IMAGE",r[r.AUDIO=4]="AUDIO",r[r.VIDEO=5]="VIDEO",r[r.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(r){r[r.XHR=1]="XHR",r[r.IMAGE=2]="IMAGE",r[r.AUDIO=3]="AUDIO",r[r.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(r){r.DEFAULT="text",r.BUFFER="arraybuffer",r.BLOB="blob",r.DOCUMENT="document",r.JSON="json",r.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Jt||(Jt={}));function un(){}function cC(t){return function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(t===null)throw new Error("Callback was already called.");var o=t;t=null,o.apply(this,n)}}var dC=function(){function t(r,e){this.data=r,this.callback=e}return t}(),vu=function(){function t(r,e){var n=this;if(e===void 0&&(e=1),this.workers=0,this.saturated=un,this.unsaturated=un,this.empty=un,this.drain=un,this.error=un,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,u){if(u&&typeof u!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var h=new dC(i,typeof u=="function"?u:un);o?n._tasks.unshift(h):n._tasks.push(h),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,cC(n._next(i)))}},this._worker=r,e===0)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(r){var e=this;return function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++)i[o]=n[o];e.workers-=1,r.callback.apply(r,i),i[0]!=null&&e.error(i[0],r.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(r,e){this._insert(r,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=un,this.started=!1,this._tasks=[]},t.prototype.unshift=function(r,e){this._insert(r,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var r=1;r<=this.concurrency;r++)this.process()}},t.eachSeries=function(r,e,n,i){var o=0,u=r.length;function h(f){if(f||o===u){n&&n(f);return}i?setTimeout(function(){e(r[o++],h)},1):e(r[o++],h)}h()},t.queue=function(r,e){return new t(r,e)},t}(),_u=100,pC=/(#[\w-]+)?$/,vo=function(){function t(r,e){var n=this;r===void 0&&(r=""),e===void 0&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,c){return n._loadResource(f,c)},this.resources={},this.baseUrl=r,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,c){return n._loadResource(f,c)},this._queue=vu.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Ir,this.onError=new Ir,this.onLoad=new Ir,this.onStart=new Ir,this.onComplete=new Ir;for(var i=0;i<t._plugins.length;++i){var o=t._plugins[i],u=o.pre,h=o.use;u&&this.pre(u),h&&this.use(h)}this._protected=!1}return t.prototype._add=function(r,e,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(e=this._prepareUrl(e),this.resources[r]=new Jt(r,e,n),typeof i=="function"&&this.resources[r].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,u=[],h=0;h<o.children.length;++h)o.children[h].isComplete||u.push(o.children[h]);var f=o.progressChunk*(u.length+1),c=f/(u.length+2);o.children.push(this.resources[r]),o.progressChunk=c;for(var h=0;h<u.length;++h)u[h].progressChunk=c;this.resources[r].progressChunk=c}return this._queue.push(this.resources[r]),this},t.prototype.pre=function(r){return this._beforeMiddleware.push(r),this},t.prototype.use=function(r){return this._afterMiddleware.push(r),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var e=this.resources[r];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(r){if(or("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,n=_u/e,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(r){var e=p_(r,{strictMode:!0}),n;if(e.protocol||!e.path||r.indexOf("//")===0?n=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?n=this.baseUrl+"/"+r:n=this.baseUrl+r,this.defaultQueryString){var i=pC.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(r,e){var n=this;r._dequeue=e,vu.eachSeries(this._beforeMiddleware,function(i,o){i.call(n,r,function(){o(r.isComplete?{}:null)})},function(){r.isComplete?n._onLoad(r):(r._onLoadBinding=r.onComplete.once(n._onLoad,n),r.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=_u,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(r){var e=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),vu.eachSeries(this._afterMiddleware,function(n,i){n.call(e,r,i)},function(){r.onAfterMiddleware.dispatch(r),e.progress=Math.min(_u,e.progress+r.progressChunk),e.onProgress.dispatch(e,r),r.error?e.onError.dispatch(r.error,e,r):e.onLoad.dispatch(e,r),e._resourcesParsing.splice(e._resourcesParsing.indexOf(r),1),e._queue.idle()&&e._resourcesParsing.length===0&&e._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},enumerable:!1,configurable:!0}),t.registerPlugin=function(r){return or("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),Pr.add({type:Dt.Loader,ref:r}),t},t._plugins=[],t}();Pr.handleByList(Dt.Loader,vo._plugins);vo.prototype.add=function(r,e,n,i){if(Array.isArray(r)){for(var o=0;o<r.length;++o)this.add(r[o]);return this}if(typeof r=="object"&&(n=r,i=e||n.callback||n.onComplete,e=n.url,r=n.name||n.key||n.url),typeof e!="string"&&(i=n,n=e,e=r),typeof e!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(r,e,n,i)};var vC=function(){function t(){}return t.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?vo.shared:new vo},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=Dt.Application,t}(),_C=function(){function t(){}return t.add=function(){Jt.setExtensionLoadType("svg",Jt.LOAD_TYPE.XHR),Jt.setExtensionXhrType("svg",Jt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,e){if(r.data&&(r.type===Jt.TYPE.IMAGE||r.extension==="svg")){var n=r.data,i=r.url,o=r.name,u=r.metadata;pt.fromLoader(n,i,o,u).then(function(h){r.texture=h,e()}).catch(e)}else e()},t.extension=Dt.Loader,t}(),gC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mC(t){for(var r="",e=0;e<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)e<t.length?n[o]=t.charCodeAt(e++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var u=e-(t.length-1);switch(u){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)r+=gC.charAt(i[o])}return r}function yC(t,r){if(!t.data){r();return}if(t.xhr&&t.xhrType===Jt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var e=t.xhr.getResponseHeader("content-type");if(e&&e.indexOf("image")===0){t.data=new Image,t.data.src="data:"+e+";base64,"+mC(t.xhr.responseText),t.type=Jt.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,r()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Jt.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,r()};return}}r()}var xC=function(){function t(){}return t.extension=Dt.Loader,t.use=yC,t}();Pr.add(_C,xC);/*!
 * @pixi/compressed-textures - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kt,bt;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(bt||(bt={}));var _o=(kt={},kt[bt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,kt[bt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,kt[bt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,kt[bt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,kt[bt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,kt[bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,kt[bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,kt[bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,kt[bt.COMPRESSED_R11_EAC]=.5,kt[bt.COMPRESSED_SIGNED_R11_EAC]=.5,kt[bt.COMPRESSED_RG11_EAC]=1,kt[bt.COMPRESSED_SIGNED_RG11_EAC]=1,kt[bt.COMPRESSED_RGB8_ETC2]=.5,kt[bt.COMPRESSED_RGBA8_ETC2_EAC]=1,kt[bt.COMPRESSED_SRGB8_ETC2]=.5,kt[bt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,kt[bt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,kt[bt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,kt[bt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,kt[bt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,kt[bt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,kt[bt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,kt[bt.COMPRESSED_RGB_ETC1_WEBGL]=.5,kt[bt.COMPRESSED_RGB_ATC_WEBGL]=.5,kt[bt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,kt[bt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,kt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var th=function(t,r){return th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},th(t,r)};function v_(t,r){th(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function TC(t,r,e,n){function i(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function h(d){try{c(n.next(d))}catch(p){u(p)}}function f(d){try{c(n.throw(d))}catch(p){u(p)}}function c(d){d.done?o(d.value):i(d.value).then(h,f)}c((n=n.apply(t,r||[])).next())})}function bC(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(c){return function(d){return f([c,d])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=r.call(t,e)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var IC=function(t){v_(r,t);function r(e,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,o,u;return typeof e=="string"?(o=e,u=new Uint8Array):(o=null,u=e),i=t.call(this,u,n)||this,i.origin=o,i.buffer=u?new Ju(u):null,i.origin&&n.autoLoad!==!1&&i.load(),u&&u.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return r.prototype.onBlobLoaded=function(e){},r.prototype.load=function(){return TC(this,void 0,Promise,function(){var e,n,i;return bC(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return e=o.sent(),[4,e.blob()];case 2:return n=o.sent(),[4,n.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new Ju(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},r}(Vi),eh=function(t){v_(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=r._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||r._createLevelBuffers(e instanceof Uint8Array?e:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return r.prototype.upload=function(e,n,i){var o=e.gl,u=e.context.extensions[this._extension];if(!u)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var h=0,f=this.levels;h<f;h++){var c=this._levelBuffers[h],d=c.levelID,p=c.levelWidth,v=c.levelHeight,g=c.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,d,this.format,p,v,0,g)}return!0},r.prototype.onBlobLoaded=function(){this._levelBuffers=r._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},r._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},r._createLevelBuffers=function(e,n,i,o,u,h,f){for(var c=new Array(i),d=e.byteOffset,p=h,v=f,g=p+o-1&~(o-1),m=v+u-1&~(u-1),x=g*m*_o[n],T=0;T<i;T++)c[T]={levelID:T,levelWidth:i>1?p:g,levelHeight:i>1?v:m,levelBuffer:new Uint8Array(e.buffer,d,x)},d+=x,p=p>>1||1,v=v>>1||1,g=p+o-1&~(o-1),m=v+u-1&~(u-1),x=g*m*_o[n];return c},r}(IC),EC=function(){function t(){}return t.use=function(r,e){var n=r.data,i=this;if(r.type===Jt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var o=n.textures,u=void 0,h=void 0,f=0,c=o.length;f<c;f++){var d=o[f],p=d.src,v=d.format;if(v||(h=p),t.textureFormats[v]){u=p;break}}if(u=u||h,!u){e(new Error("Cannot load compressed-textures in "+r.url+", make sure you provide a fallback"));return}if(u===r.url){e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var g={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},m=Wn.resolve(r.url.replace(i.baseUrl,""),u),x=n.cacheID;i.add(x,m,g,function(T){if(T.error){e(T.error);return}var E=T.texture,U=E===void 0?null:E,P=T.textures,N=P===void 0?{}:P;Object.assign(r,{texture:U,textures:N}),e()})}else e()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var r=K.ADAPTER.createCanvas(),e=r.getContext("webgl");if(!e)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var r=t.textureExtensions;t._textureFormats={};for(var e in r){var n=r[e];!n||Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=Dt.Loader,t}();function __(t,r,e){var n={textures:{},texture:null};if(!r)return n;var i=r.map(function(o){return new pt(new Ot(o,Object.assign({mipmap:Cr.OFF,alphaMode:Je.NO_PREMULTIPLIED_ALPHA},e)))});return i.forEach(function(o,u){var h=o.baseTexture,f=t+"-"+(u+1);Ot.addToCache(h,f),pt.addToCache(o,f),u===0&&(Ot.addToCache(h,t),pt.addToCache(o,t),n.texture=o),n.textures[f]=o}),n}var bi,$e,gu=4,Ja=124,RC=32,Bd=20,wC=542327876,Qa={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},CC={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},to={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Ye;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Ye||(Ye={}));var rh;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(rh||(rh={}));var AC=1,PC=2,NC=4,UC=64,OC=512,LC=131072,SC=827611204,FC=861165636,GC=894720068,BC=808540228,MC=4,HC=(bi={},bi[SC]=bt.COMPRESSED_RGBA_S3TC_DXT1_EXT,bi[FC]=bt.COMPRESSED_RGBA_S3TC_DXT3_EXT,bi[GC]=bt.COMPRESSED_RGBA_S3TC_DXT5_EXT,bi),kC=($e={},$e[Ye.DXGI_FORMAT_BC1_TYPELESS]=bt.COMPRESSED_RGBA_S3TC_DXT1_EXT,$e[Ye.DXGI_FORMAT_BC1_UNORM]=bt.COMPRESSED_RGBA_S3TC_DXT1_EXT,$e[Ye.DXGI_FORMAT_BC2_TYPELESS]=bt.COMPRESSED_RGBA_S3TC_DXT3_EXT,$e[Ye.DXGI_FORMAT_BC2_UNORM]=bt.COMPRESSED_RGBA_S3TC_DXT3_EXT,$e[Ye.DXGI_FORMAT_BC3_TYPELESS]=bt.COMPRESSED_RGBA_S3TC_DXT5_EXT,$e[Ye.DXGI_FORMAT_BC3_UNORM]=bt.COMPRESSED_RGBA_S3TC_DXT5_EXT,$e[Ye.DXGI_FORMAT_BC1_UNORM_SRGB]=bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,$e[Ye.DXGI_FORMAT_BC2_UNORM_SRGB]=bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,$e[Ye.DXGI_FORMAT_BC3_UNORM_SRGB]=bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,$e);function DC(t){var r=new Uint32Array(t),e=r[0];if(e!==wC)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,Ja/Uint32Array.BYTES_PER_ELEMENT),i=n[Qa.HEIGHT],o=n[Qa.WIDTH],u=n[Qa.MIPMAP_COUNT],h=new Uint32Array(t,Qa.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,RC/Uint32Array.BYTES_PER_ELEMENT),f=h[AC];if(f&NC){var c=h[CC.FOURCC];if(c!==BC){var d=HC[c],p=gu+Ja,v=new Uint8Array(t,p),g=new eh(v,{format:d,width:o,height:i,levels:u});return[g]}var m=gu+Ja,x=new Uint32Array(r.buffer,m,Bd/Uint32Array.BYTES_PER_ELEMENT),T=x[to.DXGI_FORMAT],E=x[to.RESOURCE_DIMENSION],U=x[to.MISC_FLAG],P=x[to.ARRAY_SIZE],N=kC[T];if(N===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+T);if(U===MC)throw new Error("DDSParser does not support cubemap textures");if(E===rh.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var A=new Array,C=gu+Ja+Bd;if(P===1)A.push(new Uint8Array(t,C));else{for(var M=_o[N],V=0,G=o,D=i,$=0;$<u;$++){var Q=Math.max(1,G+3&-4),rt=Math.max(1,D+3&-4),mt=Q*rt*M;V+=mt,G=G>>>1,D=D>>>1}for(var Y=C,$=0;$<P;$++)A.push(new Uint8Array(t,Y,V)),Y+=V}return A.map(function(Z){return new eh(Z,{format:N,width:o,height:i,levels:u})})}throw f&UC?new Error("DDSParser does not support uncompressed texture data."):f&OC?new Error("DDSParser does not supported YUV uncompressed texture data."):f&LC?new Error("DDSParser does not support single-channel (lumninance) texture data!"):f&PC?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Dr,xr,Ii,Md=[171,75,84,88,32,49,49,187,13,10,26,10],XC=67305985,qe={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},nh=64,Hd=(Dr={},Dr[nt.UNSIGNED_BYTE]=1,Dr[nt.UNSIGNED_SHORT]=2,Dr[nt.INT]=4,Dr[nt.UNSIGNED_INT]=4,Dr[nt.FLOAT]=4,Dr[nt.HALF_FLOAT]=8,Dr),VC=(xr={},xr[z.RGBA]=4,xr[z.RGB]=3,xr[z.RG]=2,xr[z.RED]=1,xr[z.LUMINANCE]=1,xr[z.LUMINANCE_ALPHA]=2,xr[z.ALPHA]=1,xr),WC=(Ii={},Ii[nt.UNSIGNED_SHORT_4_4_4_4]=2,Ii[nt.UNSIGNED_SHORT_5_5_5_1]=2,Ii[nt.UNSIGNED_SHORT_5_6_5]=2,Ii);function zC(t,r,e){e===void 0&&(e=!1);var n=new DataView(r);if(!jC(t,n))return null;var i=n.getUint32(qe.ENDIANNESS,!0)===XC,o=n.getUint32(qe.GL_TYPE,i),u=n.getUint32(qe.GL_FORMAT,i),h=n.getUint32(qe.GL_INTERNAL_FORMAT,i),f=n.getUint32(qe.PIXEL_WIDTH,i),c=n.getUint32(qe.PIXEL_HEIGHT,i)||1,d=n.getUint32(qe.PIXEL_DEPTH,i)||1,p=n.getUint32(qe.NUMBER_OF_ARRAY_ELEMENTS,i)||1,v=n.getUint32(qe.NUMBER_OF_FACES,i),g=n.getUint32(qe.NUMBER_OF_MIPMAP_LEVELS,i),m=n.getUint32(qe.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||d!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");var x=4,T=4,E=f+3&-4,U=c+3&-4,P=new Array(p),N=f*c;o===0&&(N=E*U);var A;if(o!==0?Hd[o]?A=Hd[o]*VC[u]:A=WC[o]:A=_o[h],A===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var C=e?qC(n,m,i):null,M=N*A,V=M,G=f,D=c,$=E,Q=U,rt=nh+m,mt=0;mt<g;mt++){for(var Y=n.getUint32(rt,i),Z=rt+4,ct=0;ct<p;ct++){var Gt=P[ct];Gt||(Gt=P[ct]=new Array(g)),Gt[mt]={levelID:mt,levelWidth:g>1||o!==0?G:$,levelHeight:g>1||o!==0?D:Q,levelBuffer:new Uint8Array(r,Z,V)},Z+=V}rt+=Y+4,rt=rt%4!==0?rt+4-rt%4:rt,G=G>>1||1,D=D>>1||1,$=G+x-1&~(x-1),Q=D+T-1&~(T-1),V=$*Q*A}return o!==0?{uncompressed:P.map(function(Nt){var S=Nt[0].levelBuffer,X=!1;return o===nt.FLOAT?S=new Float32Array(Nt[0].levelBuffer.buffer,Nt[0].levelBuffer.byteOffset,Nt[0].levelBuffer.byteLength/4):o===nt.UNSIGNED_INT?(X=!0,S=new Uint32Array(Nt[0].levelBuffer.buffer,Nt[0].levelBuffer.byteOffset,Nt[0].levelBuffer.byteLength/4)):o===nt.INT&&(X=!0,S=new Int32Array(Nt[0].levelBuffer.buffer,Nt[0].levelBuffer.byteOffset,Nt[0].levelBuffer.byteLength/4)),{resource:new Vi(S,{width:Nt[0].levelWidth,height:Nt[0].levelHeight}),type:o,format:X?$C(u):u}}),kvData:C}:{compressed:P.map(function(Nt){return new eh(null,{format:h,width:f,height:c,levels:g,levelBuffers:Nt})}),kvData:C}}function jC(t,r){for(var e=0;e<Md.length;e++)if(r.getUint8(e)!==Md[e])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function $C(t){switch(t){case z.RGBA:return z.RGBA_INTEGER;case z.RGB:return z.RGB_INTEGER;case z.RG:return z.RG_INTEGER;case z.RED:return z.RED_INTEGER;default:return t}}function qC(t,r,e){for(var n=new Map,i=0;i<r;){var o=t.getUint32(nh+i,e),u=nh+i+4,h=3-(o+3)%4;if(o===0||o>r-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var f=0;f<o&&t.getUint8(u+f)!==0;f++);if(f===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var c=new TextDecoder().decode(new Uint8Array(t.buffer,u,f)),d=new DataView(t.buffer,u+f+1,o-f-1);n.set(c,d),i+=4+o+h}return n}Jt.setExtensionXhrType("dds",Jt.XHR_RESPONSE_TYPE.BUFFER);var YC=function(){function t(){}return t.use=function(r,e){if(r.extension==="dds"&&r.data)try{Object.assign(r,__(r.name||r.url,DC(r.data),r.metadata))}catch(n){e(n);return}e()},t.extension=Dt.Loader,t}();Jt.setExtensionXhrType("ktx",Jt.XHR_RESPONSE_TYPE.BUFFER);var ZC=function(){function t(){}return t.use=function(r,e){if(r.extension==="ktx"&&r.data)try{var n=r.name||r.url,i=zC(n,r.data,this.loadKeyValueData),o=i.compressed,u=i.uncompressed,h=i.kvData;if(o){var f=__(n,o,r.metadata);if(h&&f.textures)for(var c in f.textures)f.textures[c].baseTexture.ktxKeyValueData=h;Object.assign(r,f)}else if(u){var d={};u.forEach(function(p,v){var g=new pt(new Ot(p.resource,{mipmap:Cr.OFF,alphaMode:Je.NO_PREMULTIPLIED_ALPHA,type:p.type,format:p.format})),m=n+"-"+(v+1);h&&(g.baseTexture.ktxKeyValueData=h),Ot.addToCache(g.baseTexture,m),pt.addToCache(g,m),v===0&&(d[n]=g,Ot.addToCache(g.baseTexture,n),pt.addToCache(g,n)),d[m]=g}),Object.assign(r,{textures:d})}}catch(p){e(p);return}e()},t.extension=Dt.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ih=function(t,r){return ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},ih(t,r)};function g_(t,r){ih(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}(function(t){g_(r,t);function r(e,n,i,o){e===void 0&&(e=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var u=t.call(this)||this,h=16384;return i>h&&(i=h),u._properties=[!1,!0,!1,!1,!1],u._maxSize=e,u._batchSize=i,u._buffers=null,u._bufferUpdateIDs=[],u._updateID=0,u.interactiveChildren=!1,u.blendMode=at.NORMAL,u.autoResize=o,u.roundPixels=!0,u.baseTexture=null,u.setProperties(n),u._tint=0,u.tintRgb=new Float32Array(4),u.tint=16777215,u}return r.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Kn(e,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(e){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},r.prototype.onChildrenChange=function(e){for(var n=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r})(sr);var kd=function(){function t(r,e,n){this.geometry=new Wi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<r.length;++i){var o=r[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||nt.FLOAT,offset:o.offset},e[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var r=this.geometry,e=0;this.indexBuffer=new ue(uw(this.size),!0,!0),r.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new ue(this.dynamicData,!1,!1);var u=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=u,u+=i.size,this.staticStride+=i.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new ue(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];r.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===nt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];r.addAttribute(i.attributeName,this.staticBuffer,0,i.type===nt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(r,e,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(r,e,n,o.type===nt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(r,e,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(r,e,n,o.type===nt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),KC=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,JC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,QC=function(t){g_(r,t);function r(e){var n=t.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new he,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:nt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=jr.from(JC,KC,{}),n.state=yn.for2d(),n}return r.prototype.render=function(e){var n=e.children,i=e._maxSize,o=e._batchSize,u=this.renderer,h=n.length;if(h!==0){h>i&&!e.autoResize&&(h=i);var f=e._buffers;f||(f=e._buffers=this.generateBuffers(e));var c=n[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=jv(e.blendMode,d),u.state.set(this.state);var p=u.gl,v=e.worldTransform.copyTo(this.tempMatrix);v.prepend(u.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=v.toArray(!0),this.shader.uniforms.uColor=sw(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var g=!1,m=0,x=0;m<h;m+=o,x+=1){var T=h-m;T>o&&(T=o),x>=f.length&&f.push(this._generateOneMoreBuffer(e));var E=f[x];E.uploadDynamic(n,m,T);var U=e._bufferUpdateIDs[x]||0;g=g||E._updateID<U,g&&(E._updateID=e._updateID,E.uploadStatic(n,m,T)),u.geometry.bind(E.geometry),p.drawElements(p.TRIANGLES,T*6,p.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(e){for(var n=[],i=e._maxSize,o=e._batchSize,u=e._properties,h=0;h<i;h+=o)n.push(new kd(this.properties,u,o));return n},r.prototype._generateOneMoreBuffer=function(e){var n=e._batchSize,i=e._properties;return new kd(this.properties,i,n)},r.prototype.uploadVertices=function(e,n,i,o,u,h){for(var f=0,c=0,d=0,p=0,v=0;v<i;++v){var g=e[n+v],m=g._texture,x=g.scale.x,T=g.scale.y,E=m.trim,U=m.orig;E?(c=E.x-g.anchor.x*U.width,f=c+E.width,p=E.y-g.anchor.y*U.height,d=p+E.height):(f=U.width*(1-g.anchor.x),c=U.width*-g.anchor.x,d=U.height*(1-g.anchor.y),p=U.height*-g.anchor.y),o[h]=c*x,o[h+1]=p*T,o[h+u]=f*x,o[h+u+1]=p*T,o[h+u*2]=f*x,o[h+u*2+1]=d*T,o[h+u*3]=c*x,o[h+u*3+1]=d*T,h+=u*4}},r.prototype.uploadPosition=function(e,n,i,o,u,h){for(var f=0;f<i;f++){var c=e[n+f].position;o[h]=c.x,o[h+1]=c.y,o[h+u]=c.x,o[h+u+1]=c.y,o[h+u*2]=c.x,o[h+u*2+1]=c.y,o[h+u*3]=c.x,o[h+u*3+1]=c.y,h+=u*4}},r.prototype.uploadRotation=function(e,n,i,o,u,h){for(var f=0;f<i;f++){var c=e[n+f].rotation;o[h]=c,o[h+u]=c,o[h+u*2]=c,o[h+u*3]=c,h+=u*4}},r.prototype.uploadUvs=function(e,n,i,o,u,h){for(var f=0;f<i;++f){var c=e[n+f]._texture._uvs;c?(o[h]=c.x0,o[h+1]=c.y0,o[h+u]=c.x1,o[h+u+1]=c.y1,o[h+u*2]=c.x2,o[h+u*2+1]=c.y2,o[h+u*3]=c.x3,o[h+u*3+1]=c.y3,h+=u*4):(o[h]=0,o[h+1]=0,o[h+u]=0,o[h+u+1]=0,o[h+u*2]=0,o[h+u*2+1]=0,o[h+u*3]=0,o[h+u*3+1]=0,h+=u*4)}},r.prototype.uploadTint=function(e,n,i,o,u,h){for(var f=0;f<i;++f){var c=e[n+f],d=c._texture.baseTexture.alphaMode>0,p=c.alpha,v=p<1&&d?Ah(c._tintRGB,p):c._tintRGB+(p*255<<24);o[h]=v,o[h+u]=v,o[h+u*2]=v,o[h+u*3]=v,h+=u*4}},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r.extension={name:"particle",type:Dt.RendererPlugin},r}(Ro);/*!
 * @pixi/graphics - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wr;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Wr||(Wr={}));var zr;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(zr||(zr={}));var Bi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,r){if(r===void 0&&(r=20),!this.adaptive||!t||isNaN(t))return r;var e=Math.ceil(t/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},m_=function(){function t(){this.color=16777215,this.alpha=1,this.texture=pt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=pt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ah=function(t,r){return ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},ah(t,r)};function Uh(t,r){ah(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function Dd(t,r){var e,n;r===void 0&&(r=!1);var i=t.length;if(!(i<6)){for(var o=0,u=0,h=t[i-2],f=t[i-1];u<i;u+=2){var c=t[u],d=t[u+1];o+=(c-h)*(d+f),h=c,f=d}if(!r&&o>0||r&&o<=0)for(var p=i/2,u=p+p%2;u<i;u+=2){var v=i-u-2,g=i-u-1,m=u,x=u+1;e=[t[m],t[v]],t[v]=e[0],t[m]=e[1],n=[t[x],t[g]],t[g]=n[0],t[x]=n[1]}}}var y_={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,r){var e=t.points,n=t.holes,i=r.points,o=r.indices;if(e.length>=6){Dd(e,!1);for(var u=[],h=0;h<n.length;h++){var f=n[h];Dd(f.points,!0),u.push(e.length/2),e=e.concat(f.points)}var c=To.exports(e,u,2);if(!c)return;for(var d=i.length/2,h=0;h<c.length;h+=3)o.push(c[h]+d),o.push(c[h+1]+d),o.push(c[h+2]+d);for(var h=0;h<e.length;h++)i.push(e[h])}}},go={build:function(t){var r=t.points,e,n,i,o,u,h;if(t.type===ce.CIRC){var f=t.shape;e=f.x,n=f.y,u=h=f.radius,i=o=0}else if(t.type===ce.ELIP){var c=t.shape;e=c.x,n=c.y,u=c.width,h=c.height,i=o=0}else{var d=t.shape,p=d.width/2,v=d.height/2;e=d.x+p,n=d.y+v,u=h=Math.max(0,Math.min(d.radius,Math.min(p,v))),i=p-u,o=v-h}if(!(u>=0&&h>=0&&i>=0&&o>=0)){r.length=0;return}var g=Math.ceil(2.3*Math.sqrt(u+h)),m=g*8+(i?4:0)+(o?4:0);if(r.length=m,m!==0){if(g===0){r.length=8,r[0]=r[6]=e+i,r[1]=r[3]=n+o,r[2]=r[4]=e-i,r[5]=r[7]=n-o;return}var x=0,T=g*4+(i?2:0)+2,E=T,U=m;{var P=i+u,N=o,A=e+P,C=e-P,M=n+N;if(r[x++]=A,r[x++]=M,r[--T]=M,r[--T]=C,o){var V=n-N;r[E++]=C,r[E++]=V,r[--U]=V,r[--U]=A}}for(var G=1;G<g;G++){var D=Math.PI/2*(G/g),P=i+Math.cos(D)*u,N=o+Math.sin(D)*h,A=e+P,C=e-P,M=n+N,V=n-N;r[x++]=A,r[x++]=M,r[--T]=M,r[--T]=C,r[E++]=C,r[E++]=V,r[--U]=V,r[--U]=A}{var P=i,N=o+h,A=e+P,C=e-P,M=n+N,V=n-N;r[x++]=A,r[x++]=M,r[--U]=V,r[--U]=A,i&&(r[x++]=C,r[x++]=M,r[--U]=V,r[--U]=C)}}},triangulate:function(t,r){var e=t.points,n=r.points,i=r.indices;if(e.length!==0){var o=n.length/2,u=o,h,f;if(t.type!==ce.RREC){var c=t.shape;h=c.x,f=c.y}else{var d=t.shape;h=d.x+d.width/2,f=d.y+d.height/2}var p=t.matrix;n.push(t.matrix?p.a*h+p.c*f+p.tx:h,t.matrix?p.b*h+p.d*f+p.ty:f),o++,n.push(e[0],e[1]);for(var v=2;v<e.length;v+=2)n.push(e[v],e[v+1]),i.push(o++,u,o);i.push(u+1,u,o)}}},tA={build:function(t){var r=t.shape,e=r.x,n=r.y,i=r.width,o=r.height,u=t.points;u.length=0,u.push(e,n,e+i,n,e+i,n+o,e,n+o)},triangulate:function(t,r){var e=t.points,n=r.points,i=n.length/2;n.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),r.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Mn(t,r,e){var n=r-t;return t+n*e}function eo(t,r,e,n,i,o,u){u===void 0&&(u=[]);for(var h=20,f=u,c=0,d=0,p=0,v=0,g=0,m=0,x=0,T=0;x<=h;++x)T=x/h,c=Mn(t,e,T),d=Mn(r,n,T),p=Mn(e,i,T),v=Mn(n,o,T),g=Mn(c,p,T),m=Mn(d,v,T),!(x===0&&f[f.length-2]===g&&f[f.length-1]===m)&&f.push(g,m);return f}var eA={build:function(t){if(mo.nextRoundedRectBehavior){go.build(t);return}var r=t.shape,e=t.points,n=r.x,i=r.y,o=r.width,u=r.height,h=Math.max(0,Math.min(r.radius,Math.min(o,u)/2));e.length=0,h?(eo(n,i+h,n,i,n+h,i,e),eo(n+o-h,i,n+o,i,n+o,i+h,e),eo(n+o,i+u-h,n+o,i+u,n+o-h,i+u,e),eo(n+h,i+u,n,i+u,n,i+u-h,e)):e.push(n,i,n+o,i,n+o,i+u,n,i+u)},triangulate:function(t,r){if(mo.nextRoundedRectBehavior){go.triangulate(t,r);return}for(var e=t.points,n=r.points,i=r.indices,o=n.length/2,u=To.exports(e,null,2),h=0,f=u.length;h<f;h+=3)i.push(u[h]+o),i.push(u[h+1]+o),i.push(u[h+2]+o);for(var h=0,f=e.length;h<f;h++)n.push(e[h],e[++h])}};function Xd(t,r,e,n,i,o,u,h){var f=t-e*i,c=r-n*i,d=t+e*o,p=r+n*o,v,g;u?(v=n,g=-e):(v=-n,g=e);var m=f+v,x=c+g,T=d+v,E=p+g;return h.push(m,x),h.push(T,E),2}function Hn(t,r,e,n,i,o,u,h){var f=e-t,c=n-r,d=Math.atan2(f,c),p=Math.atan2(i-t,o-r);h&&d<p?d+=Math.PI*2:!h&&d>p&&(p+=Math.PI*2);var v=d,g=p-d,m=Math.abs(g),x=Math.sqrt(f*f+c*c),T=(15*m*Math.sqrt(x)/Math.PI>>0)+1,E=g/T;if(v+=E,h){u.push(t,r),u.push(e,n);for(var U=1,P=v;U<T;U++,P+=E)u.push(t,r),u.push(t+Math.sin(P)*x,r+Math.cos(P)*x);u.push(t,r),u.push(i,o)}else{u.push(e,n),u.push(t,r);for(var U=1,P=v;U<T;U++,P+=E)u.push(t+Math.sin(P)*x,r+Math.cos(P)*x),u.push(t,r);u.push(i,o),u.push(t,r)}return T*2}function rA(t,r){var e=t.shape,n=t.points||e.points.slice(),i=r.closePointEps;if(n.length!==0){var o=t.lineStyle,u=new jt(n[0],n[1]),h=new jt(n[n.length-2],n[n.length-1]),f=e.type!==ce.POLY||e.closeStroke,c=Math.abs(u.x-h.x)<i&&Math.abs(u.y-h.y)<i;if(f){n=n.slice(),c&&(n.pop(),n.pop(),h.set(n[n.length-2],n[n.length-1]));var d=(u.x+h.x)*.5,p=(h.y+u.y)*.5;n.unshift(d,p),n.push(d,p)}var v=r.points,g=n.length/2,m=n.length,x=v.length/2,T=o.width/2,E=T*T,U=o.miterLimit*o.miterLimit,P=n[0],N=n[1],A=n[2],C=n[3],M=0,V=0,G=-(N-C),D=P-A,$=0,Q=0,rt=Math.sqrt(G*G+D*D);G/=rt,D/=rt,G*=T,D*=T;var mt=o.alignment,Y=(1-mt)*2,Z=mt*2;f||(o.cap===zr.ROUND?m+=Hn(P-G*(Y-Z)*.5,N-D*(Y-Z)*.5,P-G*Y,N-D*Y,P+G*Z,N+D*Z,v,!0)+2:o.cap===zr.SQUARE&&(m+=Xd(P,N,G,D,Y,Z,!0,v))),v.push(P-G*Y,N-D*Y),v.push(P+G*Z,N+D*Z);for(var ct=1;ct<g-1;++ct){P=n[(ct-1)*2],N=n[(ct-1)*2+1],A=n[ct*2],C=n[ct*2+1],M=n[(ct+1)*2],V=n[(ct+1)*2+1],G=-(N-C),D=P-A,rt=Math.sqrt(G*G+D*D),G/=rt,D/=rt,G*=T,D*=T,$=-(C-V),Q=A-M,rt=Math.sqrt($*$+Q*Q),$/=rt,Q/=rt,$*=T,Q*=T;var Gt=A-P,Nt=N-C,S=A-M,X=V-C,q=Nt*S-X*Gt,et=q<0;if(Math.abs(q)<.1){v.push(A-G*Y,C-D*Y),v.push(A+G*Z,C+D*Z);continue}var ot=(-G+P)*(-D+C)-(-G+A)*(-D+N),dt=(-$+M)*(-Q+C)-(-$+A)*(-Q+V),st=(Gt*dt-S*ot)/q,Ct=(X*ot-Nt*dt)/q,At=(st-A)*(st-A)+(Ct-C)*(Ct-C),It=A+(st-A)*Y,St=C+(Ct-C)*Y,ut=A-(st-A)*Z,_t=C-(Ct-C)*Z,it=Math.min(Gt*Gt+Nt*Nt,S*S+X*X),Rt=et?Y:Z,Ft=it+Rt*Rt*E,xt=At<=Ft;xt?o.join===Wr.BEVEL||At/E>U?(et?(v.push(It,St),v.push(A+G*Z,C+D*Z),v.push(It,St),v.push(A+$*Z,C+Q*Z)):(v.push(A-G*Y,C-D*Y),v.push(ut,_t),v.push(A-$*Y,C-Q*Y),v.push(ut,_t)),m+=2):o.join===Wr.ROUND?et?(v.push(It,St),v.push(A+G*Z,C+D*Z),m+=Hn(A,C,A+G*Z,C+D*Z,A+$*Z,C+Q*Z,v,!0)+4,v.push(It,St),v.push(A+$*Z,C+Q*Z)):(v.push(A-G*Y,C-D*Y),v.push(ut,_t),m+=Hn(A,C,A-G*Y,C-D*Y,A-$*Y,C-Q*Y,v,!1)+4,v.push(A-$*Y,C-Q*Y),v.push(ut,_t)):(v.push(It,St),v.push(ut,_t)):(v.push(A-G*Y,C-D*Y),v.push(A+G*Z,C+D*Z),o.join===Wr.ROUND?et?m+=Hn(A,C,A+G*Z,C+D*Z,A+$*Z,C+Q*Z,v,!0)+2:m+=Hn(A,C,A-G*Y,C-D*Y,A-$*Y,C-Q*Y,v,!1)+2:o.join===Wr.MITER&&At/E<=U&&(et?(v.push(ut,_t),v.push(ut,_t)):(v.push(It,St),v.push(It,St)),m+=2),v.push(A-$*Y,C-Q*Y),v.push(A+$*Z,C+Q*Z),m+=2)}P=n[(g-2)*2],N=n[(g-2)*2+1],A=n[(g-1)*2],C=n[(g-1)*2+1],G=-(N-C),D=P-A,rt=Math.sqrt(G*G+D*D),G/=rt,D/=rt,G*=T,D*=T,v.push(A-G*Y,C-D*Y),v.push(A+G*Z,C+D*Z),f||(o.cap===zr.ROUND?m+=Hn(A-G*(Y-Z)*.5,C-D*(Y-Z)*.5,A-G*Y,C-D*Y,A+G*Z,C+D*Z,v,!1)+2:o.cap===zr.SQUARE&&(m+=Xd(A,C,G,D,Y,Z,!1,v)));for(var ne=r.indices,hr=Bi.epsilon*Bi.epsilon,ct=x;ct<m+x-2;++ct)P=v[ct*2],N=v[ct*2+1],A=v[(ct+1)*2],C=v[(ct+1)*2+1],M=v[(ct+2)*2],V=v[(ct+2)*2+1],!(Math.abs(P*(C-V)+A*(V-N)+M*(N-C))<hr)&&ne.push(ct,ct+1,ct+2)}}function nA(t,r){var e=0,n=t.shape,i=t.points||n.points,o=n.type!==ce.POLY||n.closeStroke;if(i.length!==0){var u=r.points,h=r.indices,f=i.length/2,c=u.length/2,d=c;for(u.push(i[0],i[1]),e=1;e<f;e++)u.push(i[e*2],i[e*2+1]),h.push(d,d+1),d++;o&&h.push(d,c)}}function Vd(t,r){t.lineStyle.native?nA(t,r):rA(t,r)}var Wd=function(){function t(){}return t.curveTo=function(r,e,n,i,o,u){var h=u[u.length-2],f=u[u.length-1],c=f-e,d=h-r,p=i-e,v=n-r,g=Math.abs(c*v-d*p);if(g<1e-8||o===0)return(u[u.length-2]!==r||u[u.length-1]!==e)&&u.push(r,e),null;var m=c*c+d*d,x=p*p+v*v,T=c*p+d*v,E=o*Math.sqrt(m)/g,U=o*Math.sqrt(x)/g,P=E*T/m,N=U*T/x,A=E*v+U*d,C=E*p+U*c,M=d*(U+P),V=c*(U+P),G=v*(E+N),D=p*(E+N),$=Math.atan2(V-C,M-A),Q=Math.atan2(D-C,G-A);return{cx:A+r,cy:C+e,radius:o,startAngle:$,endAngle:Q,anticlockwise:d*p>v*c}},t.arc=function(r,e,n,i,o,u,h,f,c){for(var d=h-u,p=Bi._segmentsCount(Math.abs(d)*o,Math.ceil(Math.abs(d)/co)*40),v=d/(p*2),g=v*2,m=Math.cos(v),x=Math.sin(v),T=p-1,E=T%1/T,U=0;U<=T;++U){var P=U+E*U,N=v+u+g*P,A=Math.cos(N),C=-Math.sin(N);c.push((m*A+x*C)*o+n,(m*-C+x*A)*o+i)}},t}(),iA=function(){function t(){}return t.curveLength=function(r,e,n,i,o,u,h,f){for(var c=10,d=0,p=0,v=0,g=0,m=0,x=0,T=0,E=0,U=0,P=0,N=0,A=r,C=e,M=1;M<=c;++M)p=M/c,v=p*p,g=v*p,m=1-p,x=m*m,T=x*m,E=T*r+3*x*p*n+3*m*v*o+g*h,U=T*e+3*x*p*i+3*m*v*u+g*f,P=A-E,N=C-U,A=E,C=U,d+=Math.sqrt(P*P+N*N);return d},t.curveTo=function(r,e,n,i,o,u,h){var f=h[h.length-2],c=h[h.length-1];h.length-=2;var d=Bi._segmentsCount(t.curveLength(f,c,r,e,n,i,o,u)),p=0,v=0,g=0,m=0,x=0;h.push(f,c);for(var T=1,E=0;T<=d;++T)E=T/d,p=1-E,v=p*p,g=v*p,m=E*E,x=m*E,h.push(g*f+3*v*E*r+3*p*m*n+x*o,g*c+3*v*E*e+3*p*m*i+x*u)},t}(),aA=function(){function t(){}return t.curveLength=function(r,e,n,i,o,u){var h=r-2*n+o,f=e-2*i+u,c=2*n-2*r,d=2*i-2*e,p=4*(h*h+f*f),v=4*(h*c+f*d),g=c*c+d*d,m=2*Math.sqrt(p+v+g),x=Math.sqrt(p),T=2*p*x,E=2*Math.sqrt(g),U=v/x;return(T*m+x*v*(m-E)+(4*g*p-v*v)*Math.log((2*x+U+m)/(U+E)))/(4*T)},t.curveTo=function(r,e,n,i,o){for(var u=o[o.length-2],h=o[o.length-1],f=Bi._segmentsCount(t.curveLength(u,h,r,e,n,i)),c=0,d=0,p=1;p<=f;++p){var v=p/f;c=u+(r-u)*v,d=h+(e-h)*v,o.push(c+(r+(n-r)*v-c)*v,d+(e+(i-e)*v-d)*v)}},t}(),oA=function(){function t(){this.reset()}return t.prototype.begin=function(r,e,n){this.reset(),this.style=r,this.start=e,this.attribStart=n},t.prototype.end=function(r,e){this.attribSize=e-this.attribStart,this.size=r-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),hn,mu=(hn={},hn[ce.POLY]=y_,hn[ce.CIRC]=go,hn[ce.ELIP]=go,hn[ce.RECT]=tA,hn[ce.RREC]=eA,hn),zd=[],ro=[],jd=function(){function t(r,e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=r,this.lineStyle=n,this.fillStyle=e,this.matrix=i,this.type=r.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),kn=new jt,sA=function(t){Uh(r,t);function r(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new po,e.boundsDirty=-1,e}return Object.defineProperty(r.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ro.push(this.drawCalls[e]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var n=this.batches[e];n.reset(),zd.push(n)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(e,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var u=new jd(e,n,i,o);return this.graphicsData.push(u),this.dirty++,this},r.prototype.drawHole=function(e,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new jd(e,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},r.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(e){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(!!o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(e,kn):kn.copyFrom(e),o.shape.contains(kn.x,kn.y))){var u=!1;if(o.holes)for(var h=0;h<o.holes.length;h++){var f=o.holes[h];if(f.shape.contains(kn.x,kn.y)){u=!0;break}}if(!u)return!0}}return!1},r.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,n=this.graphicsData,i=null,o=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],o=i.style);for(var u=this.shapeIndex;u<n.length;u++){this.shapeIndex++;var h=n[u],f=h.fillStyle,c=h.lineStyle,d=mu[h.type];d.build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(f.visible||c.visible)&&this.processHoles(h.holes);for(var p=0;p<2;p++){var v=p===0?f:c;if(!!v.visible){var g=v.texture.baseTexture,m=this.indices.length,x=this.points.length/2;g.wrapMode=Rr.REPEAT,p===0?this.processFill(h):this.processLine(h);var T=this.points.length/2-x;T!==0&&(i&&!this._compareStyles(o,v)&&(i.end(m,x),i=null),i||(i=zd.pop()||new oA,i.begin(v,m,x),this.batches.push(i),o=v),this.addUvs(this.points,e,v.texture,x,T,v.matrix))}}}var E=this.indices.length,U=this.points.length/2;if(i&&i.end(E,U),this.batches.length===0){this.batchable=!0;return}var P=U>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&P===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=P?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},r.prototype._compareStyles=function(e,n){return!(!e||!n||e.texture.baseTexture!==n.texture.baseTexture||e.color+e.alpha!==n.color+n.alpha||!!e.native!=!!n.native)},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,n=this.graphicsData.length;e<n;e++){var i=this.graphicsData[e],o=i.fillStyle,u=i.lineStyle;if(o&&!o.texture.baseTexture.valid||u&&!u.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,n=0,i=e.length;n<i;n++)for(var o=e[n],u=0;u<o.size;u++){var h=o.start+u;this.indicesUint16[h]=this.indicesUint16[h]-o.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<r.BATCHABLE_SIZE*2},r.prototype.buildDrawCalls=function(){for(var e=++Ot._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),ro.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,u=ro.pop();u||(u=new Zu,u.texArray=new Ku),u.texArray.count=0,u.start=0,u.size=0,u.type=Ze.TRIANGLES;var h=0,f=null,c=0,d=!1,p=Ze.TRIANGLES,v=0;this.drawCalls.push(u);for(var n=0;n<this.batches.length;n++){var g=this.batches[n],m=8,x=g.style,T=x.texture.baseTexture;d!==!!x.native&&(d=!!x.native,p=d?Ze.LINES:Ze.TRIANGLES,f=null,h=m,e++),f!==T&&(f=T,T._batchEnabled!==e&&(h===m&&(e++,h=0,u.size>0&&(u=ro.pop(),u||(u=new Zu,u.texArray=new Ku),this.drawCalls.push(u)),u.start=v,u.size=0,u.texArray.count=0,u.type=p),T.touched=1,T._batchEnabled=e,T._batchLocation=h,T.wrapMode=Rr.REPEAT,u.texArray.elements[u.texArray.count++]=T,h++)),u.size+=g.size,v+=g.size,c=T._batchLocation,this.addColors(i,x.color,x.alpha,g.attribSize,g.attribStart),this.addTextureIds(o,c,g.attribSize,g.attribStart)}Ot._globalBatch=e,this.packAttributes()},r.prototype.packAttributes=function(){for(var e=this.points,n=this.uvs,i=this.colors,o=this.textureIds,u=new ArrayBuffer(e.length*3*4),h=new Float32Array(u),f=new Uint32Array(u),c=0,d=0;d<e.length/2;d++)h[c++]=e[d*2],h[c++]=e[d*2+1],h[c++]=n[d*2],h[c++]=n[d*2+1],f[c++]=i[d],h[c++]=o[d];this._buffer.update(u),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(e){if(e.holes.length)y_.triangulate(e,this);else{var n=mu[e.type];n.triangulate(e,this)}},r.prototype.processLine=function(e){Vd(e,this);for(var n=0;n<e.holes.length;n++)Vd(e.holes[n],this)},r.prototype.processHoles=function(e){for(var n=0;n<e.length;n++){var i=e[n],o=mu[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},r.prototype.calculateBounds=function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(e,n){for(var i=0;i<e.length/2;i++){var o=e[i*2],u=e[i*2+1];e[i*2]=n.a*o+n.c*u+n.tx,e[i*2+1]=n.b*o+n.d*u+n.ty}},r.prototype.addColors=function(e,n,i,o,u){u===void 0&&(u=0);var h=(n>>16)+(n&65280)+((n&255)<<16),f=Ah(h,i);e.length=Math.max(e.length,u+o);for(var c=0;c<o;c++)e[u+c]=f},r.prototype.addTextureIds=function(e,n,i,o){o===void 0&&(o=0),e.length=Math.max(e.length,o+i);for(var u=0;u<i;u++)e[o+u]=n},r.prototype.addUvs=function(e,n,i,o,u,h){h===void 0&&(h=null);for(var f=0,c=n.length,d=i.frame;f<u;){var p=e[(o+f)*2],v=e[(o+f)*2+1];if(h){var g=h.a*p+h.c*v+h.tx;v=h.b*p+h.d*v+h.ty,p=g}f++,n.push(p/d.width,v/d.height)}var m=i.baseTexture;(d.width<m.width||d.height<m.height)&&this.adjustUvs(n,i,c,u)},r.prototype.adjustUvs=function(e,n,i,o){for(var u=n.baseTexture,h=1e-6,f=i+o*2,c=n.frame,d=c.width/u.width,p=c.height/u.height,v=c.x/c.width,g=c.y/c.height,m=Math.floor(e[i]+h),x=Math.floor(e[i+1]+h),T=i+2;T<f;T+=2)m=Math.min(m,Math.floor(e[T]+h)),x=Math.min(x,Math.floor(e[T+1]+h));v-=m,g-=x;for(var T=i;T<f;T+=2)e[T]=(e[T]+v)*d,e[T+1]=(e[T+1]+g)*p},r.BATCHABLE_SIZE=100,r}(c_),uA=function(t){Uh(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=zr.BUTT,e.join=Wr.MITER,e.miterLimit=10,e}return r.prototype.clone=function(){var e=new r;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},r.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(m_),hA=new Float32Array(3),yu={},mo=function(t){Uh(r,t);function r(e){e===void 0&&(e=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new m_,n._lineStyle=new uA,n._matrix=null,n._holeMode=!1,n.state=yn.for2d(),n._geometry=e||new sA,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=at.NORMAL,n}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(e,n,i,o,u){return e===void 0&&(e=null),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=.5),u===void 0&&(u=!1),typeof e=="number"&&(e={width:e,color:n,alpha:i,alignment:o,native:u}),this.lineTextureStyle(e)},r.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:pt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:zr.BUTT,join:Wr.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new oo,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[n-2],e[n-1]))}else this.currentPath=new oo,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(e,n){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=n,this},r.prototype.lineTo=function(e,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],u=i[i.length-1];return(o!==e||u!==n)&&i.push(e,n),this},r.prototype._initCurve=function(e,n){e===void 0&&(e=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,n]):this.moveTo(e,n)},r.prototype.quadraticCurveTo=function(e,n,i,o){this._initCurve();var u=this.currentPath.points;return u.length===0&&this.moveTo(0,0),aA.curveTo(e,n,i,o,u),this},r.prototype.bezierCurveTo=function(e,n,i,o,u,h){return this._initCurve(),iA.curveTo(e,n,i,o,u,h,this.currentPath.points),this},r.prototype.arcTo=function(e,n,i,o,u){this._initCurve(e,n);var h=this.currentPath.points,f=Wd.curveTo(e,n,i,o,u,h);if(f){var c=f.cx,d=f.cy,p=f.radius,v=f.startAngle,g=f.endAngle,m=f.anticlockwise;this.arc(c,d,p,v,g,m)}return this},r.prototype.arc=function(e,n,i,o,u,h){if(h===void 0&&(h=!1),o===u)return this;!h&&u<=o?u+=co:h&&o<=u&&(o+=co);var f=u-o;if(f===0)return this;var c=e+Math.cos(o)*i,d=n+Math.sin(o)*i,p=this._geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var g=Math.abs(v[v.length-2]-c),m=Math.abs(v[v.length-1]-d);g<p&&m<p||v.push(c,d)}else this.moveTo(c,d),v=this.currentPath.points;return Wd.arc(c,d,e,n,i,o,u,h,v),this},r.prototype.beginFill=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=1),this.beginTextureFill({texture:pt.WHITE,color:e,alpha:n})},r.prototype.beginTextureFill=function(e){e=Object.assign({texture:pt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(e,n,i,o){return this.drawShape(new Lt(e,n,i,o))},r.prototype.drawRoundedRect=function(e,n,i,o,u){return this.drawShape(new _w(e,n,i,o,u))},r.prototype.drawCircle=function(e,n,i){return this.drawShape(new pw(e,n,i))},r.prototype.drawEllipse=function(e,n,i,o){return this.drawShape(new vw(e,n,i,o))},r.prototype.drawPolygon=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];var o,u=!0,h=n[0];h.points?(u=h.closeStroke,o=h.points):Array.isArray(n[0])?o=n[0]:o=n;var f=new oo(o);return f.closeStroke=u,this.drawShape(f),this},r.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===ce.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},r.prototype._render=function(e){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},r.prototype._populateBatches=function(){var e=this._geometry,n=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(var o=0;o<i;o++){var u=e.batches[o],h=u.style.color,f=new Float32Array(this.vertexData.buffer,u.attribStart*4*2,u.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,u.attribStart*4*2,u.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,u.start*2,u.size),p={vertexData:f,blendMode:n,indices:d,uvs:c,_batchRGB:Kn(h),_tintRGB:h,_texture:u.style.texture,alpha:u.style.alpha,worldAlpha:1};this.batches[o]=p}},r.prototype._renderBatched=function(e){if(!!this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,e.plugins[this.pluginName].render(o)}}},r.prototype._renderDirect=function(e){var n=this._resolveDirectShader(e),i=this._geometry,o=this.tint,u=this.worldAlpha,h=n.uniforms,f=i.drawCalls;h.translationMatrix=this.transform.worldTransform,h.tint[0]=(o>>16&255)/255*u,h.tint[1]=(o>>8&255)/255*u,h.tint[2]=(o&255)/255*u,h.tint[3]=u,e.shader.bind(n),e.geometry.bind(i,n),e.state.set(this.state);for(var c=0,d=f.length;c<d;c++)this._renderDrawCallDirect(e,i.drawCalls[c])},r.prototype._renderDrawCallDirect=function(e,n){for(var i=n.texArray,o=n.type,u=n.size,h=n.start,f=i.count,c=0;c<f;c++)e.texture.bind(i.elements[c],c);e.geometry.draw(o,u,h)},r.prototype._resolveDirectShader=function(e){var n=this.shader,i=this.pluginName;if(!n){if(!yu[i]){for(var o=e.plugins[i].MAX_TEXTURES,u=new Int32Array(o),h=0;h<o;h++)u[h]=h;var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new he,default:vn.from({uSamplers:u},!0)},c=e.plugins[i]._shader.program;yu[i]=new jr(c,f)}n=yu[i]}return n},r.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(!!e.graphicsData.length){var n=e.bounds,i=n.minX,o=n.minY,u=n.maxX,h=n.maxY;this._bounds.addFrame(this.transform,i,o,u,h)}},r.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Kn(this.tint,hA),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,u=e[0]*o[0]*255,h=e[1]*o[1]*255,f=e[2]*o[2]*255,c=(u<<16)+(h<<8)+(f|0);i._tintRGB=(c>>16)+(c&65280)+((c&255)<<16)}}},r.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var n=this.transform.worldTransform,i=n.a,o=n.b,u=n.c,h=n.d,f=n.tx,c=n.ty,d=this._geometry.points,p=this.vertexData,v=0,g=0;g<d.length;g+=2){var m=d[g],x=d[g+1];p[v++]=i*m+u*x+f,p[v++]=h*x+o*m+c}}},r.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},r.prototype.setMatrix=function(e){return this._matrix=e,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},r.nextRoundedRectBehavior=!1,r._TEMP_POINT=new jt,r}(sr);/*!
 * @pixi/sprite - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oh=function(t,r){return oh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},oh(t,r)};function fA(t,r){oh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ei=new jt,lA=new Uint16Array([0,1,2,0,2,3]),Qn=function(t){fA(r,t);function r(e){var n=t.call(this)||this;return n._anchor=new jn(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=at.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||pt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=lA,n.pluginName="batch",n.isSprite=!0,n._roundPixels=K.ROUND_PIXELS,n}return r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=zn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=zn(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var e=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===e._updateID)){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,u=n.c,h=n.d,f=n.tx,c=n.ty,d=this.vertexData,p=e.trim,v=e.orig,g=this._anchor,m=0,x=0,T=0,E=0;if(p?(x=p.x-g._x*v.width,m=x+p.width,E=p.y-g._y*v.height,T=E+p.height):(x=-g._x*v.width,m=x+v.width,E=-g._y*v.height,T=E+v.height),d[0]=i*x+u*E+f,d[1]=h*E+o*x+c,d[2]=i*m+u*E+f,d[3]=h*E+o*m+c,d[4]=i*m+u*T+f,d[5]=h*T+o*m+c,d[6]=i*x+u*T+f,d[7]=h*T+o*x+c,this._roundPixels)for(var U=K.RESOLUTION,P=0;P<d.length;++P)d[P]=Math.round((d[P]*U|0)/U)}},r.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,n=this.vertexTrimmedData,i=e.orig,o=this._anchor,u=this.transform.worldTransform,h=u.a,f=u.b,c=u.c,d=u.d,p=u.tx,v=u.ty,g=-o._x*i.width,m=g+i.width,x=-o._y*i.height,T=x+i.height;n[0]=h*g+c*x+p,n[1]=d*x+f*g+v,n[2]=h*m+c*x+p,n[3]=d*x+f*m+v,n[4]=h*m+c*T+p,n[5]=d*T+f*m+v,n[6]=h*g+c*T+p,n[7]=d*T+f*g+v},r.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._localBounds||(this._localBounds=new po),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Lt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ei);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,u=0;return Ei.x>=o&&Ei.x<o+n&&(u=-i*this.anchor.y,Ei.y>=u&&Ei.y<u+i)},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof e=="boolean"?e:e&&e.texture;if(n){var i=typeof e=="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null},r.from=function(e,n){var i=e instanceof pt?e:pt.from(e,n);return new r(i)},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var n=zn(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var n=zn(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||pt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(sr);/*!
 * @pixi/text - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sh=function(t,r){return sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},sh(t,r)};function cA(t,r){sh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Mi;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Mi||(Mi={}));var xu={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Mi.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},dA=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Jn=function(){function t(r){this.styleID=0,this.reset(),bu(this,r,r)}return t.prototype.clone=function(){var r={};return bu(r,this,xu),new t(r)},t.prototype.reset=function(){bu(this,xu,xu)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(r){this._breakWords!==r&&(this._breakWords=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(r){this._dropShadow!==r&&(this._dropShadow=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(r){this._dropShadowAlpha!==r&&(this._dropShadowAlpha=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(r){this._dropShadowAngle!==r&&(this._dropShadowAngle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(r){this._dropShadowBlur!==r&&(this._dropShadowBlur=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(r){var e=Tu(r);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(r){this._dropShadowDistance!==r&&(this._dropShadowDistance=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(r){var e=Tu(r);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(r){this._fillGradientType!==r&&(this._fillGradientType=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(r){pA(this._fillGradientStops,r)||(this._fillGradientStops=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(r){this.fontFamily!==r&&(this._fontFamily=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(r){this._fontStyle!==r&&(this._fontStyle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(r){this._fontVariant!==r&&(this._fontVariant=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(r){this._fontWeight!==r&&(this._fontWeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(r){this._lineHeight!==r&&(this._lineHeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(r){this._leading!==r&&(this._leading=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(r){this._lineJoin!==r&&(this._lineJoin=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(r){this._miterLimit!==r&&(this._miterLimit=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(r){this._padding!==r&&(this._padding=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(r){var e=Tu(r);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(r){this._strokeThickness!==r&&(this._strokeThickness=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(r){this._textBaseline!==r&&(this._textBaseline=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(r){this._trim!==r&&(this._trim=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(r){this._whiteSpace!==r&&(this._whiteSpace=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(r){this._wordWrap!==r&&(this._wordWrap=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(r){this._wordWrapWidth!==r&&(this._wordWrapWidth=r,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var r=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var i=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&dA.indexOf(i)<0&&(i='"'+i+'"'),e[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+r+" "+e.join(",")},t}();function $d(t){return typeof t=="number"?Vv(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function Tu(t){if(Array.isArray(t)){for(var r=0;r<t.length;++r)t[r]=$d(t[r]);return t}else return $d(t)}function pA(t,r){if(!Array.isArray(t)||!Array.isArray(r)||t.length!==r.length)return!1;for(var e=0;e<t.length;++e)if(t[e]!==r[e])return!1;return!0}function bu(t,r,e){for(var n in e)Array.isArray(r[n])?t[n]=r[n].slice():t[n]=r[n]}var ur=function(){function t(r,e,n,i,o,u,h,f,c){this.text=r,this.style=e,this.width=n,this.height=i,this.lines=o,this.lineWidths=u,this.lineHeight=h,this.maxLineWidth=f,this.fontProperties=c}return t.measureText=function(r,e,n,i){i===void 0&&(i=t._canvas),n=n==null?e.wordWrap:n;var o=e.toFontString(),u=t.measureFont(o);u.fontSize===0&&(u.fontSize=e.fontSize,u.ascent=e.fontSize);var h=i.getContext("2d");h.font=o;for(var f=n?t.wordWrap(r,e,i):r,c=f.split(/(?:\r\n|\r|\n)/),d=new Array(c.length),p=0,v=0;v<c.length;v++){var g=h.measureText(c[v]).width+(c[v].length-1)*e.letterSpacing;d[v]=g,p=Math.max(p,g)}var m=p+e.strokeThickness;e.dropShadow&&(m+=e.dropShadowDistance);var x=e.lineHeight||u.fontSize+e.strokeThickness,T=Math.max(x,u.fontSize+e.strokeThickness)+(c.length-1)*(x+e.leading);return e.dropShadow&&(T+=e.dropShadowDistance),new t(r,e,m,T,c,d,x+e.leading,p,u)},t.wordWrap=function(r,e,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),o=0,u="",h="",f=Object.create(null),c=e.letterSpacing,d=e.whiteSpace,p=t.collapseSpaces(d),v=t.collapseNewlines(d),g=!p,m=e.wordWrapWidth+c,x=t.tokenize(r),T=0;T<x.length;T++){var E=x[T];if(t.isNewline(E)){if(!v){h+=t.addLine(u),g=!p,u="",o=0;continue}E=" "}if(p){var U=t.isBreakingSpace(E),P=t.isBreakingSpace(u[u.length-1]);if(U&&P)continue}var N=t.getFromCache(E,c,f,i);if(N>m)if(u!==""&&(h+=t.addLine(u),u="",o=0),t.canBreakWords(E,e.breakWords))for(var A=t.wordWrapSplit(E),C=0;C<A.length;C++){for(var M=A[C],V=1;A[C+V];){var G=A[C+V],D=M[M.length-1];if(!t.canBreakChars(D,G,E,C,e.breakWords))M+=G;else break;V++}C+=M.length-1;var $=t.getFromCache(M,c,f,i);$+o>m&&(h+=t.addLine(u),g=!1,u="",o=0),u+=M,o+=$}else{u.length>0&&(h+=t.addLine(u),u="",o=0);var Q=T===x.length-1;h+=t.addLine(E,!Q),g=!1,u="",o=0}else N+o>m&&(g=!1,h+=t.addLine(u),u="",o=0),(u.length>0||!t.isBreakingSpace(E)||g)&&(u+=E,o+=N)}return h+=t.addLine(u,!1),h},t.addLine=function(r,e){return e===void 0&&(e=!0),r=t.trimRight(r),r=e?r+`
`:r,r},t.getFromCache=function(r,e,n,i){var o=n[r];if(typeof o!="number"){var u=r.length*e;o=i.measureText(r).width+u,n[r]=o}return o},t.collapseSpaces=function(r){return r==="normal"||r==="pre-line"},t.collapseNewlines=function(r){return r==="normal"},t.trimRight=function(r){if(typeof r!="string")return"";for(var e=r.length-1;e>=0;e--){var n=r[e];if(!t.isBreakingSpace(n))break;r=r.slice(0,-1)}return r},t.isNewline=function(r){return typeof r!="string"?!1:t._newlines.indexOf(r.charCodeAt(0))>=0},t.isBreakingSpace=function(r,e){return typeof r!="string"?!1:t._breakingSpaces.indexOf(r.charCodeAt(0))>=0},t.tokenize=function(r){var e=[],n="";if(typeof r!="string")return e;for(var i=0;i<r.length;i++){var o=r[i],u=r[i+1];if(t.isBreakingSpace(o,u)||t.isNewline(o)){n!==""&&(e.push(n),n=""),e.push(o);continue}n+=o}return n!==""&&e.push(n),e},t.canBreakWords=function(r,e){return e},t.canBreakChars=function(r,e,n,i,o){return!0},t.wordWrapSplit=function(r){return r.split("")},t.measureFont=function(r){if(t._fonts[r])return t._fonts[r];var e={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=r;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,u=Math.ceil(i.measureText(o).width),h=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),f=Math.ceil(t.HEIGHT_MULTIPLIER*h);h=h*t.BASELINE_MULTIPLIER|0,n.width=u,n.height=f,i.fillStyle="#f00",i.fillRect(0,0,u,f),i.font=r,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,h);var c=i.getImageData(0,0,u,f).data,d=c.length,p=u*4,v=0,g=0,m=!1;for(v=0;v<h;++v){for(var x=0;x<p;x+=4)if(c[g+x]!==255){m=!0;break}if(!m)g+=p;else break}for(e.ascent=h-v,g=d-p,m=!1,v=f;v>h;--v){for(var x=0;x<p;x+=4)if(c[g+x]!==255){m=!0;break}if(!m)g-=p;else break}return e.descent=v-h,e.fontSize=e.ascent+e.descent,t._fonts[r]=e,e},t.clearMetrics=function(r){r===void 0&&(r=""),r?delete t._fonts[r]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var r=void 0;try{var e=new OffscreenCanvas(0,0),n=e.getContext("2d");if(n&&n.measureText)return t.__canvas=e,e;r=K.ADAPTER.createCanvas()}catch{r=K.ADAPTER.createCanvas()}r.width=r.height=10,t.__canvas=r}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();ur._fonts={};ur.METRICS_STRING="|\xC9q\xC5";ur.BASELINE_SYMBOL="M";ur.BASELINE_MULTIPLIER=1.4;ur.HEIGHT_MULTIPLIER=2;ur._newlines=[10,13];ur._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var vA={texture:!0,children:!1,baseTexture:!0},x_=function(t){cA(r,t);function r(e,n,i){var o=this,u=!1;i||(i=K.ADAPTER.createCanvas(),u=!0),i.width=3,i.height=3;var h=pt.from(i);return h.orig=new Lt,h.trim=new Lt,o=t.call(this,h)||this,o._ownCanvas=u,o.canvas=i,o.context=i.getContext("2d"),o._resolution=K.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=e,o.style=n,o.localStyleID=-1,o}return r.prototype.updateText=function(e){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&e)){this._font=this._style.toFontString();var i=this.context,o=ur.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),u=o.width,h=o.height,f=o.lines,c=o.lineHeight,d=o.lineWidths,p=o.maxLineWidth,v=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,u)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var g,m,x=n.dropShadow?2:1,T=0;T<x;++T){var E=n.dropShadow&&T===0,U=E?Math.ceil(Math.max(1,h)+n.padding*2):0,P=U*this._resolution;if(E){i.fillStyle="black",i.strokeStyle="black";var N=n.dropShadowColor,A=Kn(typeof N=="number"?N:Wv(N)),C=n.dropShadowBlur*this._resolution,M=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+A[0]*255+","+A[1]*255+","+A[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=C,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*M,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*M+P}else i.fillStyle=this._generateFillStyle(n,f,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var V=(c-v.fontSize)/2;(!r.nextLineHeightBehavior||c-v.fontSize<0)&&(V=0);for(var G=0;G<f.length;G++)g=n.strokeThickness/2,m=n.strokeThickness/2+G*c+v.ascent+V,n.align==="right"?g+=p-d[G]:n.align==="center"&&(g+=(p-d[G])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(f[G],g+n.padding,m+n.padding-U,!0),n.fill&&this.drawLetterSpacing(f[G],g+n.padding,m+n.padding-U)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(e,n,i,o){o===void 0&&(o=!1);var u=this._style,h=u.letterSpacing,f=r.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(h===0||f){f&&(this.context.letterSpacing=h,this.context.textLetterSpacing=h),o?this.context.strokeText(e,n,i):this.context.fillText(e,n,i);return}for(var c=n,d=Array.from?Array.from(e):e.split(""),p=this.context.measureText(e).width,v=0,g=0;g<d.length;++g){var m=d[g];o?this.context.strokeText(m,c,i):this.context.fillText(m,c,i);for(var x="",T=g+1;T<d.length;++T)x+=d[T];v=this.context.measureText(x).width,c+=p-v+h,p=v}},r.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var n=fw(e);n.data&&(e.width=n.width,e.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,u=o.trim?0:o.padding,h=i.baseTexture;i.trim.width=i._frame.width=e.width/this._resolution,i.trim.height=i._frame.height=e.height/this._resolution,i.trim.x=-u,i.trim.y=-u,i.orig.width=i._frame.width-u*2,i.orig.height=i._frame.height-u*2,this._onTextureUpdate(),h.setRealSize(e.width,e.height,this._resolution),i.updateUvs(),this.dirty=!1},r.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},r.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},r.prototype.getBounds=function(e,n){return this.updateText(!0),this._textureID===-1&&(e=!1),t.prototype.getBounds.call(this,e,n)},r.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(e,n,i){var o=e.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var u,h=e.dropShadow?e.dropShadowDistance:0,f=e.padding||0,c=this.canvas.width/this._resolution-h-f*2,d=this.canvas.height/this._resolution-h-f*2,p=o.slice(),v=e.fillGradientStops.slice();if(!v.length)for(var g=p.length+1,m=1;m<g;++m)v.push(m/g);if(p.unshift(o[0]),v.unshift(0),p.push(o[o.length-1]),v.push(1),e.fillGradientType===Mi.LINEAR_VERTICAL){u=this.context.createLinearGradient(c/2,f,c/2,d+f);for(var x=i.fontProperties.fontSize+e.strokeThickness,m=0;m<n.length;m++){var T=i.lineHeight*(m-1)+x,E=i.lineHeight*m,U=E;m>0&&T>E&&(U=(E+T)/2);var P=E+x,N=i.lineHeight*(m+1),A=P;m+1<n.length&&N<P&&(A=(P+N)/2);for(var C=(A-U)/d,M=0;M<p.length;M++){var V=0;typeof v[M]=="number"?V=v[M]:V=M/p.length;var G=Math.min(1,Math.max(0,U/d+V*C));G=Number(G.toFixed(5)),u.addColorStop(G,p[M])}}}else{u=this.context.createLinearGradient(f,d/2,c+f,d/2);for(var D=p.length+1,$=1,m=0;m<p.length;m++){var Q=void 0;typeof v[m]=="number"?Q=v[m]:Q=$/D,u.addColorStop(Q,p[m]),$++}}return u},r.prototype.destroy=function(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},vA,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var n=zn(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var n=zn(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},e instanceof Jn?this._style=e:this._style=new Jn(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e==null?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),r.nextLineHeightBehavior=!1,r.experimentalLetterSpacing=!1,r}(Qn);/*!
 * @pixi/prepare - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uh=function(t,r){return uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},uh(t,r)};function _A(t,r){uh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var gA=function(){function t(r){this.maxItemsPerFrame=r,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function mA(t,r){var e=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof pt){var i=t._textures[n].baseTexture;r.indexOf(i)===-1&&(r.push(i),e=!0)}}return e}function yA(t,r){if(t.baseTexture instanceof Ot){var e=t.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function xA(t,r){if(t._texture&&t._texture instanceof pt){var e=t._texture.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function TA(t,r){return r instanceof x_?(r.updateText(!0),!0):!1}function bA(t,r){if(r instanceof Jn){var e=r.toFontString();return ur.measureFont(e),!0}return!1}function IA(t,r){if(t instanceof x_){r.indexOf(t.style)===-1&&r.push(t.style),r.indexOf(t)===-1&&r.push(t);var e=t._texture.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function EA(t,r){return t instanceof Jn?(r.indexOf(t)===-1&&r.push(t),!0):!1}var RA=function(){function t(r){var e=this;this.limiter=new gA(K.UPLOADS_PER_FRAME),this.renderer=r,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(IA),this.registerFindHook(EA),this.registerFindHook(mA),this.registerFindHook(yA),this.registerFindHook(xA),this.registerUploadHook(TA),this.registerUploadHook(bA)}return t.prototype.upload=function(r,e){var n=this;return typeof r=="function"&&(e=r,r=null),e&&or("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){r&&n.add(r);var o=function(){e==null||e(),i()};n.queue.length?(n.completes.push(o),n.ticking||(n.ticking=!0,ve.system.addOnce(n.tick,n,Ar.UTILITY))):o()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var r=this.queue[0],e=!1;if(r&&!r._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,r)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)ve.system.addOnce(this.tick,this,Ar.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},t.prototype.registerFindHook=function(r){return r&&this.addHooks.push(r),this},t.prototype.registerUploadHook=function(r){return r&&this.uploadHooks.push(r),this},t.prototype.add=function(r){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](r,this.queue);e++);if(r instanceof sr)for(var e=r.children.length-1;e>=0;e--)this.add(r.children[e]);return this},t.prototype.destroy=function(){this.ticking&&ve.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function T_(t,r){return r instanceof Ot?(r._glTextures[t.CONTEXT_UID]||t.texture.bind(r),!0):!1}function wA(t,r){if(!(r instanceof mo))return!1;var e=r.geometry;r.finishPoly(),e.updateBatches();for(var n=e.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&T_(t,o.baseTexture)}return e.batchable||t.geometry.bind(e,r._resolveDirectShader(t)),!0}function CA(t,r){return t instanceof mo?(r.push(t),!0):!1}var AA=function(t){_A(r,t);function r(e){var n=t.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(CA),n.registerUploadHook(T_),n.registerUploadHook(wA),n}return r.extension={name:"prepare",type:Dt.RendererPlugin},r}(RA);/*!
 * @pixi/spritesheet - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PA=function(){function t(r,e,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=r instanceof pt?r:null,this.baseTexture=r instanceof Ot?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(r){r===void 0&&(r=null);var e=this.data.meta.scale,n=lo(r,null);return n===null&&(n=e!==void 0?parseFloat(e):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(r){var e=this;return r&&or("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){e._callback=function(i){r==null||r(i),n(i)},e._batchIndex=0,e._frameKeys.length<=t.BATCH_SIZE?(e._processFrames(0),e._processAnimations(),e._parseComplete()):e._nextBatch()})},t.prototype._processFrames=function(r){for(var e=r,n=t.BATCH_SIZE;e-r<n&&e<this._frameKeys.length;){var i=this._frameKeys[e],o=this._frames[i],u=o.frame;if(u){var h=null,f=null,c=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,d=new Lt(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);o.rotated?h=new Lt(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):h=new Lt(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(f=new Lt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[i]=new pt(this.baseTexture,h,d,f,o.rotated?2:0,o.anchor),pt.addToCache(this.textures[i],i)}e++}},t.prototype._processAnimations=function(){var r=this.data.animations||{};for(var e in r){this.animations[e]=[];for(var n=0;n<r[e].length;n++){var i=r[e][n];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var r=this._callback;this._callback=null,this._batchIndex=0,r.call(this,this.textures)},t.prototype._nextBatch=function(){var r=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){r._batchIndex*t.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())},0)},t.prototype.destroy=function(r){var e;r===void 0&&(r=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,r&&((e=this._texture)===null||e===void 0||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),NA=function(){function t(){}return t.use=function(r,e){var n,i,o=this,u=r.name+"_image";if(!r.data||r.type!==Jt.TYPE.JSON||!r.data.frames||o.resources[u]){e();return}var h=(i=(n=r.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(h))for(var f=function(m){if(typeof m!="string")return"continue";var x=m.replace(".json",""),T=Wn.resolve(r.url.replace(o.baseUrl,""),m);if(o.resources[x]||Object.values(o.resources).some(function(U){return Wn.format(Wn.parse(U.url))===T}))return"continue";var E={crossOrigin:r.crossOrigin,loadType:Jt.LOAD_TYPE.XHR,xhrType:Jt.XHR_RESPONSE_TYPE.JSON,parentResource:r,metadata:r.metadata};o.add(x,T,E)},c=0,d=h;c<d.length;c++){var p=d[c];f(p)}var v={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},g=t.getResourcePath(r,o.baseUrl);o.add(u,g,v,function(x){if(x.error){e(x.error);return}var T=new PA(x.texture,r.data,r.url);T.parse().then(function(){r.spritesheet=T,r.textures=T.textures,e()})})},t.getResourcePath=function(r,e){return r.isDataUrl?r.data.meta.image:Wn.resolve(r.url.replace(e,""),r.data.meta.image)},t.extension=Dt.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hh=function(t,r){return hh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},hh(t,r)};function b_(t,r){hh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ri=new jt;(function(t){b_(r,t);function r(e,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=t.call(this,e)||this;return o.tileTransform=new Zv,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new Nh(e),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(r.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),r.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},r.prototype._render=function(e){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},r.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,i,o)},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Lt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ri);var n=this._width,i=this._height,o=-n*this.anchor._x;if(Ri.x>=o&&Ri.x<o+n){var u=-i*this.anchor._y;if(Ri.y>=u&&Ri.y<u+i)return!0}return!1},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},r.from=function(e,n){var i=e instanceof pt?e:pt.from(e,n);return new r(i,n.width,n.height)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),r})(Qn);var UA=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,qd=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,OA=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,LA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,SA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,no=new he,FA=function(t){b_(r,t);function r(e){var n=t.call(this,e)||this;return e.runners.contextChange.add(n),n.quad=new n_,n.state=yn.for2d(),n}return r.prototype.contextChange=function(){var e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=jr.from(qd,UA,n),this.shader=e.context.webGLVersion>1?jr.from(LA,SA,n):jr.from(qd,OA,n)},r.prototype.render=function(e){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=e._width*-e.anchor.x,o[1]=o[3]=e._height*-e.anchor.y,o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y);var u=e.uvRespectAnchor?e.anchor.x:0,h=e.uvRespectAnchor?e.anchor.y:0;o=i.uvs,o[0]=o[6]=-u,o[1]=o[3]=-h,o[2]=o[4]=1-u,o[5]=o[7]=1-h,i.invalidate();var f=e._texture,c=f.baseTexture,d=c.alphaMode>0,p=e.tileTransform.localTransform,v=e.uvMatrix,g=c.isPowerOfTwo&&f.frame.width===c.width&&f.frame.height===c.height;g&&(c._glTextures[n.CONTEXT_UID]?g=c.wrapMode!==Rr.CLAMP:c.wrapMode===Rr.CLAMP&&(c.wrapMode=Rr.REPEAT));var m=g?this.simpleShader:this.shader,x=f.width,T=f.height,E=e._width,U=e._height;no.set(p.a*x/E,p.b*x/U,p.c*T/E,p.d*T/U,p.tx/E,p.ty/U),no.invert(),g?no.prepend(v.mapCoord):(m.uniforms.uMapCoord=v.mapCoord.toArray(!0),m.uniforms.uClampFrame=v.uClampFrame,m.uniforms.uClampOffset=v.uClampOffset),m.uniforms.uTransform=no.toArray(!0),m.uniforms.uColor=$v(e.tint,e.worldAlpha,m.uniforms.uColor,d),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=f,n.shader.bind(m),n.geometry.bind(i),this.state.blendMode=jv(e.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r.extension={name:"tilingSprite",type:Dt.RendererPlugin},r}(Ro);/*!
 * @pixi/mesh - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fh=function(t,r){return fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},fh(t,r)};function Oh(t,r){fh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var GA=function(){function t(r,e){this.uvBuffer=r,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(r){if(!(!r&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Iu=new jt,Yd=new oo,Hi=function(t){Oh(r,t);function r(e,n,i,o){o===void 0&&(o=Ze.TRIANGLES);var u=t.call(this)||this;return u.geometry=e,u.shader=n,u.state=i||yn.for2d(),u.drawMode=o,u.start=0,u.size=0,u.uvs=null,u.indices=null,u.vertexData=new Float32Array(1),u.vertexDirty=-1,u._transformID=-1,u._roundPixels=K.ROUND_PIXELS,u.batchUvs=null,u}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ze.TRIANGLES&&n.length<r.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)},r.prototype._renderDefault=function(e){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),e.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(n),e.state.set(this.state),e.geometry.bind(this.geometry,n),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(e){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},r.prototype.calculateVertices=function(){var e=this.geometry,n=e.buffers[0],i=n.data,o=n._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var u=this.transform.worldTransform,h=u.a,f=u.b,c=u.c,d=u.d,p=u.tx,v=u.ty,g=this.vertexData,m=0;m<g.length/2;m++){var x=i[m*2],T=i[m*2+1];g[m*2]=h*x+c*T+p,g[m*2+1]=f*x+d*T+v}if(this._roundPixels)for(var E=K.RESOLUTION,m=0;m<g.length;++m)g[m]=Math.round((g[m]*E|0)/E);this.vertexDirty=o}},r.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new GA(e,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Iu);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=Yd.points,o=this.geometry.getIndex().data,u=o.length,h=this.drawMode===4?3:1,f=0;f+2<u;f+=h){var c=o[f]*2,d=o[f+1]*2,p=o[f+2]*2;if(i[0]=n[c],i[1]=n[c+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[p],i[5]=n[p+1],Yd.contains(Iu.x,Iu.y))return!0}return!1},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(sr),BA=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,MA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,ki=function(t){Oh(r,t);function r(e,n){var i=this,o={uSampler:e,alpha:1,uTextureMatrix:he.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=t.call(this,n.program||zi.from(MA,BA),o)||this,i._colorDirty=!1,i.uvMatrix=new Nh(e),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(r.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),r.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;$v(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},r}(jr),wo=function(t){Oh(r,t);function r(e,n,i){var o=t.call(this)||this,u=new ue(e),h=new ue(n,!0),f=new ue(i,!0,!0);return o.addAttribute("aVertexPosition",u,2,!1,nt.FLOAT).addAttribute("aTextureCoord",h,2,!1,nt.FLOAT).addIndex(f),o._updateId=-1,o}return Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(Wi);/*!
 * @pixi/text-bitmap - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lh=function(t,r){return lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},lh(t,r)};function HA(t,r){lh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var yo=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),kA=function(){function t(){}return t.test=function(r){return typeof r=="string"&&r.indexOf("info face=")===0},t.parse=function(r){var e=r.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in e){var o=e[i].match(/^[a-z]+/gm)[0],u=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(var f in u){var c=u[f].split("="),d=c[0],p=c[1].replace(/"/gm,""),v=parseFloat(p),g=isNaN(v)?p:v;h[d]=g}n[o].push(h)}var m=new yo;return n.info.forEach(function(x){return m.info.push({face:x.face,size:parseInt(x.size,10)})}),n.common.forEach(function(x){return m.common.push({lineHeight:parseInt(x.lineHeight,10)})}),n.page.forEach(function(x){return m.page.push({id:parseInt(x.id,10),file:x.file})}),n.char.forEach(function(x){return m.char.push({id:parseInt(x.id,10),page:parseInt(x.page,10),x:parseInt(x.x,10),y:parseInt(x.y,10),width:parseInt(x.width,10),height:parseInt(x.height,10),xoffset:parseInt(x.xoffset,10),yoffset:parseInt(x.yoffset,10),xadvance:parseInt(x.xadvance,10)})}),n.kerning.forEach(function(x){return m.kerning.push({first:parseInt(x.first,10),second:parseInt(x.second,10),amount:parseInt(x.amount,10)})}),n.distanceField.forEach(function(x){return m.distanceField.push({distanceRange:parseInt(x.distanceRange,10),fieldType:x.fieldType})}),m},t}(),ch=function(){function t(){}return t.test=function(r){return r instanceof XMLDocument&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(r){for(var e=new yo,n=r.getElementsByTagName("info"),i=r.getElementsByTagName("common"),o=r.getElementsByTagName("page"),u=r.getElementsByTagName("char"),h=r.getElementsByTagName("kerning"),f=r.getElementsByTagName("distanceField"),c=0;c<n.length;c++)e.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(var c=0;c<i.length;c++)e.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(var c=0;c<o.length;c++)e.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(var c=0;c<u.length;c++){var d=u[c];e.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var c=0;c<h.length;c++)e.kerning.push({first:parseInt(h[c].getAttribute("first"),10),second:parseInt(h[c].getAttribute("second"),10),amount:parseInt(h[c].getAttribute("amount"),10)});for(var c=0;c<f.length;c++)e.distanceField.push({fieldType:f[c].getAttribute("fieldType"),distanceRange:parseInt(f[c].getAttribute("distanceRange"),10)});return e},t}(),DA=function(){function t(){}return t.test=function(r){if(typeof r=="string"&&r.indexOf("<font>")>-1){var e=new globalThis.DOMParser().parseFromString(r,"text/xml");return ch.test(e)}return!1},t.parse=function(r){var e=new globalThis.DOMParser().parseFromString(r,"text/xml");return ch.parse(e)},t}(),Eu=[kA,ch,DA];function I_(t){for(var r=0;r<Eu.length;r++)if(Eu[r].test(t))return Eu[r];return null}function XA(t,r,e,n,i,o){var u=e.fill;if(Array.isArray(u)){if(u.length===1)return u[0]}else return u;var h,f=e.dropShadow?e.dropShadowDistance:0,c=e.padding||0,d=t.width/n-f-c*2,p=t.height/n-f-c*2,v=u.slice(),g=e.fillGradientStops.slice();if(!g.length)for(var m=v.length+1,x=1;x<m;++x)g.push(x/m);if(v.unshift(u[0]),g.unshift(0),v.push(u[u.length-1]),g.push(1),e.fillGradientType===Mi.LINEAR_VERTICAL){h=r.createLinearGradient(d/2,c,d/2,p+c);for(var T=0,E=o.fontProperties.fontSize+e.strokeThickness,U=E/p,x=0;x<i.length;x++)for(var P=o.lineHeight*x,N=0;N<v.length;N++){var A=0;typeof g[N]=="number"?A=g[N]:A=N/v.length;var C=P/p+A*U,M=Math.max(T,C);M=Math.min(M,1),h.addColorStop(M,v[N]),T=M}}else{h=r.createLinearGradient(c,p/2,d+c,p/2);for(var V=v.length+1,G=1,x=0;x<v.length;x++){var D=void 0;typeof g[x]=="number"?D=g[x]:D=G/V,h.addColorStop(D,v[x]),G++}}return h}function VA(t,r,e,n,i,o,u){var h=e.text,f=e.fontProperties;r.translate(n,i),r.scale(o,o);var c=u.strokeThickness/2,d=-(u.strokeThickness/2);if(r.font=u.toFontString(),r.lineWidth=u.strokeThickness,r.textBaseline=u.textBaseline,r.lineJoin=u.lineJoin,r.miterLimit=u.miterLimit,r.fillStyle=XA(t,r,u,o,[h],e),r.strokeStyle=u.stroke,u.dropShadow){var p=u.dropShadowColor,v=Kn(typeof p=="number"?p:Wv(p)),g=u.dropShadowBlur*o,m=u.dropShadowDistance*o;r.shadowColor="rgba("+v[0]*255+","+v[1]*255+","+v[2]*255+","+u.dropShadowAlpha+")",r.shadowBlur=g,r.shadowOffsetX=Math.cos(u.dropShadowAngle)*m,r.shadowOffsetY=Math.sin(u.dropShadowAngle)*m}else r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;u.stroke&&u.strokeThickness&&r.strokeText(h,c,d+e.lineHeight-f.descent),u.fill&&r.fillText(h,c,d+e.lineHeight-f.descent),r.setTransform(1,0,0,1,0,0),r.fillStyle="rgba(0, 0, 0, 0)"}function E_(t){return Array.from?Array.from(t):t.split("")}function WA(t){typeof t=="string"&&(t=[t]);for(var r=[],e=0,n=t.length;e<n;e++){var i=t[e];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),u=i[1].charCodeAt(0);if(u<o)throw new Error("[BitmapFont]: Invalid character range.");for(var h=o,f=u;h<=f;h++)r.push(String.fromCharCode(h))}else r.push.apply(r,E_(i))}if(r.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return r}function so(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var Xn=function(){function t(r,e,n){var i,o,u=r.info[0],h=r.common[0],f=r.page[0],c=r.distanceField[0],d=lo(f.file),p={};this._ownsTextures=n,this.font=u.face,this.size=u.size,this.lineHeight=h.lineHeight/d,this.chars={},this.pageTextures=p;for(var v=0;v<r.page.length;v++){var g=r.page[v],m=g.id,x=g.file;p[m]=e instanceof Array?e[v]:e[x],(c==null?void 0:c.fieldType)&&c.fieldType!=="none"&&(p[m].baseTexture.alphaMode=Je.NO_PREMULTIPLIED_ALPHA)}for(var v=0;v<r.char.length;v++){var T=r.char[v],m=T.id,E=T.page,U=r.char[v],P=U.x,N=U.y,A=U.width,C=U.height,M=U.xoffset,V=U.yoffset,G=U.xadvance;P/=d,N/=d,A/=d,C/=d,M/=d,V/=d,G/=d;var D=new Lt(P+p[E].frame.x/d,N+p[E].frame.y/d,A,C);this.chars[m]={xOffset:M,yOffset:V,xAdvance:G,kerning:{},texture:new pt(p[E].baseTexture,D),page:E}}for(var v=0;v<r.kerning.length;v++){var $=r.kerning[v],Q=$.first,rt=$.second,mt=$.amount;Q/=d,rt/=d,mt/=d,this.chars[rt]&&(this.chars[rt].kerning[Q]=mt)}this.distanceFieldRange=c==null?void 0:c.distanceRange,this.distanceFieldType=(o=(i=c==null?void 0:c.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return t.prototype.destroy=function(){for(var r in this.chars)this.chars[r].texture.destroy(),this.chars[r].texture=null;for(var r in this.pageTextures)this._ownsTextures&&this.pageTextures[r].destroy(!0),this.pageTextures[r]=null;this.chars=null,this.pageTextures=null},t.install=function(r,e,n){var i;if(r instanceof yo)i=r;else{var o=I_(r);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(r)}e instanceof pt&&(e=[e]);var u=new t(i,e,n);return t.available[u.font]=u,u},t.uninstall=function(r){var e=t.available[r];if(!e)throw new Error("No font found named '"+r+"'");e.destroy(),delete t.available[r]},t.from=function(r,e,n){if(!r)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),o=i.chars,u=i.padding,h=i.resolution,f=i.textureWidth,c=i.textureHeight,d=WA(o),p=e instanceof Jn?e:new Jn(e),v=f,g=new yo;g.info[0]={face:p.fontFamily,size:p.fontSize},g.common[0]={lineHeight:p.fontSize};for(var m=0,x=0,T,E,U,P=0,N=[],A=0;A<d.length;A++){T||(T=K.ADAPTER.createCanvas(),T.width=f,T.height=c,E=T.getContext("2d"),U=new Ot(T,{resolution:h}),N.push(new pt(U)),g.page.push({id:N.length-1,file:""}));var C=ur.measureText(d[A],p,!1,T),M=C.width,V=Math.ceil(C.height),G=Math.ceil((p.fontStyle==="italic"?2:1)*M);if(x>=c-V*h){if(x===0)throw new Error("[BitmapFont] textureHeight "+c+"px is "+("too small for "+p.fontSize+"px fonts"));--A,T=null,E=null,U=null,x=0,m=0,P=0;continue}if(P=Math.max(V+C.fontProperties.descent,P),G*h+m>=v){--A,x+=P*h,x=Math.ceil(x),m=0,P=0;continue}VA(T,E,C,m,x,h,p);var D=so(C.text);g.char.push({id:D,page:N.length-1,x:m/h,y:x/h,width:G,height:V,xoffset:0,yoffset:0,xadvance:Math.ceil(M-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),m+=(G+2*u)*h,m=Math.ceil(m)}for(var A=0,$=d.length;A<$;A++)for(var Q=d[A],rt=0;rt<$;rt++){var mt=d[rt],Y=E.measureText(Q).width,Z=E.measureText(mt).width,ct=E.measureText(Q+mt).width,Gt=ct-(Y+Z);Gt&&g.kerning.push({first:so(Q),second:so(mt),amount:Gt})}var Nt=new t(g,N,!0);return t.available[r]!==void 0&&t.uninstall(r),t.available[r]=Nt,Nt},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),zA=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,jA=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,$A=[],qA=[],Zd=[];(function(t){HA(r,t);function r(e,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var o=Object.assign({},r.styleDefaults,n),u=o.align,h=o.tint,f=o.maxWidth,c=o.letterSpacing,d=o.fontName,p=o.fontSize;if(!Xn.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=u,i._tint=h,i._fontName=d,i._fontSize=p||Xn.available[d].size,i.text=e,i._maxWidth=f,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new jn(function(){i.dirty=!0},i,0,0),i._roundPixels=K.ROUND_PIXELS,i.dirty=!0,i._resolution=K.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return r.prototype.updateText=function(){for(var e,n=Xn.available[this._fontName],i=this._fontSize/n.size,o=new jt,u=[],h=[],f=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=E_(c),p=this._maxWidth*n.size/this._fontSize,v=n.distanceFieldType==="none"?$A:qA,g=null,m=0,x=0,T=0,E=-1,U=0,P=0,N=0,A=0,C=0;C<d.length;C++){var M=d[C],V=so(M);if(/(?:\s)/.test(M)&&(E=C,U=m,A++),M==="\r"||M===`
`){h.push(m),f.push(-1),x=Math.max(x,m),++T,++P,o.x=0,o.y+=n.lineHeight,g=null,A=0;continue}var G=n.chars[V];if(!!G){g&&G.kerning[g]&&(o.x+=G.kerning[g]);var D=Zd.pop()||{texture:pt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new jt};D.texture=G.texture,D.line=T,D.charCode=V,D.position.x=o.x+G.xOffset+this._letterSpacing/2,D.position.y=o.y+G.yOffset,D.prevSpaces=A,u.push(D),m=D.position.x+Math.max(G.xAdvance-G.xOffset,G.texture.orig.width),o.x+=G.xAdvance+this._letterSpacing,N=Math.max(N,G.yOffset+G.texture.height),g=V,E!==-1&&p>0&&o.x>p&&(++P,Yn(u,1+E-P,1+C-E),C=E,E=-1,h.push(U),f.push(u.length>0?u[u.length-1].prevSpaces:0),x=Math.max(x,U),T++,o.x=0,o.y+=n.lineHeight,g=null,A=0)}}var $=d[d.length-1];$!=="\r"&&$!==`
`&&(/(?:\s)/.test($)&&(m=U),h.push(m),x=Math.max(x,m),f.push(-1));for(var Q=[],C=0;C<=T;C++){var rt=0;this._align==="right"?rt=x-h[C]:this._align==="center"?rt=(x-h[C])/2:this._align==="justify"&&(rt=f[C]<0?0:(x-h[C])/f[C]),Q.push(rt)}for(var mt=u.length,Y={},Z=[],ct=this._activePagesMeshData,C=0;C<ct.length;C++)v.push(ct[C]);for(var C=0;C<mt;C++){var Gt=u[C].texture,Nt=Gt.baseTexture.uid;if(!Y[Nt]){var S=v.pop();if(!S){var X=new wo,q=void 0,et=void 0;n.distanceFieldType==="none"?(q=new ki(pt.EMPTY),et=at.NORMAL):(q=new ki(pt.EMPTY,{program:zi.from(jA,zA),uniforms:{uFWidth:0}}),et=at.NORMAL_NPM);var ot=new Hi(X,q);ot.blendMode=et,S={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:ot,vertices:null,uvs:null,indices:null}}S.index=0,S.indexCount=0,S.vertexCount=0,S.uvsCount=0,S.total=0;var dt=this._textureCache;dt[Nt]=dt[Nt]||new pt(Gt.baseTexture),S.mesh.texture=dt[Nt],S.mesh.tint=this._tint,Z.push(S),Y[Nt]=S}Y[Nt].total++}for(var C=0;C<ct.length;C++)Z.indexOf(ct[C])===-1&&this.removeChild(ct[C].mesh);for(var C=0;C<Z.length;C++)Z[C].mesh.parent!==this&&this.addChild(Z[C].mesh);this._activePagesMeshData=Z;for(var C in Y){var S=Y[C],st=S.total;if(!(((e=S.indices)===null||e===void 0?void 0:e.length)>6*st)||S.vertices.length<Hi.BATCHABLE_SIZE*2)S.vertices=new Float32Array(4*2*st),S.uvs=new Float32Array(4*2*st),S.indices=new Uint16Array(6*st);else for(var Ct=S.total,At=S.vertices,It=Ct*4*2;It<At.length;It++)At[It]=0;S.mesh.size=6*st}for(var C=0;C<mt;C++){var M=u[C],St=M.position.x+Q[M.line]*(this._align==="justify"?M.prevSpaces:1);this._roundPixels&&(St=Math.round(St));var ut=St*i,_t=M.position.y*i,Gt=M.texture,it=Y[Gt.baseTexture.uid],Rt=Gt.frame,Ft=Gt._uvs,xt=it.index++;it.indices[xt*6+0]=0+xt*4,it.indices[xt*6+1]=1+xt*4,it.indices[xt*6+2]=2+xt*4,it.indices[xt*6+3]=0+xt*4,it.indices[xt*6+4]=2+xt*4,it.indices[xt*6+5]=3+xt*4,it.vertices[xt*8+0]=ut,it.vertices[xt*8+1]=_t,it.vertices[xt*8+2]=ut+Rt.width*i,it.vertices[xt*8+3]=_t,it.vertices[xt*8+4]=ut+Rt.width*i,it.vertices[xt*8+5]=_t+Rt.height*i,it.vertices[xt*8+6]=ut,it.vertices[xt*8+7]=_t+Rt.height*i,it.uvs[xt*8+0]=Ft.x0,it.uvs[xt*8+1]=Ft.y0,it.uvs[xt*8+2]=Ft.x1,it.uvs[xt*8+3]=Ft.y1,it.uvs[xt*8+4]=Ft.x2,it.uvs[xt*8+5]=Ft.y2,it.uvs[xt*8+6]=Ft.x3,it.uvs[xt*8+7]=Ft.y3}this._textWidth=x*i,this._textHeight=(o.y+n.lineHeight)*i;for(var C in Y){var S=Y[C];if(this.anchor.x!==0||this.anchor.y!==0)for(var ne=0,hr=this._textWidth*this.anchor.x,Tn=this._textHeight*this.anchor.y,Nr=0;Nr<S.total;Nr++)S.vertices[ne++]-=hr,S.vertices[ne++]-=Tn,S.vertices[ne++]-=hr,S.vertices[ne++]-=Tn,S.vertices[ne++]-=hr,S.vertices[ne++]-=Tn,S.vertices[ne++]-=hr,S.vertices[ne++]-=Tn;this._maxLineHeight=N*i;var Ie=S.mesh.geometry.getBuffer("aVertexPosition"),Ur=S.mesh.geometry.getBuffer("aTextureCoord"),Yr=S.mesh.geometry.getIndex();Ie.data=S.vertices,Ur.data=S.uvs,Yr.data=S.indices,Ie.update(),Ur.update(),Yr.update()}for(var C=0;C<u.length;C++)Zd.push(u[C])},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var n=Xn.available[this._fontName],i=n.distanceFieldRange,o=n.distanceFieldType,u=n.size;if(o!=="none")for(var h=this.worldTransform,f=h.a,c=h.b,d=h.c,p=h.d,v=Math.sqrt(f*f+c*c),g=Math.sqrt(d*d+p*p),m=(Math.abs(v)+Math.abs(g))/2,x=this._fontSize/u,T=0,E=this._activePagesMeshData;T<E.length;T++){var U=E[T];U.mesh.shader.uniforms.uFWidth=m*i*x*this._resolution}t.prototype._render.call(this,e)},r.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Xn.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e==null?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),r.prototype.destroy=function(e){var n=this._textureCache;for(var i in n){var o=n[i];o.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,e)},r.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},r})(sr);var YA=function(){function t(){}return t.add=function(){Jt.setExtensionXhrType("fnt",Jt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,e){var n=I_(r.data);if(!n){e();return}for(var i=t.getBaseUrl(this,r),o=n.parse(r.data),u={},h=function(x){u[x.metadata.pageFile]=x.texture,Object.keys(u).length===o.page.length&&(r.bitmapFont=Xn.install(o,u,!0),e())},f=0;f<o.page.length;++f){var c=o.page[f].file,d=i+c,p=!1;for(var v in this.resources){var g=this.resources[v];if(g.url===d){g.metadata.pageFile=c,g.texture?h(g):g.onAfterMiddleware.add(h),p=!0;break}}if(!p){var m={crossOrigin:r.crossOrigin,loadType:Jt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},r.metadata.imageMetadata),parentResource:r};this.add(d,m,h)}}},t.getBaseUrl=function(r,e){var n=e.isDataUrl?"":t.dirname(e.url);return e.isDataUrl&&(n==="."&&(n=""),r.baseUrl&&n&&r.baseUrl.charAt(r.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(r.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(r){var e=r.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===r?".":e===""?"/":e},t.extension=Dt.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dh=function(t,r){return dh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},dh(t,r)};function ZA(t,r){dh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var KA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(t){ZA(r,t);function r(e){e===void 0&&(e=1);var n=t.call(this,W2,KA,{uAlpha:1})||this;return n.alpha=e,n}return Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r})(qr);/*!
 * @pixi/filter-blur - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ph=function(t,r){return ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},ph(t,r)};function R_(t,r){ph(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var JA=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function QA(t,r){var e=Math.ceil(t/2),n=JA,i="",o;r?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var u=0;u<t;u++){var h=o.replace("%index%",u.toString());h=h.replace("%sampleIndex%",u-(e-1)+".0"),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var tP={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},eP=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function rP(t){for(var r=tP[t],e=r.length,n=eP,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u,h=0;h<t;h++){var f=o.replace("%index%",h.toString());u=h,h>=e&&(u=t-h-1),f=f.replace("%value%",r[u].toString()),i+=f,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Kd;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Kd||(Kd={}));var Jd;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Jd||(Jd={}));var Qd;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Qd||(Qd={}));var tp;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(tp||(tp={}));var ep;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ep||(ep={}));var rp;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(rp||(rp={}));var np;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(np||(np={}));var ip;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(ip||(ip={}));var ap;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(ap||(ap={}));var op;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(op||(op={}));var sp;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(sp||(sp={}));var up;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(up||(up={}));var hp;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(hp||(hp={}));var Di;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Di||(Di={}));var fp;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(fp||(fp={}));var lp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(lp||(lp={}));var cp;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(cp||(cp={}));var dp;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(dp||(dp={}));var pp;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(pp||(pp={}));var vp;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(vp||(vp={}));var _p=function(t){R_(r,t);function r(e,n,i,o,u){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=K.FILTER_RESOLUTION),u===void 0&&(u=5);var h=this,f=QA(u,e),c=rP(u);return h=t.call(this,f,c)||this,h.horizontal=e,h.resolution=o,h._quality=0,h.quality=i,h.blur=n,h}return r.prototype.apply=function(e,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,i,o);else{var u=e.getFilterTexture(),h=e.renderer,f=n,c=u;this.state.blend=!1,e.applyFilter(this,f,c,Di.CLEAR);for(var d=1;d<this.passes-1;d++){e.bindAndClear(f,Di.BLIT),this.uniforms.uSampler=c;var p=c;c=f,f=p,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,i,o),e.returnFilterTexture(u)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+Math.abs(e)*2,this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),r}(qr);(function(t){R_(r,t);function r(e,n,i,o){e===void 0&&(e=8),n===void 0&&(n=4),i===void 0&&(i=K.FILTER_RESOLUTION),o===void 0&&(o=5);var u=t.call(this)||this;return u.blurXFilter=new _p(!0,e,n,i,o),u.blurYFilter=new _p(!1,e,n,i,o),u.resolution=i,u.quality=n,u.blur=e,u.repeatEdgePixels=!1,u}return r.prototype.apply=function(e,n,i,o){var u=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(u&&h){var f=e.getFilterTexture();this.blurXFilter.apply(e,n,f,Di.CLEAR),this.blurYFilter.apply(e,f,i,o),e.returnFilterTexture(f)}else h?this.blurYFilter.apply(e,n,i,o):this.blurXFilter.apply(e,n,i,o)},r.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),r})(qr);/*!
 * @pixi/filter-color-matrix - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vh=function(t,r){return vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},vh(t,r)};function nP(t,r){vh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var iP=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,gp=function(t){nP(r,t);function r(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return e=t.call(this,l_,iP,n)||this,e.alpha=1,e}return r.prototype._loadMatrix=function(e,n){n===void 0&&(n=!1);var i=e;n&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i},r.prototype._multiply=function(e,n,i){return e[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],e[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],e[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],e[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],e[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],e[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],e[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],e[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],e[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],e[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],e[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],e[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],e[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],e[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],e[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],e[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],e[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],e[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],e[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],e[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],e},r.prototype._colorMatrix=function(e){var n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},r.prototype.brightness=function(e,n){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)},r.prototype.tint=function(e,n){var i=e>>16&255,o=e>>8&255,u=e&255,h=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,u/255,0,0,0,0,0,1,0];this._loadMatrix(h,n)},r.prototype.greyscale=function(e,n){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)},r.prototype.blackAndWhite=function(e){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.hue=function(e,n){e=(e||0)/180*Math.PI;var i=Math.cos(e),o=Math.sin(e),u=Math.sqrt,h=1/3,f=u(h),c=i+(1-i)*h,d=h*(1-i)-f*o,p=h*(1-i)+f*o,v=h*(1-i)+f*o,g=i+h*(1-i),m=h*(1-i)-f*o,x=h*(1-i)-f*o,T=h*(1-i)+f*o,E=i+h*(1-i),U=[c,d,p,0,0,v,g,m,0,0,x,T,E,0,0,0,0,0,1,0];this._loadMatrix(U,n)},r.prototype.contrast=function(e,n){var i=(e||0)+1,o=-.5*(i-1),u=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(u,n)},r.prototype.saturate=function(e,n){e===void 0&&(e=0);var i=e*2/3+1,o=(i-1)*-.5,u=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(u,n)},r.prototype.desaturate=function(){this.saturate(-1)},r.prototype.negative=function(e){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.sepia=function(e){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.technicolor=function(e){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.polaroid=function(e){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.toBGR=function(e){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.kodachrome=function(e){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.browni=function(e){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.vintage=function(e){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.colorTone=function(e,n,i,o,u){e=e||.2,n=n||.15,i=i||16770432,o=o||3375104;var h=(i>>16&255)/255,f=(i>>8&255)/255,c=(i&255)/255,d=(o>>16&255)/255,p=(o>>8&255)/255,v=(o&255)/255,g=[.3,.59,.11,0,0,h,f,c,e,0,d,p,v,n,0,h-d,f-p,c-v,0,0];this._loadMatrix(g,u)},r.prototype.night=function(e,n){e=e||.1;var i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},r.prototype.predator=function(e,n){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,n)},r.prototype.lsd=function(e){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperty(r.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r}(qr);gp.prototype.grayscale=gp.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _h=function(t,r){return _h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},_h(t,r)};function aP(t,r){_h(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var oP=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,sP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(t){aP(r,t);function r(e,n){var i=this,o=new he;return e.renderable=!1,i=t.call(this,sP,oP,{mapSampler:e._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=e,i.maskMatrix=o,n==null&&(n=20),i.scale=new jt(n,n),i}return r.prototype.apply=function(e,n,i,o){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var u=this.maskSprite.worldTransform,h=Math.sqrt(u.a*u.a+u.b*u.b),f=Math.sqrt(u.c*u.c+u.d*u.d);h!==0&&f!==0&&(this.uniforms.rotation[0]=u.a/h,this.uniforms.rotation[1]=u.b/h,this.uniforms.rotation[2]=u.c/f,this.uniforms.rotation[3]=u.d/f),e.applyFilter(this,n,i,o)},Object.defineProperty(r.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),r})(qr);/*!
 * @pixi/filter-fxaa - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gh=function(t,r){return gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},gh(t,r)};function uP(t,r){gh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var hP=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,fP=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(t){uP(r,t);function r(){return t.call(this,hP,fP)||this}return r})(qr);/*!
 * @pixi/filter-noise - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mh=function(t,r){return mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},mh(t,r)};function lP(t,r){mh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var cP=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(t){lP(r,t);function r(e,n){e===void 0&&(e=.5),n===void 0&&(n=Math.random());var i=t.call(this,l_,cP,{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=n,i}return Object.defineProperty(r.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),r})(qr);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mp;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(mp||(mp={}));var yp;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(yp||(yp={}));var xp;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(xp||(xp={}));var Tp;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Tp||(Tp={}));var bp;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(bp||(bp={}));var Ip;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ip||(Ip={}));var Ep;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Ep||(Ep={}));var Rp;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Rp||(Rp={}));var wp;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(wp||(wp={}));var Cp;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Cp||(Cp={}));var Ap;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ap||(Ap={}));var Pp;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Pp||(Pp={}));var Np;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Np||(Np={}));var Up;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Up||(Up={}));var Op;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Op||(Op={}));var Lp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Lp||(Lp={}));var Sp;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Sp||(Sp={}));var Fp;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(Fp||(Fp={}));var yh;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(yh||(yh={}));var Gp;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Gp||(Gp={}));var w_=new he;re.prototype._cacheAsBitmap=!1;re.prototype._cacheData=null;re.prototype._cacheAsBitmapResolution=null;re.prototype._cacheAsBitmapMultisample=yh.NONE;var dP=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(re.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var r;t?(this._cacheData||(this._cacheData=new dP),r=this._cacheData,r.originalRender=this.render,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(r=this._cacheData,r.sprite&&this._destroyCachedDisplayObject(),this.render=r.originalRender,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea)}}}});re.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};re.prototype._initCachedDisplayObject=function(r){var e;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,r.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(K.RESOLUTION);var u=r.renderTexture.current,h=r.renderTexture.sourceFrame.clone(),f=r.renderTexture.destinationFrame.clone(),c=r.projection.transform,d=mn.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||r.resolution,multisample:(e=this.cacheAsBitmapMultisample)!==null&&e!==void 0?e:r.multisample}),p="cacheAsBitmap_"+gn();this._cacheData.textureCacheId=p,Ot.addToCache(d.baseTexture,p),pt.addToCache(d,p);var v=this.transform.localTransform.copyTo(w_).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:d,clear:!0,transform:v,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=c,r.renderTexture.bind(u,h,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var g=new Qn(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(i.x/i.width),g.anchor.y=-(i.y/i.height),g.alpha=n,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}};re.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};re.prototype._initCachedDisplayObjectCanvas=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=r.context,o=r._projTransform;e.ceil(K.RESOLUTION);var u=mn.create({width:e.width,height:e.height}),h="cacheAsBitmap_"+gn();this._cacheData.textureCacheId=h,Ot.addToCache(u.baseTexture,h),pt.addToCache(u,h);var f=w_;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=e.x,f.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:u,clear:!0,transform:f,skipUpdateTransform:!1}),r.context=i,r._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var c=new Qn(u);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}};re.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};re.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};re.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ot.removeFromCache(this._cacheData.textureCacheId),pt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};re.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */re.prototype.name=null;sr.prototype.getChildByName=function(r,e){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===r)return this.children[n];if(e)for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n];if(!!o.getChildByName){var u=o.getChildByName(r,!0);if(u)return u}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */re.prototype.getGlobalPosition=function(r,e){return r===void 0&&(r=new jt),e===void 0&&(e=!1),this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};/*!
 * @pixi/app - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pP=function(){function t(){}return t.init=function(r){var e=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(!!e._resizeTo){e.cancelResize();var n,i;if(e._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=e._resizeTo,u=o.clientWidth,h=o.clientHeight;n=u,i=h}e.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=Dt.Application,t}();/*!
 * @pixi/settings - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bp;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Bp||(Bp={}));var Mp;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Mp||(Mp={}));var Hp;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Hp||(Hp={}));var kp;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(kp||(kp={}));var Dp;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Dp||(Dp={}));var Xp;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Xp||(Xp={}));var Vp;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Vp||(Vp={}));var Wp;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Wp||(Wp={}));var zp;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(zp||(zp={}));var xh;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(xh||(xh={}));var Th;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Th||(Th={}));var bh;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(bh||(bh={}));var jp;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(jp||(jp={}));var $p;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})($p||($p={}));var Ih;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Ih||(Ih={}));var Pi;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Pi||(Pi={}));var qp;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(qp||(qp={}));var Yp;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(Yp||(Yp={}));var Eh;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Eh||(Eh={}));var Zp;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Zp||(Zp={}));var vP={createCanvas:function(t,r){var e=document.createElement("canvas");return e.width=t,e.height=r,e},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,r){return fetch(t,r)}},Ru=/iPhone/i,Kp=/iPod/i,Jp=/iPad/i,Qp=/\biOS-universal(?:.+)Mac\b/i,wu=/\bAndroid(?:.+)Mobile\b/i,tv=/Android/i,Dn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,io=/Silk/i,Tr=/Windows Phone/i,ev=/\bWindows(?:.+)ARM\b/i,rv=/BlackBerry/i,nv=/BB10/i,iv=/Opera Mini/i,av=/\b(CriOS|Chrome)(?:.+)Mobile/i,ov=/Mobile(?:.+)Firefox\b/i,sv=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function _P(t){return function(r){return r.test(t)}}function gP(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var e=r.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var i=_P(e),o={apple:{phone:i(Ru)&&!i(Tr),ipod:i(Kp),tablet:!i(Ru)&&(i(Jp)||sv(r))&&!i(Tr),universal:i(Qp),device:(i(Ru)||i(Kp)||i(Jp)||i(Qp)||sv(r))&&!i(Tr)},amazon:{phone:i(Dn),tablet:!i(Dn)&&i(io),device:i(Dn)||i(io)},android:{phone:!i(Tr)&&i(Dn)||!i(Tr)&&i(wu),tablet:!i(Tr)&&!i(Dn)&&!i(wu)&&(i(io)||i(tv)),device:!i(Tr)&&(i(Dn)||i(io)||i(wu)||i(tv))||i(/\bokhttp\b/i)},windows:{phone:i(Tr),tablet:i(ev),device:i(Tr)||i(ev)},other:{blackberry:i(rv),blackberry10:i(nv),opera:i(iv),firefox:i(ov),chrome:i(av),device:i(rv)||i(nv)||i(iv)||i(ov)||i(av)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var $n=gP(globalThis.navigator);function mP(){return!$n.apple.device}function yP(t){var r=!0;if($n.tablet||$n.phone){if($n.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(r=!1)}}if($n.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(r=!1)}}}return r?t:4}var xo={ADAPTER:vP,MIPMAP_TEXTURES:bh.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Eh.NONE,SPRITE_MAX_TEXTURES:yP(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Ih.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Th.CLAMP,SCALE_MODE:xh.LINEAR,PRECISION_VERTEX:Pi.HIGH,PRECISION_FRAGMENT:$n.apple.device?Pi.HIGH:Pi.MEDIUM,CAN_UPLOAD_SAME_BUFFER:mP(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lh(t,r,e){return e={path:r,exports:{},require:function(n,i){return xP(n,i==null?e.path:i)}},t(e,e.exports),e.exports}function xP(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}Lh(function(t){var r=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(f,c,d){this.fn=f,this.context=c,this.once=d||!1}function o(f,c,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,p||f,v),m=e?e+c:c;return f._events[m]?f._events[m].fn?f._events[m]=[f._events[m],g]:f._events[m].push(g):(f._events[m]=g,f._eventsCount++),f}function u(f,c){--f._eventsCount===0?f._events=new n:delete f._events[c]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)r.call(d,p)&&c.push(e?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},h.prototype.listeners=function(c){var d=e?e+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,m=new Array(g);v<g;v++)m[v]=p[v].fn;return m},h.prototype.listenerCount=function(c){var d=e?e+c:c,p=this._events[d];return p?p.fn?1:p.length:0},h.prototype.emit=function(c,d,p,v,g,m){var x=arguments,T=e?e+c:c;if(!this._events[T])return!1;var E=this._events[T],U=arguments.length,P,N;if(E.fn){switch(E.once&&this.removeListener(c,E.fn,void 0,!0),U){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,v),!0;case 5:return E.fn.call(E.context,d,p,v,g),!0;case 6:return E.fn.call(E.context,d,p,v,g,m),!0}for(N=1,P=new Array(U-1);N<U;N++)P[N-1]=x[N];E.fn.apply(E.context,P)}else{var A=E.length,C;for(N=0;N<A;N++)switch(E[N].once&&this.removeListener(c,E[N].fn,void 0,!0),U){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,d);break;case 3:E[N].fn.call(E[N].context,d,p);break;case 4:E[N].fn.call(E[N].context,d,p,v);break;default:if(!P)for(C=1,P=new Array(U-1);C<U;C++)P[C-1]=x[C];E[N].fn.apply(E[N].context,P)}}return!0},h.prototype.on=function(c,d,p){return o(this,c,d,p,!1)},h.prototype.once=function(c,d,p){return o(this,c,d,p,!0)},h.prototype.removeListener=function(c,d,p,v){var g=e?e+c:c;if(!this._events[g])return this;if(!d)return u(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!v||m.once)&&(!p||m.context===p)&&u(this,g);else{for(var x=0,T=[],E=m.length;x<E;x++)(m[x].fn!==d||v&&!m[x].once||p&&m[x].context!==p)&&T.push(m[x]);T.length?this._events[g]=T.length===1?T[0]:T:u(this,g)}return this},h.prototype.removeAllListeners=function(c){var d;return c?(d=e?e+c:c,this._events[d]&&u(this,d)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=e,h.EventEmitter=h,t.exports=h});Lh(function(t,r){(function(e){var n=r&&!r.nodeType&&r,i=t&&!t.nodeType&&t,o=typeof Cu=="object"&&Cu;(o.global===o||o.window===o||o.self===o)&&(e=o);var u,h=2147483647,f=36,c=1,d=26,p=38,v=700,g=72,m=128,x="-",T=/^xn--/,E=/[^\x20-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=f-c,A=Math.floor,C=String.fromCharCode,M;function V(S){throw RangeError(P[S])}function G(S,X){for(var q=S.length,et=[];q--;)et[q]=X(S[q]);return et}function D(S,X){var q=S.split("@"),et="";q.length>1&&(et=q[0]+"@",S=q[1]),S=S.replace(U,".");var ot=S.split("."),dt=G(ot,X).join(".");return et+dt}function $(S){for(var X=[],q=0,et=S.length,ot,dt;q<et;)ot=S.charCodeAt(q++),ot>=55296&&ot<=56319&&q<et?(dt=S.charCodeAt(q++),(dt&64512)==56320?X.push(((ot&1023)<<10)+(dt&1023)+65536):(X.push(ot),q--)):X.push(ot);return X}function Q(S){return G(S,function(X){var q="";return X>65535&&(X-=65536,q+=C(X>>>10&1023|55296),X=56320|X&1023),q+=C(X),q}).join("")}function rt(S){return S-48<10?S-22:S-65<26?S-65:S-97<26?S-97:f}function mt(S,X){return S+22+75*(S<26)-((X!=0)<<5)}function Y(S,X,q){var et=0;for(S=q?A(S/v):S>>1,S+=A(S/X);S>N*d>>1;et+=f)S=A(S/N);return A(et+(N+1)*S/(S+p))}function Z(S){var X=[],q=S.length,et,ot=0,dt=m,st=g,Ct,At,It,St,ut,_t,it,Rt,Ft;for(Ct=S.lastIndexOf(x),Ct<0&&(Ct=0),At=0;At<Ct;++At)S.charCodeAt(At)>=128&&V("not-basic"),X.push(S.charCodeAt(At));for(It=Ct>0?Ct+1:0;It<q;){for(St=ot,ut=1,_t=f;It>=q&&V("invalid-input"),it=rt(S.charCodeAt(It++)),(it>=f||it>A((h-ot)/ut))&&V("overflow"),ot+=it*ut,Rt=_t<=st?c:_t>=st+d?d:_t-st,!(it<Rt);_t+=f)Ft=f-Rt,ut>A(h/Ft)&&V("overflow"),ut*=Ft;et=X.length+1,st=Y(ot-St,et,St==0),A(ot/et)>h-dt&&V("overflow"),dt+=A(ot/et),ot%=et,X.splice(ot++,0,dt)}return Q(X)}function ct(S){var X,q,et,ot,dt,st,Ct,At,It,St,ut,_t=[],it,Rt,Ft,xt;for(S=$(S),it=S.length,X=m,q=0,dt=g,st=0;st<it;++st)ut=S[st],ut<128&&_t.push(C(ut));for(et=ot=_t.length,ot&&_t.push(x);et<it;){for(Ct=h,st=0;st<it;++st)ut=S[st],ut>=X&&ut<Ct&&(Ct=ut);for(Rt=et+1,Ct-X>A((h-q)/Rt)&&V("overflow"),q+=(Ct-X)*Rt,X=Ct,st=0;st<it;++st)if(ut=S[st],ut<X&&++q>h&&V("overflow"),ut==X){for(At=q,It=f;St=It<=dt?c:It>=dt+d?d:It-dt,!(At<St);It+=f)xt=At-St,Ft=f-St,_t.push(C(mt(St+xt%Ft,0))),At=A(xt/Ft);_t.push(C(mt(At,0))),dt=Y(q,Rt,et==ot),q=0,++et}++q,++X}return _t.join("")}function Gt(S){return D(S,function(X){return T.test(X)?Z(X.slice(4).toLowerCase()):X})}function Nt(S){return D(S,function(X){return E.test(X)?"xn--"+ct(X):X})}if(u={version:"1.3.2",ucs2:{decode:$,encode:Q},decode:Z,encode:ct,toASCII:Nt,toUnicode:Gt},n&&i)if(t.exports==n)i.exports=u;else for(M in u)u.hasOwnProperty(M)&&(n[M]=u[M]);else e.punycode=u})(Cu)});function TP(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var bP=function(t,r,e,n){r=r||"&",e=e||"=";var i={};if(typeof t!="string"||t.length===0)return i;var o=/\+/g;t=t.split(r);var u=1e3;n&&typeof n.maxKeys=="number"&&(u=n.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var f=0;f<h;++f){var c=t[f].replace(o,"%20"),d=c.indexOf(e),p,v,g,m;d>=0?(p=c.substr(0,d),v=c.substr(d+1)):(p=c,v=""),g=decodeURIComponent(p),m=decodeURIComponent(v),TP(i,g)?Array.isArray(i[g])?i[g].push(m):i[g]=[i[g],m]:i[g]=m}return i},wi=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},IP=function(t,r,e,n){return r=r||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var o=encodeURIComponent(wi(i))+e;return Array.isArray(t[i])?t[i].map(function(u){return o+encodeURIComponent(wi(u))}).join(r):o+encodeURIComponent(wi(t[i]))}).join(r):n?encodeURIComponent(wi(n))+e+encodeURIComponent(wi(t)):""};Lh(function(t,r){r.decode=r.parse=bP,r.encode=r.stringify=IP});/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var uv;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(uv||(uv={}));var hv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(hv||(hv={}));var fv;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(fv||(fv={}));var Ae;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Ae||(Ae={}));var lv;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(lv||(lv={}));var cv;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(cv||(cv={}));var dv;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(dv||(dv={}));var pv;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(pv||(pv={}));var vv;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(vv||(vv={}));var _v;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(_v||(_v={}));var gv;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(gv||(gv={}));var mv;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(mv||(mv={}));var yv;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(yv||(yv={}));var xv;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(xv||(xv={}));var Tv;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Tv||(Tv={}));var bv;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(bv||(bv={}));var Iv;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Iv||(Iv={}));var Ev;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(Ev||(Ev={}));var Rv;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Rv||(Rv={}));var wv;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(wv||(wv={}));/*!
 * @pixi/utils - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xo.RETINA_PREFIX=/@([0-9\.]+)x/;xo.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;function EP(){for(var t=[],r=[],e=0;e<32;e++)t[e]=e,r[e]=e;t[Ae.NORMAL_NPM]=Ae.NORMAL,t[Ae.ADD_NPM]=Ae.ADD,t[Ae.SCREEN_NPM]=Ae.SCREEN,r[Ae.NORMAL]=Ae.NORMAL_NPM,r[Ae.ADD]=Ae.ADD_NPM,r[Ae.SCREEN]=Ae.SCREEN_NPM;var n=[];return n.push(r),n.push(t),n}EP();var Cv={};function RP(t,r,e){if(e===void 0&&(e=3),!Cv[r]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(n))),Cv[r]=!0}}(function(){function t(r,e,n){this.canvas=xo.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||xo.RESOLUTION,this.resize(r,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,e){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t})();var C_=function(){function t(r){var e=this;this.stage=new sr,r=Object.assign({forceCanvas:!1},r),this.renderer=D2(r),t._plugins.forEach(function(n){n.init.call(e,r)})}return t.registerPlugin=function(r){RP("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),Pr.add({type:Dt.Application,ref:r})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r,e){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(r),this.renderer=null},t._plugins=[],t}();Pr.handleByList(Dt.Application,C_._plugins);Pr.add(pP);/*!
 * @pixi/mesh-extras - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rh=function(t,r){return Rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Rh(t,r)};function ti(t,r){Rh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var wP=function(t){ti(r,t);function r(e,n,i,o){e===void 0&&(e=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var u=t.call(this)||this;return u.segWidth=i,u.segHeight=o,u.width=e,u.height=n,u.build(),u}return r.prototype.build=function(){for(var e=this.segWidth*this.segHeight,n=[],i=[],o=[],u=this.segWidth-1,h=this.segHeight-1,f=this.width/u,c=this.height/h,d=0;d<e;d++){var p=d%this.segWidth,v=d/this.segWidth|0;n.push(p*f,v*c),i.push(p/u,v/h)}for(var g=u*h,d=0;d<g;d++){var m=d%u,x=d/u|0,T=x*this.segWidth+m,E=x*this.segWidth+m+1,U=(x+1)*this.segWidth+m,P=(x+1)*this.segWidth+m+1;o.push(T,E,U,E,P,U)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},r}(wo),CP=function(t){ti(r,t);function r(e,n,i){e===void 0&&(e=200),i===void 0&&(i=0);var o=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=e,o.textureScale=i,o.build(),o}return Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),r.prototype.build=function(){var e=this.points;if(!!e){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(e.length<1)){n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),i.data=new Float32Array(e.length*4),o.data=new Uint16Array((e.length-1)*6));var u=i.data,h=o.data;u[0]=0,u[1]=0,u[2]=0,u[3]=1;for(var f=0,c=e[0],d=this._width*this.textureScale,p=e.length,v=0;v<p;v++){var g=v*4;if(this.textureScale>0){var m=c.x-e[v].x,x=c.y-e[v].y,T=Math.sqrt(m*m+x*x);c=e[v],f+=T/d}else f=v/(p-1);u[g]=f,u[g+1]=0,u[g+2]=f,u[g+3]=1}for(var E=0,v=0;v<p-1;v++){var g=v*2;h[E++]=g,h[E++]=g+1,h[E++]=g+2,h[E++]=g+2,h[E++]=g+1,h[E++]=g+3}i.update(),o.update(),this.updateVertices()}}},r.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var n=e[0],i,o=0,u=0,h=this.buffers[0].data,f=e.length,c=0;c<f;c++){var d=e[c],p=c*4;c<e.length-1?i=e[c+1]:i=d,u=-(i.x-n.x),o=i.y-n.y;var v=Math.sqrt(o*o+u*u),g=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=v,u/=v,o*=g,u*=g,h[p]=d.x+o,h[p+1]=d.y+u,h[p+2]=d.x-o,h[p+3]=d.y-u,n=d}this.buffers[0].update()}},r.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},r}(wo);(function(t){ti(r,t);function r(e,n,i){i===void 0&&(i=0);var o=this,u=new CP(e.height,n,i),h=new ki(e);return i>0&&(e.baseTexture.wrapMode=Rr.REPEAT),o=t.call(this,u,h)||this,o.autoUpdate=!0,o}return r.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,e)},r})(Hi);var AP=function(t){ti(r,t);function r(e,n,i){var o=this,u=new wP(e.width,e.height,n,i),h=new ki(pt.WHITE);return o=t.call(this,u,h)||this,o.texture=e,o.autoResize=!0,o}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,n=this.shader.texture,i=n.width,o=n.height;this.autoResize&&(e.width!==i||e.height!==o)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},r.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},r}(Hi);(function(t){ti(r,t);function r(e,n,i,o,u){e===void 0&&(e=pt.EMPTY);var h=this,f=new wo(n,i,o);f.getBuffer("aVertexPosition").static=!1;var c=new ki(e);return h=t.call(this,f,c,null,u)||this,h.autoUpdate=!0,h}return Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},r})(Hi);var ao=10;(function(t){ti(r,t);function r(e,n,i,o,u){n===void 0&&(n=ao),i===void 0&&(i=ao),o===void 0&&(o=ao),u===void 0&&(u=ao);var h=t.call(this,pt.WHITE,4,4)||this;return h._origWidth=e.orig.width,h._origHeight=e.orig.height,h._width=h._origWidth,h._height=h._origHeight,h._leftWidth=n,h._rightWidth=o,h._topHeight=i,h._bottomHeight=u,h.texture=e,h}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype.updateHorizontalVertices=function(){var e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height},r.prototype.updateVerticalVertices=function(){var e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width},r.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,u=Math.min(n,o);return u},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),r.prototype._refresh=function(){var e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},r})(AP);/*!
 * @pixi/sprite-animated - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wh=function(t,r){return wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},wh(t,r)};function PP(t,r){wh(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}(function(t){PP(r,t);function r(e,n){n===void 0&&(n=!0);var i=t.call(this,e[0]instanceof pt?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return r.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ve.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ve.shared.add(this.update,this,Ar.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(e){this.stop();var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(e){var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(e){if(!!this._playing){var n=this.animationSpeed*e,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var u=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*u,this._currentTime+=u;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},r.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(e){for(var n=[],i=0;i<e.length;++i)n.push(pt.from(e[i]));return new r(n)},r.fromImages=function(e){for(var n=[],i=0;i<e.length;++i)n.push(pt.from(e[i]));return new r(n)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof pt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ve.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ve.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r})(Qn);/*!
 * pixi.js - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pr.add(eC,sC,oC,QC,AA,d_,FA,YA,EC,YC,ZC,NA,yw,vC);const NP="/hot-map/assets/4-hov.04dd0320.svg",UP="/hot-map/assets/5-hov.4188b987.svg",OP="/hot-map/assets/1-hov.8bdc8872.svg";var A_={exports:{}};(function(t){(function(r,e,n){function i(f){var c=this,d=h();c.next=function(){var p=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=p-(c.c=p|0)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(f),c.s0<0&&(c.s0+=1),c.s1-=d(f),c.s1<0&&(c.s1+=1),c.s2-=d(f),c.s2<0&&(c.s2+=1),d=null}function o(f,c){return c.c=f.c,c.s0=f.s0,c.s1=f.s1,c.s2=f.s2,c}function u(f,c){var d=new i(f),p=c&&c.state,v=d.next;return v.int32=function(){return d.next()*4294967296|0},v.double=function(){return v()+(v()*2097152|0)*11102230246251565e-32},v.quick=v,p&&(typeof p=="object"&&o(p,d),v.state=function(){return o(d,{})}),v}function h(){var f=4022871197,c=function(d){d=String(d);for(var p=0;p<d.length;p++){f+=d.charCodeAt(p);var v=.02519603282416938*f;f=v>>>0,v-=f,v*=f,f=v>>>0,v-=f,f+=v*4294967296}return(f>>>0)*23283064365386963e-26};return c}e&&e.exports?e.exports=u:n&&n.amd?n(function(){return u}):this.alea=u})(be,t,!1)})(A_);var P_={exports:{}};(function(t){(function(r,e,n){function i(h){var f=this,c="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var p=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^p^p>>>8},h===(h|0)?f.x=h:c+=h;for(var d=0;d<c.length+64;d++)f.x^=c.charCodeAt(d)|0,f.next()}function o(h,f){return f.x=h.x,f.y=h.y,f.z=h.z,f.w=h.w,f}function u(h,f){var c=new i(h),d=f&&f.state,p=function(){return(c.next()>>>0)/4294967296};return p.double=function(){do var v=c.next()>>>11,g=(c.next()>>>0)/4294967296,m=(v+g)/(1<<21);while(m===0);return m},p.int32=c.next,p.quick=p,d&&(typeof d=="object"&&o(d,c),p.state=function(){return o(c,{})}),p}e&&e.exports?e.exports=u:n&&n.amd?n(function(){return u}):this.xor128=u})(be,t,!1)})(P_);var N_={exports:{}};(function(t){(function(r,e,n){function i(h){var f=this,c="";f.next=function(){var p=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(p^p<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,h===(h|0)?f.x=h:c+=h;for(var d=0;d<c.length+64;d++)f.x^=c.charCodeAt(d)|0,d==c.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function o(h,f){return f.x=h.x,f.y=h.y,f.z=h.z,f.w=h.w,f.v=h.v,f.d=h.d,f}function u(h,f){var c=new i(h),d=f&&f.state,p=function(){return(c.next()>>>0)/4294967296};return p.double=function(){do var v=c.next()>>>11,g=(c.next()>>>0)/4294967296,m=(v+g)/(1<<21);while(m===0);return m},p.int32=c.next,p.quick=p,d&&(typeof d=="object"&&o(d,c),p.state=function(){return o(c,{})}),p}e&&e.exports?e.exports=u:n&&n.amd?n(function(){return u}):this.xorwow=u})(be,t,!1)})(N_);var U_={exports:{}};(function(t){(function(r,e,n){function i(h){var f=this;f.next=function(){var d=f.x,p=f.i,v,g;return v=d[p],v^=v>>>7,g=v^v<<24,v=d[p+1&7],g^=v^v>>>10,v=d[p+3&7],g^=v^v>>>3,v=d[p+4&7],g^=v^v<<7,v=d[p+7&7],v=v^v<<13,g^=v^v<<9,d[p]=g,f.i=p+1&7,g};function c(d,p){var v,g=[];if(p===(p|0))g[0]=p;else for(p=""+p,v=0;v<p.length;++v)g[v&7]=g[v&7]<<15^p.charCodeAt(v)+g[v+1&7]<<13;for(;g.length<8;)g.push(0);for(v=0;v<8&&g[v]===0;++v);for(v==8?g[7]=-1:g[v],d.x=g,d.i=0,v=256;v>0;--v)d.next()}c(f,h)}function o(h,f){return f.x=h.x.slice(),f.i=h.i,f}function u(h,f){h==null&&(h=+new Date);var c=new i(h),d=f&&f.state,p=function(){return(c.next()>>>0)/4294967296};return p.double=function(){do var v=c.next()>>>11,g=(c.next()>>>0)/4294967296,m=(v+g)/(1<<21);while(m===0);return m},p.int32=c.next,p.quick=p,d&&(d.x&&o(d,c),p.state=function(){return o(c,{})}),p}e&&e.exports?e.exports=u:n&&n.amd?n(function(){return u}):this.xorshift7=u})(be,t,!1)})(U_);var O_={exports:{}};(function(t){(function(r,e,n){function i(h){var f=this;f.next=function(){var d=f.w,p=f.X,v=f.i,g,m;return f.w=d=d+1640531527|0,m=p[v+34&127],g=p[v=v+1&127],m^=m<<13,g^=g<<17,m^=m>>>15,g^=g>>>12,m=p[v]=m^g,f.i=v,m+(d^d>>>16)|0};function c(d,p){var v,g,m,x,T,E=[],U=128;for(p===(p|0)?(g=p,p=null):(p=p+"\0",g=0,U=Math.max(U,p.length)),m=0,x=-32;x<U;++x)p&&(g^=p.charCodeAt((x+32)%p.length)),x===0&&(T=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,x>=0&&(T=T+1640531527|0,v=E[x&127]^=g+T,m=v==0?m+1:0);for(m>=128&&(E[(p&&p.length||0)&127]=-1),m=127,x=4*128;x>0;--x)g=E[m+34&127],v=E[m=m+1&127],g^=g<<13,v^=v<<17,g^=g>>>15,v^=v>>>12,E[m]=g^v;d.w=T,d.X=E,d.i=m}c(f,h)}function o(h,f){return f.i=h.i,f.w=h.w,f.X=h.X.slice(),f}function u(h,f){h==null&&(h=+new Date);var c=new i(h),d=f&&f.state,p=function(){return(c.next()>>>0)/4294967296};return p.double=function(){do var v=c.next()>>>11,g=(c.next()>>>0)/4294967296,m=(v+g)/(1<<21);while(m===0);return m},p.int32=c.next,p.quick=p,d&&(d.X&&o(d,c),p.state=function(){return o(c,{})}),p}e&&e.exports?e.exports=u:n&&n.amd?n(function(){return u}):this.xor4096=u})(be,t,!1)})(O_);var L_={exports:{}};(function(t){(function(r,e,n){function i(h){var f=this,c="";f.next=function(){var p=f.b,v=f.c,g=f.d,m=f.a;return p=p<<25^p>>>7^v,v=v-g|0,g=g<<24^g>>>8^m,m=m-p|0,f.b=p=p<<20^p>>>12^v,f.c=v=v-g|0,f.d=g<<16^v>>>16^m,f.a=m-p|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,h===Math.floor(h)?(f.a=h/4294967296|0,f.b=h|0):c+=h;for(var d=0;d<c.length+20;d++)f.b^=c.charCodeAt(d)|0,f.next()}function o(h,f){return f.a=h.a,f.b=h.b,f.c=h.c,f.d=h.d,f}function u(h,f){var c=new i(h),d=f&&f.state,p=function(){return(c.next()>>>0)/4294967296};return p.double=function(){do var v=c.next()>>>11,g=(c.next()>>>0)/4294967296,m=(v+g)/(1<<21);while(m===0);return m},p.int32=c.next,p.quick=p,d&&(typeof d=="object"&&o(d,c),p.state=function(){return o(c,{})}),p}e&&e.exports?e.exports=u:n&&n.amd?n(function(){return u}):this.tychei=u})(be,t,!1)})(L_);var S_={exports:{}};const LP={},SP=Object.freeze(Object.defineProperty({__proto__:null,default:LP},Symbol.toStringTag,{value:"Module"})),FP=wb(SP);(function(t){(function(r,e,n){var i=256,o=6,u=52,h="random",f=n.pow(i,o),c=n.pow(2,u),d=c*2,p=i-1,v;function g(N,A,C){var M=[];A=A==!0?{entropy:!0}:A||{};var V=E(T(A.entropy?[N,P(e)]:N==null?U():N,3),M),G=new m(M),D=function(){for(var $=G.g(o),Q=f,rt=0;$<c;)$=($+rt)*i,Q*=i,rt=G.g(1);for(;$>=d;)$/=2,Q/=2,rt>>>=1;return($+rt)/Q};return D.int32=function(){return G.g(4)|0},D.quick=function(){return G.g(4)/4294967296},D.double=D,E(P(G.S),e),(A.pass||C||function($,Q,rt,mt){return mt&&(mt.S&&x(mt,G),$.state=function(){return x(G,{})}),rt?(n[h]=$,Q):$})(D,V,"global"in A?A.global:this==n,A.state)}function m(N){var A,C=N.length,M=this,V=0,G=M.i=M.j=0,D=M.S=[];for(C||(N=[C++]);V<i;)D[V]=V++;for(V=0;V<i;V++)D[V]=D[G=p&G+N[V%C]+(A=D[V])],D[G]=A;(M.g=function($){for(var Q,rt=0,mt=M.i,Y=M.j,Z=M.S;$--;)Q=Z[mt=p&mt+1],rt=rt*i+Z[p&(Z[mt]=Z[Y=p&Y+Q])+(Z[Y]=Q)];return M.i=mt,M.j=Y,rt})(i)}function x(N,A){return A.i=N.i,A.j=N.j,A.S=N.S.slice(),A}function T(N,A){var C=[],M=typeof N,V;if(A&&M=="object")for(V in N)try{C.push(T(N[V],A-1))}catch{}return C.length?C:M=="string"?N:N+"\0"}function E(N,A){for(var C=N+"",M,V=0;V<C.length;)A[p&V]=p&(M^=A[p&V]*19)+C.charCodeAt(V++);return P(A)}function U(){try{var N;return v&&(N=v.randomBytes)?N=N(i):(N=new Uint8Array(i),(r.crypto||r.msCrypto).getRandomValues(N)),P(N)}catch{var A=r.navigator,C=A&&A.plugins;return[+new Date,r,C,r.screen,P(e)]}}function P(N){return String.fromCharCode.apply(0,N)}if(E(n.random(),e),t.exports){t.exports=g;try{v=FP}catch{}}else n["seed"+h]=g})(typeof self<"u"?self:be,[],Math)})(S_);var GP=A_.exports,BP=P_.exports,MP=N_.exports,HP=U_.exports,kP=O_.exports,DP=L_.exports,xn=S_.exports;xn.alea=GP;xn.xor128=BP;xn.xorwow=MP;xn.xorshift7=HP;xn.xor4096=kP;xn.tychei=DP;var XP=xn;let VP=XP();function F_(){return VP()}function ji(t,r){const e=Array.isArray(t)?()=>G_(t):t;return(r==null?void 0:r.length)===void 0?e(0):Array.from({length:r.length},(n,i)=>e(i))}function G_(t){return t[Math.floor(F_()*t.length)]}function B_({min:t=1,max:r=9999.99,fraction:e=0}={}){return Number((F_()*(r-t)+t).toFixed(e))}const WP="abcdefghijklmnopqrstuvwxyz";function Av(t){return ji(WP.split(""),t)}function Pv(t){return t===null||typeof t>"u"}function zP(t){const r={min:Pv(t==null?void 0:t.min)?0:t.min,max:Pv(t==null?void 0:t.max)?999999:t.max,precision:t==null?void 0:t.precision,fraction:t==null?void 0:t.fraction};return ji(()=>{if(r.min===r.max)return r.min;const e=B_(r);return r.precision!==void 0?Math.floor(e/r.precision)*r.precision:e},t)}var jP=["est","voluptatem","non","aut","aliquid","quaerat","quos","vel","tenetur","consectetur","ipsum","voluptate","numquam","nulla","asperiores","in","laborum","quas","et","ullam","consequuntur","enim","dicta","quia","facilis","voluptatibus","at","hic","sunt","excepturi","maiores","vitae","fugit","possimus","unde","repellat","sit","necessitatibus","nemo","qui","exercitationem","dolores","esse","reiciendis","nihil","commodi","id","sequi","consequatur","occaecati","deserunt","quae","eos","sapiente","fugiat","neque","quasi","nostrum","magnam","sed","omnis","doloribus","error","ducimus","rerum","beatae","cupiditate","blanditiis","labore"];function $P(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Nv(t){return ji(()=>{let e=G_(jP);return t!=null&&t.capitalize&&(e=$P(e)),e},t)}var qP={china:["Peking roasted duck","Kung pao chicken","Sweet and sour pork","Hot pot","Dim sum","Dumplings","Ma po tofu","Char siu","Chicken chow mein","Beef chow mein","vegetable chow mein","Chicken fried rice","Beef fried rice","Vegetable fried Rice","Special fried Rice","Sichuan pork","Xiaolongbao","Zhajiangmian","Wonton soup","Sweet and sour pork","Duck spring Rolls","Vegetable spring Rolls","Wonton","Peking duck","Lamb hot pot","Spicy crayfish","Guilin rice noodles","Lanzhou hand-pulled noodles","Steamed crab","Shredded pork with garlic sauce","Red braised pork","Sweet and sour Ribs","Xinjiang","Braised pork with vermicelli"],italy:["Butternut squash risotto","Mushroom risotto","Beetroot risotto","Courgette risotto","Pizza","Gnocchi","Spaghetti bolognese","Spaghetti carbonara","Pesto alla Genovese","Beef lasagne","Vegetable lasagne","Gelato","Prosciutto di Parma","Ribollita","Bagna cauda","Polenta","Tortelli and ravioli","Focaccia","Garlic bread","Arancini","Il tartufo","Panzerotto fritto","Fiorentina","Minestrone","Frico","Arrosticini","Olive ascolante","Fritto misto piemontes","Tiramis\xF9"],india:["Biryani","Dosa","Tandoori chicken","Samosas","Chaat","Plain naan","Garlic naan","Pilau rice","Steamed rice","Chicken madras","Vegetable madras","Chicken vindaloo","Chicken jalfrezi","Chicken roghan josh","Lamb roghan josh","Beef roghan josh","Butter chicken","Dosa","Gulab jamun","Chicken korma","Mutter paneer","Papadum","Paratha","Raita","Saag paneer","Tandoori chicken","Chicken tikka masala","Pakora","Dal","Chapati","Pasanda","Aloo gobi","Kofta","Chicken makhani","Paneer naan","Chana Aloo Curry"],mexico:["Chilaquiles","Pozole","Tacos al pastor","Tostadas","Chiles en nogada","Elote","Enchiladas","Mole","Guacamole","Tamales","Huevos rancheros","Machaca","Discada","Beef Burrito","Chicken Burrito","Pozole de pollo o duajolote","Menudo","Cochinita pibil","Tamale","Quesadilla","Frijoles puercos","Chile en nogada","Esquites","Alegria de amaranto","Pipi\xE1n","Aguachile","Ceviche","Pescado zarandeado","Camarones a la diabla","Birria de chivo","Tlayuda","Guacamole con chapulines","Flautas","Torta Ahogada","Carnitas","Caldo Azteca","Gorditas de Nata"],japan:["Sushi","Udon","Tofu","Tempura","Yakitori","Sashimi","Ramen","Donburi","Natto","Oden","Tamagoyaki","Soba","Tonkatsu","Kashipan","Sukiyaki","Miso soup","Okonomiyaki","Mentaiko","Nikujaga","Unagi no kabayaki","Shabu Shabu","Onigiri","Gyoza","Takoyaki","aiseki ryori","Edamame","Yakisoba","Chawanmushi","Wagashi"],france:["Foie gras","Hu\xEEtres","Cassoulet","Poulet basquaise","Escargots au beurre persill\xE9","Mouclade charentaise","Galettes bretonnes","Flemish carbonnade","Quiche lorraine","Raclette","Cheese fondue","Beef fondue","Gratin dauphinois","Tartiflette","Bouillabaisse","Ratatouille","Boeuf bourguignon","Blanquette de veau","Pot-au-feu","Coq-au-vin","Hachis parmentier","Steak tartare","Choucroute","Souffl\xE9 au fromage","Cuisses de grenouilles","Soupe \xE0 l\u2019oignon","Baguette","Croissant","French cheeses","Fondant au chocolat","Tarte tatin","Macarons","Cr\xE8me br\xFBl\xE9e","\xCEle flottante","Profiteroles","Pain au chocolat"],lebanon:["Kibbeh","Kafta","Kanafeh","Hummus","Rice pilaf","Fattoush","Manakish","Tabbouleh","Sfeeha","Fattoush","Labneh","Muhammara","Lahm bi ajin","Kaak","Chanklich","Mssabaha","Shawarma","Kebbe","Falafel","Halewit el jeben","Namoura","Maamoul","Foul mdammas","Balila","Kawarma","Fattouch"],thailand:["Pad kra pao moo","Tom kha gai","Khao Pad","Chicken pad Thai","Vegetable pad Thai","Moo satay","Tom yum goong","Khao niew mamuang","Kai yad sai","Khao soi","Pad see ew","Laab moo","Gaeng panang","Gai pad med ma muang","Som tam","Poh pia tod","Gaeng massaman","Pla kapung nueng manao","Tod mun pla","Gaeng ped","Gaeng garee","Gaeng keow wan","Moo ping","Durian","Sai ooah","Hoy tod","Kuay teow reua","Mu kratha","Kao ka moo","Yam nua"],greece:["Moussaka","Papoutsakia","Pastitsio","Souvlaki","Soutzoukakia","Stifado","Tomatokeftedes","Tzatziki","Kolokithokeftedes","Giouvetsi","Choriatiki","Kleftiko","Gemista","Fasolada","Bougatsa","Tiropita","Spanakopita","Feta Cheese with Honey","Horta","Tirokroketes","Briam","Saganaki","Gigantes","Dolmades","Fasolatha","Koulouri","Loukoumades","Gyros","Galaktoboureko","Baklava"],turkey:["\u015Ei\u015F kebap","D\xF6ner","K\xF6fte","Pide","Kumpir","Meze","Mant\u0131","Lahmacun","Menemen","\u015Ei\u015F kebap","\u0130skender kebab","Corba","Kuzu tandir","\xC7i\u011F K\xF6fte","Pilav","Yaprak sarma","Dolma","\u0130mam bay\u0131ld\u0131","Borek","Durum","Kumpir","Balik ekmek","Simit","Kunefe","Baklava","Lokum","Halva","Mozzaik pasta","G\xFClla\xE7","Mercimek K\xF6ftesi","Haydari","Tursu suyu","Kahvalti","Kazan dibi","Hunkar begendi","Islak burgers","Salep","Yogurtlu kebab"],spain:["Tortilla de patatas","Fabada asturiana","Cal\xE7ots","Boquerones al vinagre","Empanada gallega","Paella","Gazpacho","Gachas","Migas","Bocadillo de calamares","Pulpo a feira","Caldo gallego","Lentejas con chorizo","Cocido madrile\xF1o","Cachopo","Caracoles"],venezuela:["Pabell\xF3n criollo","Arepa","Mondongo","Empanadas","Quesillo","Chicha andina","Teque\xF1os","Cachapa","Hallaca","Perico","Pasticho","Mandocas","Caraotas negras","Patacones","Dulce de leche","Pan de Jam\xF3n"],chile:["Humitas","Empanadas","Porotos con riendas","Completos","Manjar","Cordero al palo","Pastel de choclo","Mote con huesillos","Sopaipillas","Curanto"],argentina:["Milanesas","Empanadas","Pizza fugazeta","Asado","Choripan","Bondiola","Bife de chorizo"],colombia:["Bandeja paisa","Chuleta valluna","Sancocho trif\xE1sico","Empanada valluna","Salpicon de frutas","Pastel de garbanzo","Ajiaco","Arepas","Arroz de lisa","Sancocho","Pan de bono","Cuchuco","Oblea","Cazuela de mariscos","Pan de yuca","Bollo Limpio","Almoj\xE1bana","Empanadas","Arroz con Coco","Sopa de mondongo","Cazuela de Mariscos","Arroz con Pollo","Arepa de Huevo","Mote de Queso"],ecuador:["Encebollado","Ceviche","Tigrillo","Bolon de verde","Llapingacho","Mote pillo","Locro de papa","Churrasco"],peru:["Ceviche","Arroz con pollo","Aji de gallina","Llunca de gallina"],"el salvador":["Pupusa","Sopa de patas","Rigua","Flor de izote con huevo","Gallo en chicha"],romania:["Sarmale","Mici","Pomana porcului","Ciorb\u0103 de fasole cu ciolan","Ciorb\u0103 de burt\u0103","Ciorb\u0103 r\u0103d\u0103u\u021Bean\u0103","Pl\u0103cint\u0103 cu br\xE2nz\u0103","Ciorb\u0103 de potroace","M\u0103m\u0103lig\u0103 cu br\xE2nz\u0103 \u0219i sm\xE2nt\xE2n\u0103","Tochitur\u0103","Piftie","Iahnie de fasole","Sl\u0103nin\u0103 afumat\u0103","C\xE2rna\u021Bi afuma\u021Bi","Varz\u0103 a la Cluj","Gula\u0219 de cartofi cu afum\u0103tur\u0103","Cozonac de cas\u0103","Ciorb\u0103 ardeleneasc\u0103 de porc","Mucenici moldovene\u0219ti","Salat\u0103 de boeuf","Dovleac copt","Papana\u0219i cu br\xE2nz\u0103 de vac\u0103 \u0219i afine","Drob de miel","P\xE2rjoale moldovene\u0219ti","Zacusc\u0103 de vinete","Zacusc\u0103 de fasole","Turt\u0103 dulce","Cl\u0103titele cu gem","Cl\u0103titele cu br\xE2nza de vac\u0103","Balmo\u0219","Cozonac","Chiftele"]},Uv;(Uv=Object.keys(qP))==null||Uv.length;const M_=50;function YP(t){const r=B_({min:1,max:10,fraction:0});return r===1||t===M_?".":r===2?",":""}function Ov(t){return ji(()=>{let e=Nv({capitalize:!0}),n=1;for(;n<M_;){const i=Nv();let o="";if(n++,n>3&&(o=YP(n)),e+=` ${i}${o}`,o===".")break}return e},t)}function ZP(t){var r;const e=(r=t==null?void 0:t.charCount)!=null?r:10;if(e<1||isNaN(e))throw"Character count must be greater than 0";return ji(()=>{let i=Ov();if(e===1)return Av();for(;i.length<e;)i+=` ${Ov()}`;return i=i.substring(0,e-2),i+=`${Av()}.`,i},t)}var KP={olympic:["Archery","Artistic Gymnastics","Artistic Swimming","Athletics","Badminton","Baseball Softball","Basketball","Beach Volleyball","BMX Freestyle","BMX Racing","Boxing","Kayak Flatwater","Kayak Slalom","Diving","Equestrian","Fencing","Football","Golf","Handball","Hockey","Judo","Karate","Marathon Swimming","Modern Pentathlon","Mountain Bike","Rhythmic Gymnastics","Road Cycling","Rowing","Rugby","Sailing","Shooting","Skateboarding","Sport Climbing","Surfing","Swimming","Table Tennis","Taekwondo","Tennis","Track Cycling","Trampoline","Triathlon","Volleyball","Water Polo","Weightlifting","Wrestling"],winterOlympic:["Alpine Skiing","Biathlon","Bobsleigh","Cross-Country Skiing","Curling","Figure Skating","Freestyle Skiing","Ice Hockey","Luge","Nordic Combined","Short Track Speed Skating","Skeleton","Ski Jumping","Snowboard","Speed Skating"],outdoor:["Archery","Athletics","Badminton","Baseball","Basketball","Bowling","Boxing","Camping","Canoeing","Climbing","Cricket","Curling","Cycling","Equestrian","Fencing","Football","Golf","Gymnastics","Handball","Hang Gliding","High Jumping","Hockey","Ice Hockey","Judo","Karate","Kite Flying","Monkey Bars","Motorsports","Netball","Rowing","Rugby","Running","Sailing","Skateboarding","Slide","Snow Skiing","Soccer","Street Hockey","Surfing","Swimming","Table Tennis","Tennis","Trekking","Triathlon","Volleyball","Weightlifting","Wrestling"]},Lv;(Lv=Object.keys(KP))==null||Lv.length;var Ch={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,r){(function(){var e,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",p=1,v=2,g=4,m=1,x=2,T=1,E=2,U=4,P=8,N=16,A=32,C=64,M=128,V=256,G=512,D=30,$="...",Q=800,rt=16,mt=1,Y=2,Z=3,ct=1/0,Gt=9007199254740991,Nt=17976931348623157e292,S=0/0,X=4294967295,q=X-1,et=X>>>1,ot=[["ary",M],["bind",T],["bindKey",E],["curry",P],["curryRight",N],["flip",G],["partial",A],["partialRight",C],["rearg",V]],dt="[object Arguments]",st="[object Array]",Ct="[object AsyncFunction]",At="[object Boolean]",It="[object Date]",St="[object DOMException]",ut="[object Error]",_t="[object Function]",it="[object GeneratorFunction]",Rt="[object Map]",Ft="[object Number]",xt="[object Null]",ne="[object Object]",hr="[object Promise]",Tn="[object Proxy]",Nr="[object RegExp]",Ie="[object Set]",Ur="[object String]",Yr="[object Symbol]",H_="[object Undefined]",ei="[object WeakMap]",k_="[object WeakSet]",ri="[object ArrayBuffer]",bn="[object DataView]",Co="[object Float32Array]",Ao="[object Float64Array]",Po="[object Int8Array]",No="[object Int16Array]",Uo="[object Int32Array]",Oo="[object Uint8Array]",Lo="[object Uint8ClampedArray]",So="[object Uint16Array]",Fo="[object Uint32Array]",D_=/\b__p \+= '';/g,X_=/\b(__p \+=) '' \+/g,V_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sh=/&(?:amp|lt|gt|quot|#39);/g,Fh=/[&<>"']/g,W_=RegExp(Sh.source),z_=RegExp(Fh.source),j_=/<%-([\s\S]+?)%>/g,$_=/<%([\s\S]+?)%>/g,Gh=/<%=([\s\S]+?)%>/g,q_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y_=/^\w*$/,Z_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Go=/[\\^$.*+?()[\]{}|]/g,K_=RegExp(Go.source),Bo=/^\s+/,J_=/\s/,Q_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,t0=/\{\n\/\* \[wrapped with (.+)\] \*/,e0=/,? & /,r0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,n0=/[()=,{}\[\]\/\s]/,i0=/\\(\\)?/g,a0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bh=/\w*$/,o0=/^[-+]0x[0-9a-f]+$/i,s0=/^0b[01]+$/i,u0=/^\[object .+?Constructor\]$/,h0=/^0o[0-7]+$/i,f0=/^(?:0|[1-9]\d*)$/,l0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$i=/($^)/,c0=/['\n\r\u2028\u2029\\]/g,qi="\\ud800-\\udfff",d0="\\u0300-\\u036f",p0="\\ufe20-\\ufe2f",v0="\\u20d0-\\u20ff",Mh=d0+p0+v0,Hh="\\u2700-\\u27bf",kh="a-z\\xdf-\\xf6\\xf8-\\xff",_0="\\xac\\xb1\\xd7\\xf7",g0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",m0="\\u2000-\\u206f",y0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dh="A-Z\\xc0-\\xd6\\xd8-\\xde",Xh="\\ufe0e\\ufe0f",Vh=_0+g0+m0+y0,Mo="['\u2019]",x0="["+qi+"]",Wh="["+Vh+"]",Yi="["+Mh+"]",zh="\\d+",T0="["+Hh+"]",jh="["+kh+"]",$h="[^"+qi+Vh+zh+Hh+kh+Dh+"]",Ho="\\ud83c[\\udffb-\\udfff]",b0="(?:"+Yi+"|"+Ho+")",qh="[^"+qi+"]",ko="(?:\\ud83c[\\udde6-\\uddff]){2}",Do="[\\ud800-\\udbff][\\udc00-\\udfff]",In="["+Dh+"]",Yh="\\u200d",Zh="(?:"+jh+"|"+$h+")",I0="(?:"+In+"|"+$h+")",Kh="(?:"+Mo+"(?:d|ll|m|re|s|t|ve))?",Jh="(?:"+Mo+"(?:D|LL|M|RE|S|T|VE))?",Qh=b0+"?",tf="["+Xh+"]?",E0="(?:"+Yh+"(?:"+[qh,ko,Do].join("|")+")"+tf+Qh+")*",R0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",w0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ef=tf+Qh+E0,C0="(?:"+[T0,ko,Do].join("|")+")"+ef,A0="(?:"+[qh+Yi+"?",Yi,ko,Do,x0].join("|")+")",P0=RegExp(Mo,"g"),N0=RegExp(Yi,"g"),Xo=RegExp(Ho+"(?="+Ho+")|"+A0+ef,"g"),U0=RegExp([In+"?"+jh+"+"+Kh+"(?="+[Wh,In,"$"].join("|")+")",I0+"+"+Jh+"(?="+[Wh,In+Zh,"$"].join("|")+")",In+"?"+Zh+"+"+Kh,In+"+"+Jh,w0,R0,zh,C0].join("|"),"g"),O0=RegExp("["+Yh+qi+Mh+Xh+"]"),L0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,S0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],F0=-1,zt={};zt[Co]=zt[Ao]=zt[Po]=zt[No]=zt[Uo]=zt[Oo]=zt[Lo]=zt[So]=zt[Fo]=!0,zt[dt]=zt[st]=zt[ri]=zt[At]=zt[bn]=zt[It]=zt[ut]=zt[_t]=zt[Rt]=zt[Ft]=zt[ne]=zt[Nr]=zt[Ie]=zt[Ur]=zt[ei]=!1;var Vt={};Vt[dt]=Vt[st]=Vt[ri]=Vt[bn]=Vt[At]=Vt[It]=Vt[Co]=Vt[Ao]=Vt[Po]=Vt[No]=Vt[Uo]=Vt[Rt]=Vt[Ft]=Vt[ne]=Vt[Nr]=Vt[Ie]=Vt[Ur]=Vt[Yr]=Vt[Oo]=Vt[Lo]=Vt[So]=Vt[Fo]=!0,Vt[ut]=Vt[_t]=Vt[ei]=!1;var G0={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},B0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},H0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},k0=parseFloat,D0=parseInt,rf=typeof be=="object"&&be&&be.Object===Object&&be,X0=typeof self=="object"&&self&&self.Object===Object&&self,de=rf||X0||Function("return this")(),Vo=r&&!r.nodeType&&r,Zr=Vo&&!0&&t&&!t.nodeType&&t,nf=Zr&&Zr.exports===Vo,Wo=nf&&rf.process,Fe=function(){try{var O=Zr&&Zr.require&&Zr.require("util").types;return O||Wo&&Wo.binding&&Wo.binding("util")}catch{}}(),af=Fe&&Fe.isArrayBuffer,of=Fe&&Fe.isDate,sf=Fe&&Fe.isMap,uf=Fe&&Fe.isRegExp,hf=Fe&&Fe.isSet,ff=Fe&&Fe.isTypedArray;function Pe(O,B,F){switch(F.length){case 0:return O.call(B);case 1:return O.call(B,F[0]);case 2:return O.call(B,F[0],F[1]);case 3:return O.call(B,F[0],F[1],F[2])}return O.apply(B,F)}function V0(O,B,F,J){for(var vt=-1,Bt=O==null?0:O.length;++vt<Bt;){var ae=O[vt];B(J,ae,F(ae),O)}return J}function Ge(O,B){for(var F=-1,J=O==null?0:O.length;++F<J&&B(O[F],F,O)!==!1;);return O}function W0(O,B){for(var F=O==null?0:O.length;F--&&B(O[F],F,O)!==!1;);return O}function lf(O,B){for(var F=-1,J=O==null?0:O.length;++F<J;)if(!B(O[F],F,O))return!1;return!0}function Or(O,B){for(var F=-1,J=O==null?0:O.length,vt=0,Bt=[];++F<J;){var ae=O[F];B(ae,F,O)&&(Bt[vt++]=ae)}return Bt}function Zi(O,B){var F=O==null?0:O.length;return!!F&&En(O,B,0)>-1}function zo(O,B,F){for(var J=-1,vt=O==null?0:O.length;++J<vt;)if(F(B,O[J]))return!0;return!1}function $t(O,B){for(var F=-1,J=O==null?0:O.length,vt=Array(J);++F<J;)vt[F]=B(O[F],F,O);return vt}function Lr(O,B){for(var F=-1,J=B.length,vt=O.length;++F<J;)O[vt+F]=B[F];return O}function jo(O,B,F,J){var vt=-1,Bt=O==null?0:O.length;for(J&&Bt&&(F=O[++vt]);++vt<Bt;)F=B(F,O[vt],vt,O);return F}function z0(O,B,F,J){var vt=O==null?0:O.length;for(J&&vt&&(F=O[--vt]);vt--;)F=B(F,O[vt],vt,O);return F}function $o(O,B){for(var F=-1,J=O==null?0:O.length;++F<J;)if(B(O[F],F,O))return!0;return!1}var j0=qo("length");function $0(O){return O.split("")}function q0(O){return O.match(r0)||[]}function cf(O,B,F){var J;return F(O,function(vt,Bt,ae){if(B(vt,Bt,ae))return J=Bt,!1}),J}function Ki(O,B,F,J){for(var vt=O.length,Bt=F+(J?1:-1);J?Bt--:++Bt<vt;)if(B(O[Bt],Bt,O))return Bt;return-1}function En(O,B,F){return B===B?og(O,B,F):Ki(O,df,F)}function Y0(O,B,F,J){for(var vt=F-1,Bt=O.length;++vt<Bt;)if(J(O[vt],B))return vt;return-1}function df(O){return O!==O}function pf(O,B){var F=O==null?0:O.length;return F?Zo(O,B)/F:S}function qo(O){return function(B){return B==null?e:B[O]}}function Yo(O){return function(B){return O==null?e:O[B]}}function vf(O,B,F,J,vt){return vt(O,function(Bt,ae,Xt){F=J?(J=!1,Bt):B(F,Bt,ae,Xt)}),F}function Z0(O,B){var F=O.length;for(O.sort(B);F--;)O[F]=O[F].value;return O}function Zo(O,B){for(var F,J=-1,vt=O.length;++J<vt;){var Bt=B(O[J]);Bt!==e&&(F=F===e?Bt:F+Bt)}return F}function Ko(O,B){for(var F=-1,J=Array(O);++F<O;)J[F]=B(F);return J}function K0(O,B){return $t(B,function(F){return[F,O[F]]})}function _f(O){return O&&O.slice(0,xf(O)+1).replace(Bo,"")}function Ne(O){return function(B){return O(B)}}function Jo(O,B){return $t(B,function(F){return O[F]})}function ni(O,B){return O.has(B)}function gf(O,B){for(var F=-1,J=O.length;++F<J&&En(B,O[F],0)>-1;);return F}function mf(O,B){for(var F=O.length;F--&&En(B,O[F],0)>-1;);return F}function J0(O,B){for(var F=O.length,J=0;F--;)O[F]===B&&++J;return J}var Q0=Yo(G0),tg=Yo(B0);function eg(O){return"\\"+H0[O]}function rg(O,B){return O==null?e:O[B]}function Rn(O){return O0.test(O)}function ng(O){return L0.test(O)}function ig(O){for(var B,F=[];!(B=O.next()).done;)F.push(B.value);return F}function Qo(O){var B=-1,F=Array(O.size);return O.forEach(function(J,vt){F[++B]=[vt,J]}),F}function yf(O,B){return function(F){return O(B(F))}}function Sr(O,B){for(var F=-1,J=O.length,vt=0,Bt=[];++F<J;){var ae=O[F];(ae===B||ae===d)&&(O[F]=d,Bt[vt++]=F)}return Bt}function Ji(O){var B=-1,F=Array(O.size);return O.forEach(function(J){F[++B]=J}),F}function ag(O){var B=-1,F=Array(O.size);return O.forEach(function(J){F[++B]=[J,J]}),F}function og(O,B,F){for(var J=F-1,vt=O.length;++J<vt;)if(O[J]===B)return J;return-1}function sg(O,B,F){for(var J=F+1;J--;)if(O[J]===B)return J;return J}function wn(O){return Rn(O)?hg(O):j0(O)}function Ve(O){return Rn(O)?fg(O):$0(O)}function xf(O){for(var B=O.length;B--&&J_.test(O.charAt(B)););return B}var ug=Yo(M0);function hg(O){for(var B=Xo.lastIndex=0;Xo.test(O);)++B;return B}function fg(O){return O.match(Xo)||[]}function lg(O){return O.match(U0)||[]}var cg=function O(B){B=B==null?de:Cn.defaults(de.Object(),B,Cn.pick(de,S0));var F=B.Array,J=B.Date,vt=B.Error,Bt=B.Function,ae=B.Math,Xt=B.Object,ts=B.RegExp,dg=B.String,Be=B.TypeError,Qi=F.prototype,pg=Bt.prototype,An=Xt.prototype,ta=B["__core-js_shared__"],ea=pg.toString,Ht=An.hasOwnProperty,vg=0,Tf=function(){var a=/[^.]+$/.exec(ta&&ta.keys&&ta.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ra=An.toString,_g=ea.call(Xt),gg=de._,mg=ts("^"+ea.call(Ht).replace(Go,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),na=nf?B.Buffer:e,Fr=B.Symbol,ia=B.Uint8Array,bf=na?na.allocUnsafe:e,aa=yf(Xt.getPrototypeOf,Xt),If=Xt.create,Ef=An.propertyIsEnumerable,oa=Qi.splice,Rf=Fr?Fr.isConcatSpreadable:e,ii=Fr?Fr.iterator:e,Kr=Fr?Fr.toStringTag:e,sa=function(){try{var a=rn(Xt,"defineProperty");return a({},"",{}),a}catch{}}(),yg=B.clearTimeout!==de.clearTimeout&&B.clearTimeout,xg=J&&J.now!==de.Date.now&&J.now,Tg=B.setTimeout!==de.setTimeout&&B.setTimeout,ua=ae.ceil,ha=ae.floor,es=Xt.getOwnPropertySymbols,bg=na?na.isBuffer:e,wf=B.isFinite,Ig=Qi.join,Eg=yf(Xt.keys,Xt),oe=ae.max,_e=ae.min,Rg=J.now,wg=B.parseInt,Cf=ae.random,Cg=Qi.reverse,rs=rn(B,"DataView"),ai=rn(B,"Map"),ns=rn(B,"Promise"),Pn=rn(B,"Set"),oi=rn(B,"WeakMap"),si=rn(Xt,"create"),fa=oi&&new oi,Nn={},Ag=nn(rs),Pg=nn(ai),Ng=nn(ns),Ug=nn(Pn),Og=nn(oi),la=Fr?Fr.prototype:e,ui=la?la.valueOf:e,Af=la?la.toString:e;function b(a){if(Kt(a)&&!gt(a)&&!(a instanceof Pt)){if(a instanceof Me)return a;if(Ht.call(a,"__wrapped__"))return Pl(a)}return new Me(a)}var Un=function(){function a(){}return function(s){if(!qt(s))return{};if(If)return If(s);a.prototype=s;var l=new a;return a.prototype=e,l}}();function ca(){}function Me(a,s){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=e}b.templateSettings={escape:j_,evaluate:$_,interpolate:Gh,variable:"",imports:{_:b}},b.prototype=ca.prototype,b.prototype.constructor=b,Me.prototype=Un(ca.prototype),Me.prototype.constructor=Me;function Pt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function Lg(){var a=new Pt(this.__wrapped__);return a.__actions__=Ee(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Ee(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Ee(this.__views__),a}function Sg(){if(this.__filtered__){var a=new Pt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Fg(){var a=this.__wrapped__.value(),s=this.__dir__,l=gt(a),_=s<0,y=l?a.length:0,I=$m(0,y,this.__views__),R=I.start,w=I.end,L=w-R,H=_?w:R-1,k=this.__iteratees__,W=k.length,j=0,tt=_e(L,this.__takeCount__);if(!l||!_&&y==L&&tt==L)return Jf(a,this.__actions__);var ft=[];t:for(;L--&&j<tt;){H+=s;for(var Tt=-1,lt=a[H];++Tt<W;){var wt=k[Tt],Ut=wt.iteratee,Le=wt.type,Te=Ut(lt);if(Le==Y)lt=Te;else if(!Te){if(Le==mt)continue t;break t}}ft[j++]=lt}return ft}Pt.prototype=Un(ca.prototype),Pt.prototype.constructor=Pt;function Jr(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var _=a[s];this.set(_[0],_[1])}}function Gg(){this.__data__=si?si(null):{},this.size=0}function Bg(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}function Mg(a){var s=this.__data__;if(si){var l=s[a];return l===f?e:l}return Ht.call(s,a)?s[a]:e}function Hg(a){var s=this.__data__;return si?s[a]!==e:Ht.call(s,a)}function kg(a,s){var l=this.__data__;return this.size+=this.has(a)?0:1,l[a]=si&&s===e?f:s,this}Jr.prototype.clear=Gg,Jr.prototype.delete=Bg,Jr.prototype.get=Mg,Jr.prototype.has=Hg,Jr.prototype.set=kg;function fr(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var _=a[s];this.set(_[0],_[1])}}function Dg(){this.__data__=[],this.size=0}function Xg(a){var s=this.__data__,l=da(s,a);if(l<0)return!1;var _=s.length-1;return l==_?s.pop():oa.call(s,l,1),--this.size,!0}function Vg(a){var s=this.__data__,l=da(s,a);return l<0?e:s[l][1]}function Wg(a){return da(this.__data__,a)>-1}function zg(a,s){var l=this.__data__,_=da(l,a);return _<0?(++this.size,l.push([a,s])):l[_][1]=s,this}fr.prototype.clear=Dg,fr.prototype.delete=Xg,fr.prototype.get=Vg,fr.prototype.has=Wg,fr.prototype.set=zg;function lr(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var _=a[s];this.set(_[0],_[1])}}function jg(){this.size=0,this.__data__={hash:new Jr,map:new(ai||fr),string:new Jr}}function $g(a){var s=Ra(this,a).delete(a);return this.size-=s?1:0,s}function qg(a){return Ra(this,a).get(a)}function Yg(a){return Ra(this,a).has(a)}function Zg(a,s){var l=Ra(this,a),_=l.size;return l.set(a,s),this.size+=l.size==_?0:1,this}lr.prototype.clear=jg,lr.prototype.delete=$g,lr.prototype.get=qg,lr.prototype.has=Yg,lr.prototype.set=Zg;function Qr(a){var s=-1,l=a==null?0:a.length;for(this.__data__=new lr;++s<l;)this.add(a[s])}function Kg(a){return this.__data__.set(a,f),this}function Jg(a){return this.__data__.has(a)}Qr.prototype.add=Qr.prototype.push=Kg,Qr.prototype.has=Jg;function We(a){var s=this.__data__=new fr(a);this.size=s.size}function Qg(){this.__data__=new fr,this.size=0}function tm(a){var s=this.__data__,l=s.delete(a);return this.size=s.size,l}function em(a){return this.__data__.get(a)}function rm(a){return this.__data__.has(a)}function nm(a,s){var l=this.__data__;if(l instanceof fr){var _=l.__data__;if(!ai||_.length<i-1)return _.push([a,s]),this.size=++l.size,this;l=this.__data__=new lr(_)}return l.set(a,s),this.size=l.size,this}We.prototype.clear=Qg,We.prototype.delete=tm,We.prototype.get=em,We.prototype.has=rm,We.prototype.set=nm;function Pf(a,s){var l=gt(a),_=!l&&an(a),y=!l&&!_&&kr(a),I=!l&&!_&&!y&&Fn(a),R=l||_||y||I,w=R?Ko(a.length,dg):[],L=w.length;for(var H in a)(s||Ht.call(a,H))&&!(R&&(H=="length"||y&&(H=="offset"||H=="parent")||I&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||vr(H,L)))&&w.push(H);return w}function Nf(a){var s=a.length;return s?a[ps(0,s-1)]:e}function im(a,s){return wa(Ee(a),tn(s,0,a.length))}function am(a){return wa(Ee(a))}function is(a,s,l){(l!==e&&!ze(a[s],l)||l===e&&!(s in a))&&cr(a,s,l)}function hi(a,s,l){var _=a[s];(!(Ht.call(a,s)&&ze(_,l))||l===e&&!(s in a))&&cr(a,s,l)}function da(a,s){for(var l=a.length;l--;)if(ze(a[l][0],s))return l;return-1}function om(a,s,l,_){return Gr(a,function(y,I,R){s(_,y,l(y),R)}),_}function Uf(a,s){return a&&tr(s,fe(s),a)}function sm(a,s){return a&&tr(s,we(s),a)}function cr(a,s,l){s=="__proto__"&&sa?sa(a,s,{configurable:!0,enumerable:!0,value:l,writable:!0}):a[s]=l}function as(a,s){for(var l=-1,_=s.length,y=F(_),I=a==null;++l<_;)y[l]=I?e:Hs(a,s[l]);return y}function tn(a,s,l){return a===a&&(l!==e&&(a=a<=l?a:l),s!==e&&(a=a>=s?a:s)),a}function He(a,s,l,_,y,I){var R,w=s&p,L=s&v,H=s&g;if(l&&(R=y?l(a,_,y,I):l(a)),R!==e)return R;if(!qt(a))return a;var k=gt(a);if(k){if(R=Ym(a),!w)return Ee(a,R)}else{var W=ge(a),j=W==_t||W==it;if(kr(a))return el(a,w);if(W==ne||W==dt||j&&!y){if(R=L||j?{}:xl(a),!w)return L?Mm(a,sm(R,a)):Bm(a,Uf(R,a))}else{if(!Vt[W])return y?a:{};R=Zm(a,W,w)}}I||(I=new We);var tt=I.get(a);if(tt)return tt;I.set(a,R),Yl(a)?a.forEach(function(lt){R.add(He(lt,s,l,lt,a,I))}):$l(a)&&a.forEach(function(lt,wt){R.set(wt,He(lt,s,l,wt,a,I))});var ft=H?L?Rs:Es:L?we:fe,Tt=k?e:ft(a);return Ge(Tt||a,function(lt,wt){Tt&&(wt=lt,lt=a[wt]),hi(R,wt,He(lt,s,l,wt,a,I))}),R}function um(a){var s=fe(a);return function(l){return Of(l,a,s)}}function Of(a,s,l){var _=l.length;if(a==null)return!_;for(a=Xt(a);_--;){var y=l[_],I=s[y],R=a[y];if(R===e&&!(y in a)||!I(R))return!1}return!0}function Lf(a,s,l){if(typeof a!="function")throw new Be(u);return _i(function(){a.apply(e,l)},s)}function fi(a,s,l,_){var y=-1,I=Zi,R=!0,w=a.length,L=[],H=s.length;if(!w)return L;l&&(s=$t(s,Ne(l))),_?(I=zo,R=!1):s.length>=i&&(I=ni,R=!1,s=new Qr(s));t:for(;++y<w;){var k=a[y],W=l==null?k:l(k);if(k=_||k!==0?k:0,R&&W===W){for(var j=H;j--;)if(s[j]===W)continue t;L.push(k)}else I(s,W,_)||L.push(k)}return L}var Gr=ol(Qe),Sf=ol(ss,!0);function hm(a,s){var l=!0;return Gr(a,function(_,y,I){return l=!!s(_,y,I),l}),l}function pa(a,s,l){for(var _=-1,y=a.length;++_<y;){var I=a[_],R=s(I);if(R!=null&&(w===e?R===R&&!Oe(R):l(R,w)))var w=R,L=I}return L}function fm(a,s,l,_){var y=a.length;for(l=yt(l),l<0&&(l=-l>y?0:y+l),_=_===e||_>y?y:yt(_),_<0&&(_+=y),_=l>_?0:Kl(_);l<_;)a[l++]=s;return a}function Ff(a,s){var l=[];return Gr(a,function(_,y,I){s(_,y,I)&&l.push(_)}),l}function pe(a,s,l,_,y){var I=-1,R=a.length;for(l||(l=Jm),y||(y=[]);++I<R;){var w=a[I];s>0&&l(w)?s>1?pe(w,s-1,l,_,y):Lr(y,w):_||(y[y.length]=w)}return y}var os=sl(),Gf=sl(!0);function Qe(a,s){return a&&os(a,s,fe)}function ss(a,s){return a&&Gf(a,s,fe)}function va(a,s){return Or(s,function(l){return _r(a[l])})}function en(a,s){s=Mr(s,a);for(var l=0,_=s.length;a!=null&&l<_;)a=a[er(s[l++])];return l&&l==_?a:e}function Bf(a,s,l){var _=s(a);return gt(a)?_:Lr(_,l(a))}function ye(a){return a==null?a===e?H_:xt:Kr&&Kr in Xt(a)?jm(a):ay(a)}function us(a,s){return a>s}function lm(a,s){return a!=null&&Ht.call(a,s)}function cm(a,s){return a!=null&&s in Xt(a)}function dm(a,s,l){return a>=_e(s,l)&&a<oe(s,l)}function hs(a,s,l){for(var _=l?zo:Zi,y=a[0].length,I=a.length,R=I,w=F(I),L=1/0,H=[];R--;){var k=a[R];R&&s&&(k=$t(k,Ne(s))),L=_e(k.length,L),w[R]=!l&&(s||y>=120&&k.length>=120)?new Qr(R&&k):e}k=a[0];var W=-1,j=w[0];t:for(;++W<y&&H.length<L;){var tt=k[W],ft=s?s(tt):tt;if(tt=l||tt!==0?tt:0,!(j?ni(j,ft):_(H,ft,l))){for(R=I;--R;){var Tt=w[R];if(!(Tt?ni(Tt,ft):_(a[R],ft,l)))continue t}j&&j.push(ft),H.push(tt)}}return H}function pm(a,s,l,_){return Qe(a,function(y,I,R){s(_,l(y),I,R)}),_}function li(a,s,l){s=Mr(s,a),a=El(a,s);var _=a==null?a:a[er(De(s))];return _==null?e:Pe(_,a,l)}function Mf(a){return Kt(a)&&ye(a)==dt}function vm(a){return Kt(a)&&ye(a)==ri}function _m(a){return Kt(a)&&ye(a)==It}function ci(a,s,l,_,y){return a===s?!0:a==null||s==null||!Kt(a)&&!Kt(s)?a!==a&&s!==s:gm(a,s,l,_,ci,y)}function gm(a,s,l,_,y,I){var R=gt(a),w=gt(s),L=R?st:ge(a),H=w?st:ge(s);L=L==dt?ne:L,H=H==dt?ne:H;var k=L==ne,W=H==ne,j=L==H;if(j&&kr(a)){if(!kr(s))return!1;R=!0,k=!1}if(j&&!k)return I||(I=new We),R||Fn(a)?gl(a,s,l,_,y,I):Wm(a,s,L,l,_,y,I);if(!(l&m)){var tt=k&&Ht.call(a,"__wrapped__"),ft=W&&Ht.call(s,"__wrapped__");if(tt||ft){var Tt=tt?a.value():a,lt=ft?s.value():s;return I||(I=new We),y(Tt,lt,l,_,I)}}return j?(I||(I=new We),zm(a,s,l,_,y,I)):!1}function mm(a){return Kt(a)&&ge(a)==Rt}function fs(a,s,l,_){var y=l.length,I=y,R=!_;if(a==null)return!I;for(a=Xt(a);y--;){var w=l[y];if(R&&w[2]?w[1]!==a[w[0]]:!(w[0]in a))return!1}for(;++y<I;){w=l[y];var L=w[0],H=a[L],k=w[1];if(R&&w[2]){if(H===e&&!(L in a))return!1}else{var W=new We;if(_)var j=_(H,k,L,a,s,W);if(!(j===e?ci(k,H,m|x,_,W):j))return!1}}return!0}function Hf(a){if(!qt(a)||ty(a))return!1;var s=_r(a)?mg:u0;return s.test(nn(a))}function ym(a){return Kt(a)&&ye(a)==Nr}function xm(a){return Kt(a)&&ge(a)==Ie}function Tm(a){return Kt(a)&&Oa(a.length)&&!!zt[ye(a)]}function kf(a){return typeof a=="function"?a:a==null?Ce:typeof a=="object"?gt(a)?Vf(a[0],a[1]):Xf(a):uc(a)}function ls(a){if(!vi(a))return Eg(a);var s=[];for(var l in Xt(a))Ht.call(a,l)&&l!="constructor"&&s.push(l);return s}function bm(a){if(!qt(a))return iy(a);var s=vi(a),l=[];for(var _ in a)_=="constructor"&&(s||!Ht.call(a,_))||l.push(_);return l}function cs(a,s){return a<s}function Df(a,s){var l=-1,_=Re(a)?F(a.length):[];return Gr(a,function(y,I,R){_[++l]=s(y,I,R)}),_}function Xf(a){var s=Cs(a);return s.length==1&&s[0][2]?bl(s[0][0],s[0][1]):function(l){return l===a||fs(l,a,s)}}function Vf(a,s){return Ps(a)&&Tl(s)?bl(er(a),s):function(l){var _=Hs(l,a);return _===e&&_===s?ks(l,a):ci(s,_,m|x)}}function _a(a,s,l,_,y){a!==s&&os(s,function(I,R){if(y||(y=new We),qt(I))Im(a,s,R,l,_a,_,y);else{var w=_?_(Us(a,R),I,R+"",a,s,y):e;w===e&&(w=I),is(a,R,w)}},we)}function Im(a,s,l,_,y,I,R){var w=Us(a,l),L=Us(s,l),H=R.get(L);if(H){is(a,l,H);return}var k=I?I(w,L,l+"",a,s,R):e,W=k===e;if(W){var j=gt(L),tt=!j&&kr(L),ft=!j&&!tt&&Fn(L);k=L,j||tt||ft?gt(w)?k=w:te(w)?k=Ee(w):tt?(W=!1,k=el(L,!0)):ft?(W=!1,k=rl(L,!0)):k=[]:gi(L)||an(L)?(k=w,an(w)?k=Jl(w):(!qt(w)||_r(w))&&(k=xl(L))):W=!1}W&&(R.set(L,k),y(k,L,_,I,R),R.delete(L)),is(a,l,k)}function Wf(a,s){var l=a.length;if(!!l)return s+=s<0?l:0,vr(s,l)?a[s]:e}function zf(a,s,l){s.length?s=$t(s,function(I){return gt(I)?function(R){return en(R,I.length===1?I[0]:I)}:I}):s=[Ce];var _=-1;s=$t(s,Ne(ht()));var y=Df(a,function(I,R,w){var L=$t(s,function(H){return H(I)});return{criteria:L,index:++_,value:I}});return Z0(y,function(I,R){return Gm(I,R,l)})}function Em(a,s){return jf(a,s,function(l,_){return ks(a,_)})}function jf(a,s,l){for(var _=-1,y=s.length,I={};++_<y;){var R=s[_],w=en(a,R);l(w,R)&&di(I,Mr(R,a),w)}return I}function Rm(a){return function(s){return en(s,a)}}function ds(a,s,l,_){var y=_?Y0:En,I=-1,R=s.length,w=a;for(a===s&&(s=Ee(s)),l&&(w=$t(a,Ne(l)));++I<R;)for(var L=0,H=s[I],k=l?l(H):H;(L=y(w,k,L,_))>-1;)w!==a&&oa.call(w,L,1),oa.call(a,L,1);return a}function $f(a,s){for(var l=a?s.length:0,_=l-1;l--;){var y=s[l];if(l==_||y!==I){var I=y;vr(y)?oa.call(a,y,1):gs(a,y)}}return a}function ps(a,s){return a+ha(Cf()*(s-a+1))}function wm(a,s,l,_){for(var y=-1,I=oe(ua((s-a)/(l||1)),0),R=F(I);I--;)R[_?I:++y]=a,a+=l;return R}function vs(a,s){var l="";if(!a||s<1||s>Gt)return l;do s%2&&(l+=a),s=ha(s/2),s&&(a+=a);while(s);return l}function Et(a,s){return Os(Il(a,s,Ce),a+"")}function Cm(a){return Nf(Gn(a))}function Am(a,s){var l=Gn(a);return wa(l,tn(s,0,l.length))}function di(a,s,l,_){if(!qt(a))return a;s=Mr(s,a);for(var y=-1,I=s.length,R=I-1,w=a;w!=null&&++y<I;){var L=er(s[y]),H=l;if(L==="__proto__"||L==="constructor"||L==="prototype")return a;if(y!=R){var k=w[L];H=_?_(k,L,w):e,H===e&&(H=qt(k)?k:vr(s[y+1])?[]:{})}hi(w,L,H),w=w[L]}return a}var qf=fa?function(a,s){return fa.set(a,s),a}:Ce,Pm=sa?function(a,s){return sa(a,"toString",{configurable:!0,enumerable:!1,value:Xs(s),writable:!0})}:Ce;function Nm(a){return wa(Gn(a))}function ke(a,s,l){var _=-1,y=a.length;s<0&&(s=-s>y?0:y+s),l=l>y?y:l,l<0&&(l+=y),y=s>l?0:l-s>>>0,s>>>=0;for(var I=F(y);++_<y;)I[_]=a[_+s];return I}function Um(a,s){var l;return Gr(a,function(_,y,I){return l=s(_,y,I),!l}),!!l}function ga(a,s,l){var _=0,y=a==null?_:a.length;if(typeof s=="number"&&s===s&&y<=et){for(;_<y;){var I=_+y>>>1,R=a[I];R!==null&&!Oe(R)&&(l?R<=s:R<s)?_=I+1:y=I}return y}return _s(a,s,Ce,l)}function _s(a,s,l,_){var y=0,I=a==null?0:a.length;if(I===0)return 0;s=l(s);for(var R=s!==s,w=s===null,L=Oe(s),H=s===e;y<I;){var k=ha((y+I)/2),W=l(a[k]),j=W!==e,tt=W===null,ft=W===W,Tt=Oe(W);if(R)var lt=_||ft;else H?lt=ft&&(_||j):w?lt=ft&&j&&(_||!tt):L?lt=ft&&j&&!tt&&(_||!Tt):tt||Tt?lt=!1:lt=_?W<=s:W<s;lt?y=k+1:I=k}return _e(I,q)}function Yf(a,s){for(var l=-1,_=a.length,y=0,I=[];++l<_;){var R=a[l],w=s?s(R):R;if(!l||!ze(w,L)){var L=w;I[y++]=R===0?0:R}}return I}function Zf(a){return typeof a=="number"?a:Oe(a)?S:+a}function Ue(a){if(typeof a=="string")return a;if(gt(a))return $t(a,Ue)+"";if(Oe(a))return Af?Af.call(a):"";var s=a+"";return s=="0"&&1/a==-ct?"-0":s}function Br(a,s,l){var _=-1,y=Zi,I=a.length,R=!0,w=[],L=w;if(l)R=!1,y=zo;else if(I>=i){var H=s?null:Xm(a);if(H)return Ji(H);R=!1,y=ni,L=new Qr}else L=s?[]:w;t:for(;++_<I;){var k=a[_],W=s?s(k):k;if(k=l||k!==0?k:0,R&&W===W){for(var j=L.length;j--;)if(L[j]===W)continue t;s&&L.push(W),w.push(k)}else y(L,W,l)||(L!==w&&L.push(W),w.push(k))}return w}function gs(a,s){return s=Mr(s,a),a=El(a,s),a==null||delete a[er(De(s))]}function Kf(a,s,l,_){return di(a,s,l(en(a,s)),_)}function ma(a,s,l,_){for(var y=a.length,I=_?y:-1;(_?I--:++I<y)&&s(a[I],I,a););return l?ke(a,_?0:I,_?I+1:y):ke(a,_?I+1:0,_?y:I)}function Jf(a,s){var l=a;return l instanceof Pt&&(l=l.value()),jo(s,function(_,y){return y.func.apply(y.thisArg,Lr([_],y.args))},l)}function ms(a,s,l){var _=a.length;if(_<2)return _?Br(a[0]):[];for(var y=-1,I=F(_);++y<_;)for(var R=a[y],w=-1;++w<_;)w!=y&&(I[y]=fi(I[y]||R,a[w],s,l));return Br(pe(I,1),s,l)}function Qf(a,s,l){for(var _=-1,y=a.length,I=s.length,R={};++_<y;){var w=_<I?s[_]:e;l(R,a[_],w)}return R}function ys(a){return te(a)?a:[]}function xs(a){return typeof a=="function"?a:Ce}function Mr(a,s){return gt(a)?a:Ps(a,s)?[a]:Al(Mt(a))}var Om=Et;function Hr(a,s,l){var _=a.length;return l=l===e?_:l,!s&&l>=_?a:ke(a,s,l)}var tl=yg||function(a){return de.clearTimeout(a)};function el(a,s){if(s)return a.slice();var l=a.length,_=bf?bf(l):new a.constructor(l);return a.copy(_),_}function Ts(a){var s=new a.constructor(a.byteLength);return new ia(s).set(new ia(a)),s}function Lm(a,s){var l=s?Ts(a.buffer):a.buffer;return new a.constructor(l,a.byteOffset,a.byteLength)}function Sm(a){var s=new a.constructor(a.source,Bh.exec(a));return s.lastIndex=a.lastIndex,s}function Fm(a){return ui?Xt(ui.call(a)):{}}function rl(a,s){var l=s?Ts(a.buffer):a.buffer;return new a.constructor(l,a.byteOffset,a.length)}function nl(a,s){if(a!==s){var l=a!==e,_=a===null,y=a===a,I=Oe(a),R=s!==e,w=s===null,L=s===s,H=Oe(s);if(!w&&!H&&!I&&a>s||I&&R&&L&&!w&&!H||_&&R&&L||!l&&L||!y)return 1;if(!_&&!I&&!H&&a<s||H&&l&&y&&!_&&!I||w&&l&&y||!R&&y||!L)return-1}return 0}function Gm(a,s,l){for(var _=-1,y=a.criteria,I=s.criteria,R=y.length,w=l.length;++_<R;){var L=nl(y[_],I[_]);if(L){if(_>=w)return L;var H=l[_];return L*(H=="desc"?-1:1)}}return a.index-s.index}function il(a,s,l,_){for(var y=-1,I=a.length,R=l.length,w=-1,L=s.length,H=oe(I-R,0),k=F(L+H),W=!_;++w<L;)k[w]=s[w];for(;++y<R;)(W||y<I)&&(k[l[y]]=a[y]);for(;H--;)k[w++]=a[y++];return k}function al(a,s,l,_){for(var y=-1,I=a.length,R=-1,w=l.length,L=-1,H=s.length,k=oe(I-w,0),W=F(k+H),j=!_;++y<k;)W[y]=a[y];for(var tt=y;++L<H;)W[tt+L]=s[L];for(;++R<w;)(j||y<I)&&(W[tt+l[R]]=a[y++]);return W}function Ee(a,s){var l=-1,_=a.length;for(s||(s=F(_));++l<_;)s[l]=a[l];return s}function tr(a,s,l,_){var y=!l;l||(l={});for(var I=-1,R=s.length;++I<R;){var w=s[I],L=_?_(l[w],a[w],w,l,a):e;L===e&&(L=a[w]),y?cr(l,w,L):hi(l,w,L)}return l}function Bm(a,s){return tr(a,As(a),s)}function Mm(a,s){return tr(a,ml(a),s)}function ya(a,s){return function(l,_){var y=gt(l)?V0:om,I=s?s():{};return y(l,a,ht(_,2),I)}}function On(a){return Et(function(s,l){var _=-1,y=l.length,I=y>1?l[y-1]:e,R=y>2?l[2]:e;for(I=a.length>3&&typeof I=="function"?(y--,I):e,R&&xe(l[0],l[1],R)&&(I=y<3?e:I,y=1),s=Xt(s);++_<y;){var w=l[_];w&&a(s,w,_,I)}return s})}function ol(a,s){return function(l,_){if(l==null)return l;if(!Re(l))return a(l,_);for(var y=l.length,I=s?y:-1,R=Xt(l);(s?I--:++I<y)&&_(R[I],I,R)!==!1;);return l}}function sl(a){return function(s,l,_){for(var y=-1,I=Xt(s),R=_(s),w=R.length;w--;){var L=R[a?w:++y];if(l(I[L],L,I)===!1)break}return s}}function Hm(a,s,l){var _=s&T,y=pi(a);function I(){var R=this&&this!==de&&this instanceof I?y:a;return R.apply(_?l:this,arguments)}return I}function ul(a){return function(s){s=Mt(s);var l=Rn(s)?Ve(s):e,_=l?l[0]:s.charAt(0),y=l?Hr(l,1).join(""):s.slice(1);return _[a]()+y}}function Ln(a){return function(s){return jo(oc(ac(s).replace(P0,"")),a,"")}}function pi(a){return function(){var s=arguments;switch(s.length){case 0:return new a;case 1:return new a(s[0]);case 2:return new a(s[0],s[1]);case 3:return new a(s[0],s[1],s[2]);case 4:return new a(s[0],s[1],s[2],s[3]);case 5:return new a(s[0],s[1],s[2],s[3],s[4]);case 6:return new a(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new a(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var l=Un(a.prototype),_=a.apply(l,s);return qt(_)?_:l}}function km(a,s,l){var _=pi(a);function y(){for(var I=arguments.length,R=F(I),w=I,L=Sn(y);w--;)R[w]=arguments[w];var H=I<3&&R[0]!==L&&R[I-1]!==L?[]:Sr(R,L);if(I-=H.length,I<l)return dl(a,s,xa,y.placeholder,e,R,H,e,e,l-I);var k=this&&this!==de&&this instanceof y?_:a;return Pe(k,this,R)}return y}function hl(a){return function(s,l,_){var y=Xt(s);if(!Re(s)){var I=ht(l,3);s=fe(s),l=function(w){return I(y[w],w,y)}}var R=a(s,l,_);return R>-1?y[I?s[R]:R]:e}}function fl(a){return pr(function(s){var l=s.length,_=l,y=Me.prototype.thru;for(a&&s.reverse();_--;){var I=s[_];if(typeof I!="function")throw new Be(u);if(y&&!R&&Ea(I)=="wrapper")var R=new Me([],!0)}for(_=R?_:l;++_<l;){I=s[_];var w=Ea(I),L=w=="wrapper"?ws(I):e;L&&Ns(L[0])&&L[1]==(M|P|A|V)&&!L[4].length&&L[9]==1?R=R[Ea(L[0])].apply(R,L[3]):R=I.length==1&&Ns(I)?R[w]():R.thru(I)}return function(){var H=arguments,k=H[0];if(R&&H.length==1&&gt(k))return R.plant(k).value();for(var W=0,j=l?s[W].apply(this,H):k;++W<l;)j=s[W].call(this,j);return j}})}function xa(a,s,l,_,y,I,R,w,L,H){var k=s&M,W=s&T,j=s&E,tt=s&(P|N),ft=s&G,Tt=j?e:pi(a);function lt(){for(var wt=arguments.length,Ut=F(wt),Le=wt;Le--;)Ut[Le]=arguments[Le];if(tt)var Te=Sn(lt),Se=J0(Ut,Te);if(_&&(Ut=il(Ut,_,y,tt)),I&&(Ut=al(Ut,I,R,tt)),wt-=Se,tt&&wt<H){var ee=Sr(Ut,Te);return dl(a,s,xa,lt.placeholder,l,Ut,ee,w,L,H-wt)}var je=W?l:this,mr=j?je[a]:a;return wt=Ut.length,w?Ut=oy(Ut,w):ft&&wt>1&&Ut.reverse(),k&&L<wt&&(Ut.length=L),this&&this!==de&&this instanceof lt&&(mr=Tt||pi(mr)),mr.apply(je,Ut)}return lt}function ll(a,s){return function(l,_){return pm(l,a,s(_),{})}}function Ta(a,s){return function(l,_){var y;if(l===e&&_===e)return s;if(l!==e&&(y=l),_!==e){if(y===e)return _;typeof l=="string"||typeof _=="string"?(l=Ue(l),_=Ue(_)):(l=Zf(l),_=Zf(_)),y=a(l,_)}return y}}function bs(a){return pr(function(s){return s=$t(s,Ne(ht())),Et(function(l){var _=this;return a(s,function(y){return Pe(y,_,l)})})})}function ba(a,s){s=s===e?" ":Ue(s);var l=s.length;if(l<2)return l?vs(s,a):s;var _=vs(s,ua(a/wn(s)));return Rn(s)?Hr(Ve(_),0,a).join(""):_.slice(0,a)}function Dm(a,s,l,_){var y=s&T,I=pi(a);function R(){for(var w=-1,L=arguments.length,H=-1,k=_.length,W=F(k+L),j=this&&this!==de&&this instanceof R?I:a;++H<k;)W[H]=_[H];for(;L--;)W[H++]=arguments[++w];return Pe(j,y?l:this,W)}return R}function cl(a){return function(s,l,_){return _&&typeof _!="number"&&xe(s,l,_)&&(l=_=e),s=gr(s),l===e?(l=s,s=0):l=gr(l),_=_===e?s<l?1:-1:gr(_),wm(s,l,_,a)}}function Ia(a){return function(s,l){return typeof s=="string"&&typeof l=="string"||(s=Xe(s),l=Xe(l)),a(s,l)}}function dl(a,s,l,_,y,I,R,w,L,H){var k=s&P,W=k?R:e,j=k?e:R,tt=k?I:e,ft=k?e:I;s|=k?A:C,s&=~(k?C:A),s&U||(s&=~(T|E));var Tt=[a,s,y,tt,W,ft,j,w,L,H],lt=l.apply(e,Tt);return Ns(a)&&Rl(lt,Tt),lt.placeholder=_,wl(lt,a,s)}function Is(a){var s=ae[a];return function(l,_){if(l=Xe(l),_=_==null?0:_e(yt(_),292),_&&wf(l)){var y=(Mt(l)+"e").split("e"),I=s(y[0]+"e"+(+y[1]+_));return y=(Mt(I)+"e").split("e"),+(y[0]+"e"+(+y[1]-_))}return s(l)}}var Xm=Pn&&1/Ji(new Pn([,-0]))[1]==ct?function(a){return new Pn(a)}:zs;function pl(a){return function(s){var l=ge(s);return l==Rt?Qo(s):l==Ie?ag(s):K0(s,a(s))}}function dr(a,s,l,_,y,I,R,w){var L=s&E;if(!L&&typeof a!="function")throw new Be(u);var H=_?_.length:0;if(H||(s&=~(A|C),_=y=e),R=R===e?R:oe(yt(R),0),w=w===e?w:yt(w),H-=y?y.length:0,s&C){var k=_,W=y;_=y=e}var j=L?e:ws(a),tt=[a,s,l,_,y,k,W,I,R,w];if(j&&ny(tt,j),a=tt[0],s=tt[1],l=tt[2],_=tt[3],y=tt[4],w=tt[9]=tt[9]===e?L?0:a.length:oe(tt[9]-H,0),!w&&s&(P|N)&&(s&=~(P|N)),!s||s==T)var ft=Hm(a,s,l);else s==P||s==N?ft=km(a,s,w):(s==A||s==(T|A))&&!y.length?ft=Dm(a,s,l,_):ft=xa.apply(e,tt);var Tt=j?qf:Rl;return wl(Tt(ft,tt),a,s)}function vl(a,s,l,_){return a===e||ze(a,An[l])&&!Ht.call(_,l)?s:a}function _l(a,s,l,_,y,I){return qt(a)&&qt(s)&&(I.set(s,a),_a(a,s,e,_l,I),I.delete(s)),a}function Vm(a){return gi(a)?e:a}function gl(a,s,l,_,y,I){var R=l&m,w=a.length,L=s.length;if(w!=L&&!(R&&L>w))return!1;var H=I.get(a),k=I.get(s);if(H&&k)return H==s&&k==a;var W=-1,j=!0,tt=l&x?new Qr:e;for(I.set(a,s),I.set(s,a);++W<w;){var ft=a[W],Tt=s[W];if(_)var lt=R?_(Tt,ft,W,s,a,I):_(ft,Tt,W,a,s,I);if(lt!==e){if(lt)continue;j=!1;break}if(tt){if(!$o(s,function(wt,Ut){if(!ni(tt,Ut)&&(ft===wt||y(ft,wt,l,_,I)))return tt.push(Ut)})){j=!1;break}}else if(!(ft===Tt||y(ft,Tt,l,_,I))){j=!1;break}}return I.delete(a),I.delete(s),j}function Wm(a,s,l,_,y,I,R){switch(l){case bn:if(a.byteLength!=s.byteLength||a.byteOffset!=s.byteOffset)return!1;a=a.buffer,s=s.buffer;case ri:return!(a.byteLength!=s.byteLength||!I(new ia(a),new ia(s)));case At:case It:case Ft:return ze(+a,+s);case ut:return a.name==s.name&&a.message==s.message;case Nr:case Ur:return a==s+"";case Rt:var w=Qo;case Ie:var L=_&m;if(w||(w=Ji),a.size!=s.size&&!L)return!1;var H=R.get(a);if(H)return H==s;_|=x,R.set(a,s);var k=gl(w(a),w(s),_,y,I,R);return R.delete(a),k;case Yr:if(ui)return ui.call(a)==ui.call(s)}return!1}function zm(a,s,l,_,y,I){var R=l&m,w=Es(a),L=w.length,H=Es(s),k=H.length;if(L!=k&&!R)return!1;for(var W=L;W--;){var j=w[W];if(!(R?j in s:Ht.call(s,j)))return!1}var tt=I.get(a),ft=I.get(s);if(tt&&ft)return tt==s&&ft==a;var Tt=!0;I.set(a,s),I.set(s,a);for(var lt=R;++W<L;){j=w[W];var wt=a[j],Ut=s[j];if(_)var Le=R?_(Ut,wt,j,s,a,I):_(wt,Ut,j,a,s,I);if(!(Le===e?wt===Ut||y(wt,Ut,l,_,I):Le)){Tt=!1;break}lt||(lt=j=="constructor")}if(Tt&&!lt){var Te=a.constructor,Se=s.constructor;Te!=Se&&"constructor"in a&&"constructor"in s&&!(typeof Te=="function"&&Te instanceof Te&&typeof Se=="function"&&Se instanceof Se)&&(Tt=!1)}return I.delete(a),I.delete(s),Tt}function pr(a){return Os(Il(a,e,Ol),a+"")}function Es(a){return Bf(a,fe,As)}function Rs(a){return Bf(a,we,ml)}var ws=fa?function(a){return fa.get(a)}:zs;function Ea(a){for(var s=a.name+"",l=Nn[s],_=Ht.call(Nn,s)?l.length:0;_--;){var y=l[_],I=y.func;if(I==null||I==a)return y.name}return s}function Sn(a){var s=Ht.call(b,"placeholder")?b:a;return s.placeholder}function ht(){var a=b.iteratee||Vs;return a=a===Vs?kf:a,arguments.length?a(arguments[0],arguments[1]):a}function Ra(a,s){var l=a.__data__;return Qm(s)?l[typeof s=="string"?"string":"hash"]:l.map}function Cs(a){for(var s=fe(a),l=s.length;l--;){var _=s[l],y=a[_];s[l]=[_,y,Tl(y)]}return s}function rn(a,s){var l=rg(a,s);return Hf(l)?l:e}function jm(a){var s=Ht.call(a,Kr),l=a[Kr];try{a[Kr]=e;var _=!0}catch{}var y=ra.call(a);return _&&(s?a[Kr]=l:delete a[Kr]),y}var As=es?function(a){return a==null?[]:(a=Xt(a),Or(es(a),function(s){return Ef.call(a,s)}))}:js,ml=es?function(a){for(var s=[];a;)Lr(s,As(a)),a=aa(a);return s}:js,ge=ye;(rs&&ge(new rs(new ArrayBuffer(1)))!=bn||ai&&ge(new ai)!=Rt||ns&&ge(ns.resolve())!=hr||Pn&&ge(new Pn)!=Ie||oi&&ge(new oi)!=ei)&&(ge=function(a){var s=ye(a),l=s==ne?a.constructor:e,_=l?nn(l):"";if(_)switch(_){case Ag:return bn;case Pg:return Rt;case Ng:return hr;case Ug:return Ie;case Og:return ei}return s});function $m(a,s,l){for(var _=-1,y=l.length;++_<y;){var I=l[_],R=I.size;switch(I.type){case"drop":a+=R;break;case"dropRight":s-=R;break;case"take":s=_e(s,a+R);break;case"takeRight":a=oe(a,s-R);break}}return{start:a,end:s}}function qm(a){var s=a.match(t0);return s?s[1].split(e0):[]}function yl(a,s,l){s=Mr(s,a);for(var _=-1,y=s.length,I=!1;++_<y;){var R=er(s[_]);if(!(I=a!=null&&l(a,R)))break;a=a[R]}return I||++_!=y?I:(y=a==null?0:a.length,!!y&&Oa(y)&&vr(R,y)&&(gt(a)||an(a)))}function Ym(a){var s=a.length,l=new a.constructor(s);return s&&typeof a[0]=="string"&&Ht.call(a,"index")&&(l.index=a.index,l.input=a.input),l}function xl(a){return typeof a.constructor=="function"&&!vi(a)?Un(aa(a)):{}}function Zm(a,s,l){var _=a.constructor;switch(s){case ri:return Ts(a);case At:case It:return new _(+a);case bn:return Lm(a,l);case Co:case Ao:case Po:case No:case Uo:case Oo:case Lo:case So:case Fo:return rl(a,l);case Rt:return new _;case Ft:case Ur:return new _(a);case Nr:return Sm(a);case Ie:return new _;case Yr:return Fm(a)}}function Km(a,s){var l=s.length;if(!l)return a;var _=l-1;return s[_]=(l>1?"& ":"")+s[_],s=s.join(l>2?", ":" "),a.replace(Q_,`{
/* [wrapped with `+s+`] */
`)}function Jm(a){return gt(a)||an(a)||!!(Rf&&a&&a[Rf])}function vr(a,s){var l=typeof a;return s=s==null?Gt:s,!!s&&(l=="number"||l!="symbol"&&f0.test(a))&&a>-1&&a%1==0&&a<s}function xe(a,s,l){if(!qt(l))return!1;var _=typeof s;return(_=="number"?Re(l)&&vr(s,l.length):_=="string"&&s in l)?ze(l[s],a):!1}function Ps(a,s){if(gt(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||Oe(a)?!0:Y_.test(a)||!q_.test(a)||s!=null&&a in Xt(s)}function Qm(a){var s=typeof a;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?a!=="__proto__":a===null}function Ns(a){var s=Ea(a),l=b[s];if(typeof l!="function"||!(s in Pt.prototype))return!1;if(a===l)return!0;var _=ws(l);return!!_&&a===_[0]}function ty(a){return!!Tf&&Tf in a}var ey=ta?_r:$s;function vi(a){var s=a&&a.constructor,l=typeof s=="function"&&s.prototype||An;return a===l}function Tl(a){return a===a&&!qt(a)}function bl(a,s){return function(l){return l==null?!1:l[a]===s&&(s!==e||a in Xt(l))}}function ry(a){var s=Na(a,function(_){return l.size===c&&l.clear(),_}),l=s.cache;return s}function ny(a,s){var l=a[1],_=s[1],y=l|_,I=y<(T|E|M),R=_==M&&l==P||_==M&&l==V&&a[7].length<=s[8]||_==(M|V)&&s[7].length<=s[8]&&l==P;if(!(I||R))return a;_&T&&(a[2]=s[2],y|=l&T?0:U);var w=s[3];if(w){var L=a[3];a[3]=L?il(L,w,s[4]):w,a[4]=L?Sr(a[3],d):s[4]}return w=s[5],w&&(L=a[5],a[5]=L?al(L,w,s[6]):w,a[6]=L?Sr(a[5],d):s[6]),w=s[7],w&&(a[7]=w),_&M&&(a[8]=a[8]==null?s[8]:_e(a[8],s[8])),a[9]==null&&(a[9]=s[9]),a[0]=s[0],a[1]=y,a}function iy(a){var s=[];if(a!=null)for(var l in Xt(a))s.push(l);return s}function ay(a){return ra.call(a)}function Il(a,s,l){return s=oe(s===e?a.length-1:s,0),function(){for(var _=arguments,y=-1,I=oe(_.length-s,0),R=F(I);++y<I;)R[y]=_[s+y];y=-1;for(var w=F(s+1);++y<s;)w[y]=_[y];return w[s]=l(R),Pe(a,this,w)}}function El(a,s){return s.length<2?a:en(a,ke(s,0,-1))}function oy(a,s){for(var l=a.length,_=_e(s.length,l),y=Ee(a);_--;){var I=s[_];a[_]=vr(I,l)?y[I]:e}return a}function Us(a,s){if(!(s==="constructor"&&typeof a[s]=="function")&&s!="__proto__")return a[s]}var Rl=Cl(qf),_i=Tg||function(a,s){return de.setTimeout(a,s)},Os=Cl(Pm);function wl(a,s,l){var _=s+"";return Os(a,Km(_,sy(qm(_),l)))}function Cl(a){var s=0,l=0;return function(){var _=Rg(),y=rt-(_-l);if(l=_,y>0){if(++s>=Q)return arguments[0]}else s=0;return a.apply(e,arguments)}}function wa(a,s){var l=-1,_=a.length,y=_-1;for(s=s===e?_:s;++l<s;){var I=ps(l,y),R=a[I];a[I]=a[l],a[l]=R}return a.length=s,a}var Al=ry(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(Z_,function(l,_,y,I){s.push(y?I.replace(i0,"$1"):_||l)}),s});function er(a){if(typeof a=="string"||Oe(a))return a;var s=a+"";return s=="0"&&1/a==-ct?"-0":s}function nn(a){if(a!=null){try{return ea.call(a)}catch{}try{return a+""}catch{}}return""}function sy(a,s){return Ge(ot,function(l){var _="_."+l[0];s&l[1]&&!Zi(a,_)&&a.push(_)}),a.sort()}function Pl(a){if(a instanceof Pt)return a.clone();var s=new Me(a.__wrapped__,a.__chain__);return s.__actions__=Ee(a.__actions__),s.__index__=a.__index__,s.__values__=a.__values__,s}function uy(a,s,l){(l?xe(a,s,l):s===e)?s=1:s=oe(yt(s),0);var _=a==null?0:a.length;if(!_||s<1)return[];for(var y=0,I=0,R=F(ua(_/s));y<_;)R[I++]=ke(a,y,y+=s);return R}function hy(a){for(var s=-1,l=a==null?0:a.length,_=0,y=[];++s<l;){var I=a[s];I&&(y[_++]=I)}return y}function fy(){var a=arguments.length;if(!a)return[];for(var s=F(a-1),l=arguments[0],_=a;_--;)s[_-1]=arguments[_];return Lr(gt(l)?Ee(l):[l],pe(s,1))}var ly=Et(function(a,s){return te(a)?fi(a,pe(s,1,te,!0)):[]}),cy=Et(function(a,s){var l=De(s);return te(l)&&(l=e),te(a)?fi(a,pe(s,1,te,!0),ht(l,2)):[]}),dy=Et(function(a,s){var l=De(s);return te(l)&&(l=e),te(a)?fi(a,pe(s,1,te,!0),e,l):[]});function py(a,s,l){var _=a==null?0:a.length;return _?(s=l||s===e?1:yt(s),ke(a,s<0?0:s,_)):[]}function vy(a,s,l){var _=a==null?0:a.length;return _?(s=l||s===e?1:yt(s),s=_-s,ke(a,0,s<0?0:s)):[]}function _y(a,s){return a&&a.length?ma(a,ht(s,3),!0,!0):[]}function gy(a,s){return a&&a.length?ma(a,ht(s,3),!0):[]}function my(a,s,l,_){var y=a==null?0:a.length;return y?(l&&typeof l!="number"&&xe(a,s,l)&&(l=0,_=y),fm(a,s,l,_)):[]}function Nl(a,s,l){var _=a==null?0:a.length;if(!_)return-1;var y=l==null?0:yt(l);return y<0&&(y=oe(_+y,0)),Ki(a,ht(s,3),y)}function Ul(a,s,l){var _=a==null?0:a.length;if(!_)return-1;var y=_-1;return l!==e&&(y=yt(l),y=l<0?oe(_+y,0):_e(y,_-1)),Ki(a,ht(s,3),y,!0)}function Ol(a){var s=a==null?0:a.length;return s?pe(a,1):[]}function yy(a){var s=a==null?0:a.length;return s?pe(a,ct):[]}function xy(a,s){var l=a==null?0:a.length;return l?(s=s===e?1:yt(s),pe(a,s)):[]}function Ty(a){for(var s=-1,l=a==null?0:a.length,_={};++s<l;){var y=a[s];_[y[0]]=y[1]}return _}function Ll(a){return a&&a.length?a[0]:e}function by(a,s,l){var _=a==null?0:a.length;if(!_)return-1;var y=l==null?0:yt(l);return y<0&&(y=oe(_+y,0)),En(a,s,y)}function Iy(a){var s=a==null?0:a.length;return s?ke(a,0,-1):[]}var Ey=Et(function(a){var s=$t(a,ys);return s.length&&s[0]===a[0]?hs(s):[]}),Ry=Et(function(a){var s=De(a),l=$t(a,ys);return s===De(l)?s=e:l.pop(),l.length&&l[0]===a[0]?hs(l,ht(s,2)):[]}),wy=Et(function(a){var s=De(a),l=$t(a,ys);return s=typeof s=="function"?s:e,s&&l.pop(),l.length&&l[0]===a[0]?hs(l,e,s):[]});function Cy(a,s){return a==null?"":Ig.call(a,s)}function De(a){var s=a==null?0:a.length;return s?a[s-1]:e}function Ay(a,s,l){var _=a==null?0:a.length;if(!_)return-1;var y=_;return l!==e&&(y=yt(l),y=y<0?oe(_+y,0):_e(y,_-1)),s===s?sg(a,s,y):Ki(a,df,y,!0)}function Py(a,s){return a&&a.length?Wf(a,yt(s)):e}var Ny=Et(Sl);function Sl(a,s){return a&&a.length&&s&&s.length?ds(a,s):a}function Uy(a,s,l){return a&&a.length&&s&&s.length?ds(a,s,ht(l,2)):a}function Oy(a,s,l){return a&&a.length&&s&&s.length?ds(a,s,e,l):a}var Ly=pr(function(a,s){var l=a==null?0:a.length,_=as(a,s);return $f(a,$t(s,function(y){return vr(y,l)?+y:y}).sort(nl)),_});function Sy(a,s){var l=[];if(!(a&&a.length))return l;var _=-1,y=[],I=a.length;for(s=ht(s,3);++_<I;){var R=a[_];s(R,_,a)&&(l.push(R),y.push(_))}return $f(a,y),l}function Ls(a){return a==null?a:Cg.call(a)}function Fy(a,s,l){var _=a==null?0:a.length;return _?(l&&typeof l!="number"&&xe(a,s,l)?(s=0,l=_):(s=s==null?0:yt(s),l=l===e?_:yt(l)),ke(a,s,l)):[]}function Gy(a,s){return ga(a,s)}function By(a,s,l){return _s(a,s,ht(l,2))}function My(a,s){var l=a==null?0:a.length;if(l){var _=ga(a,s);if(_<l&&ze(a[_],s))return _}return-1}function Hy(a,s){return ga(a,s,!0)}function ky(a,s,l){return _s(a,s,ht(l,2),!0)}function Dy(a,s){var l=a==null?0:a.length;if(l){var _=ga(a,s,!0)-1;if(ze(a[_],s))return _}return-1}function Xy(a){return a&&a.length?Yf(a):[]}function Vy(a,s){return a&&a.length?Yf(a,ht(s,2)):[]}function Wy(a){var s=a==null?0:a.length;return s?ke(a,1,s):[]}function zy(a,s,l){return a&&a.length?(s=l||s===e?1:yt(s),ke(a,0,s<0?0:s)):[]}function jy(a,s,l){var _=a==null?0:a.length;return _?(s=l||s===e?1:yt(s),s=_-s,ke(a,s<0?0:s,_)):[]}function $y(a,s){return a&&a.length?ma(a,ht(s,3),!1,!0):[]}function qy(a,s){return a&&a.length?ma(a,ht(s,3)):[]}var Yy=Et(function(a){return Br(pe(a,1,te,!0))}),Zy=Et(function(a){var s=De(a);return te(s)&&(s=e),Br(pe(a,1,te,!0),ht(s,2))}),Ky=Et(function(a){var s=De(a);return s=typeof s=="function"?s:e,Br(pe(a,1,te,!0),e,s)});function Jy(a){return a&&a.length?Br(a):[]}function Qy(a,s){return a&&a.length?Br(a,ht(s,2)):[]}function t1(a,s){return s=typeof s=="function"?s:e,a&&a.length?Br(a,e,s):[]}function Ss(a){if(!(a&&a.length))return[];var s=0;return a=Or(a,function(l){if(te(l))return s=oe(l.length,s),!0}),Ko(s,function(l){return $t(a,qo(l))})}function Fl(a,s){if(!(a&&a.length))return[];var l=Ss(a);return s==null?l:$t(l,function(_){return Pe(s,e,_)})}var e1=Et(function(a,s){return te(a)?fi(a,s):[]}),r1=Et(function(a){return ms(Or(a,te))}),n1=Et(function(a){var s=De(a);return te(s)&&(s=e),ms(Or(a,te),ht(s,2))}),i1=Et(function(a){var s=De(a);return s=typeof s=="function"?s:e,ms(Or(a,te),e,s)}),a1=Et(Ss);function o1(a,s){return Qf(a||[],s||[],hi)}function s1(a,s){return Qf(a||[],s||[],di)}var u1=Et(function(a){var s=a.length,l=s>1?a[s-1]:e;return l=typeof l=="function"?(a.pop(),l):e,Fl(a,l)});function Gl(a){var s=b(a);return s.__chain__=!0,s}function h1(a,s){return s(a),a}function Ca(a,s){return s(a)}var f1=pr(function(a){var s=a.length,l=s?a[0]:0,_=this.__wrapped__,y=function(I){return as(I,a)};return s>1||this.__actions__.length||!(_ instanceof Pt)||!vr(l)?this.thru(y):(_=_.slice(l,+l+(s?1:0)),_.__actions__.push({func:Ca,args:[y],thisArg:e}),new Me(_,this.__chain__).thru(function(I){return s&&!I.length&&I.push(e),I}))});function l1(){return Gl(this)}function c1(){return new Me(this.value(),this.__chain__)}function d1(){this.__values__===e&&(this.__values__=Zl(this.value()));var a=this.__index__>=this.__values__.length,s=a?e:this.__values__[this.__index__++];return{done:a,value:s}}function p1(){return this}function v1(a){for(var s,l=this;l instanceof ca;){var _=Pl(l);_.__index__=0,_.__values__=e,s?y.__wrapped__=_:s=_;var y=_;l=l.__wrapped__}return y.__wrapped__=a,s}function _1(){var a=this.__wrapped__;if(a instanceof Pt){var s=a;return this.__actions__.length&&(s=new Pt(this)),s=s.reverse(),s.__actions__.push({func:Ca,args:[Ls],thisArg:e}),new Me(s,this.__chain__)}return this.thru(Ls)}function g1(){return Jf(this.__wrapped__,this.__actions__)}var m1=ya(function(a,s,l){Ht.call(a,l)?++a[l]:cr(a,l,1)});function y1(a,s,l){var _=gt(a)?lf:hm;return l&&xe(a,s,l)&&(s=e),_(a,ht(s,3))}function x1(a,s){var l=gt(a)?Or:Ff;return l(a,ht(s,3))}var T1=hl(Nl),b1=hl(Ul);function I1(a,s){return pe(Aa(a,s),1)}function E1(a,s){return pe(Aa(a,s),ct)}function R1(a,s,l){return l=l===e?1:yt(l),pe(Aa(a,s),l)}function Bl(a,s){var l=gt(a)?Ge:Gr;return l(a,ht(s,3))}function Ml(a,s){var l=gt(a)?W0:Sf;return l(a,ht(s,3))}var w1=ya(function(a,s,l){Ht.call(a,l)?a[l].push(s):cr(a,l,[s])});function C1(a,s,l,_){a=Re(a)?a:Gn(a),l=l&&!_?yt(l):0;var y=a.length;return l<0&&(l=oe(y+l,0)),La(a)?l<=y&&a.indexOf(s,l)>-1:!!y&&En(a,s,l)>-1}var A1=Et(function(a,s,l){var _=-1,y=typeof s=="function",I=Re(a)?F(a.length):[];return Gr(a,function(R){I[++_]=y?Pe(s,R,l):li(R,s,l)}),I}),P1=ya(function(a,s,l){cr(a,l,s)});function Aa(a,s){var l=gt(a)?$t:Df;return l(a,ht(s,3))}function N1(a,s,l,_){return a==null?[]:(gt(s)||(s=s==null?[]:[s]),l=_?e:l,gt(l)||(l=l==null?[]:[l]),zf(a,s,l))}var U1=ya(function(a,s,l){a[l?0:1].push(s)},function(){return[[],[]]});function O1(a,s,l){var _=gt(a)?jo:vf,y=arguments.length<3;return _(a,ht(s,4),l,y,Gr)}function L1(a,s,l){var _=gt(a)?z0:vf,y=arguments.length<3;return _(a,ht(s,4),l,y,Sf)}function S1(a,s){var l=gt(a)?Or:Ff;return l(a,Ua(ht(s,3)))}function F1(a){var s=gt(a)?Nf:Cm;return s(a)}function G1(a,s,l){(l?xe(a,s,l):s===e)?s=1:s=yt(s);var _=gt(a)?im:Am;return _(a,s)}function B1(a){var s=gt(a)?am:Nm;return s(a)}function M1(a){if(a==null)return 0;if(Re(a))return La(a)?wn(a):a.length;var s=ge(a);return s==Rt||s==Ie?a.size:ls(a).length}function H1(a,s,l){var _=gt(a)?$o:Um;return l&&xe(a,s,l)&&(s=e),_(a,ht(s,3))}var k1=Et(function(a,s){if(a==null)return[];var l=s.length;return l>1&&xe(a,s[0],s[1])?s=[]:l>2&&xe(s[0],s[1],s[2])&&(s=[s[0]]),zf(a,pe(s,1),[])}),Pa=xg||function(){return de.Date.now()};function D1(a,s){if(typeof s!="function")throw new Be(u);return a=yt(a),function(){if(--a<1)return s.apply(this,arguments)}}function Hl(a,s,l){return s=l?e:s,s=a&&s==null?a.length:s,dr(a,M,e,e,e,e,s)}function kl(a,s){var l;if(typeof s!="function")throw new Be(u);return a=yt(a),function(){return--a>0&&(l=s.apply(this,arguments)),a<=1&&(s=e),l}}var Fs=Et(function(a,s,l){var _=T;if(l.length){var y=Sr(l,Sn(Fs));_|=A}return dr(a,_,s,l,y)}),Dl=Et(function(a,s,l){var _=T|E;if(l.length){var y=Sr(l,Sn(Dl));_|=A}return dr(s,_,a,l,y)});function Xl(a,s,l){s=l?e:s;var _=dr(a,P,e,e,e,e,e,s);return _.placeholder=Xl.placeholder,_}function Vl(a,s,l){s=l?e:s;var _=dr(a,N,e,e,e,e,e,s);return _.placeholder=Vl.placeholder,_}function Wl(a,s,l){var _,y,I,R,w,L,H=0,k=!1,W=!1,j=!0;if(typeof a!="function")throw new Be(u);s=Xe(s)||0,qt(l)&&(k=!!l.leading,W="maxWait"in l,I=W?oe(Xe(l.maxWait)||0,s):I,j="trailing"in l?!!l.trailing:j);function tt(ee){var je=_,mr=y;return _=y=e,H=ee,R=a.apply(mr,je),R}function ft(ee){return H=ee,w=_i(wt,s),k?tt(ee):R}function Tt(ee){var je=ee-L,mr=ee-H,hc=s-je;return W?_e(hc,I-mr):hc}function lt(ee){var je=ee-L,mr=ee-H;return L===e||je>=s||je<0||W&&mr>=I}function wt(){var ee=Pa();if(lt(ee))return Ut(ee);w=_i(wt,Tt(ee))}function Ut(ee){return w=e,j&&_?tt(ee):(_=y=e,R)}function Le(){w!==e&&tl(w),H=0,_=L=y=w=e}function Te(){return w===e?R:Ut(Pa())}function Se(){var ee=Pa(),je=lt(ee);if(_=arguments,y=this,L=ee,je){if(w===e)return ft(L);if(W)return tl(w),w=_i(wt,s),tt(L)}return w===e&&(w=_i(wt,s)),R}return Se.cancel=Le,Se.flush=Te,Se}var X1=Et(function(a,s){return Lf(a,1,s)}),V1=Et(function(a,s,l){return Lf(a,Xe(s)||0,l)});function W1(a){return dr(a,G)}function Na(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new Be(u);var l=function(){var _=arguments,y=s?s.apply(this,_):_[0],I=l.cache;if(I.has(y))return I.get(y);var R=a.apply(this,_);return l.cache=I.set(y,R)||I,R};return l.cache=new(Na.Cache||lr),l}Na.Cache=lr;function Ua(a){if(typeof a!="function")throw new Be(u);return function(){var s=arguments;switch(s.length){case 0:return!a.call(this);case 1:return!a.call(this,s[0]);case 2:return!a.call(this,s[0],s[1]);case 3:return!a.call(this,s[0],s[1],s[2])}return!a.apply(this,s)}}function z1(a){return kl(2,a)}var j1=Om(function(a,s){s=s.length==1&&gt(s[0])?$t(s[0],Ne(ht())):$t(pe(s,1),Ne(ht()));var l=s.length;return Et(function(_){for(var y=-1,I=_e(_.length,l);++y<I;)_[y]=s[y].call(this,_[y]);return Pe(a,this,_)})}),Gs=Et(function(a,s){var l=Sr(s,Sn(Gs));return dr(a,A,e,s,l)}),zl=Et(function(a,s){var l=Sr(s,Sn(zl));return dr(a,C,e,s,l)}),$1=pr(function(a,s){return dr(a,V,e,e,e,s)});function q1(a,s){if(typeof a!="function")throw new Be(u);return s=s===e?s:yt(s),Et(a,s)}function Y1(a,s){if(typeof a!="function")throw new Be(u);return s=s==null?0:oe(yt(s),0),Et(function(l){var _=l[s],y=Hr(l,0,s);return _&&Lr(y,_),Pe(a,this,y)})}function Z1(a,s,l){var _=!0,y=!0;if(typeof a!="function")throw new Be(u);return qt(l)&&(_="leading"in l?!!l.leading:_,y="trailing"in l?!!l.trailing:y),Wl(a,s,{leading:_,maxWait:s,trailing:y})}function K1(a){return Hl(a,1)}function J1(a,s){return Gs(xs(s),a)}function Q1(){if(!arguments.length)return[];var a=arguments[0];return gt(a)?a:[a]}function tx(a){return He(a,g)}function ex(a,s){return s=typeof s=="function"?s:e,He(a,g,s)}function rx(a){return He(a,p|g)}function nx(a,s){return s=typeof s=="function"?s:e,He(a,p|g,s)}function ix(a,s){return s==null||Of(a,s,fe(s))}function ze(a,s){return a===s||a!==a&&s!==s}var ax=Ia(us),ox=Ia(function(a,s){return a>=s}),an=Mf(function(){return arguments}())?Mf:function(a){return Kt(a)&&Ht.call(a,"callee")&&!Ef.call(a,"callee")},gt=F.isArray,sx=af?Ne(af):vm;function Re(a){return a!=null&&Oa(a.length)&&!_r(a)}function te(a){return Kt(a)&&Re(a)}function ux(a){return a===!0||a===!1||Kt(a)&&ye(a)==At}var kr=bg||$s,hx=of?Ne(of):_m;function fx(a){return Kt(a)&&a.nodeType===1&&!gi(a)}function lx(a){if(a==null)return!0;if(Re(a)&&(gt(a)||typeof a=="string"||typeof a.splice=="function"||kr(a)||Fn(a)||an(a)))return!a.length;var s=ge(a);if(s==Rt||s==Ie)return!a.size;if(vi(a))return!ls(a).length;for(var l in a)if(Ht.call(a,l))return!1;return!0}function cx(a,s){return ci(a,s)}function dx(a,s,l){l=typeof l=="function"?l:e;var _=l?l(a,s):e;return _===e?ci(a,s,e,l):!!_}function Bs(a){if(!Kt(a))return!1;var s=ye(a);return s==ut||s==St||typeof a.message=="string"&&typeof a.name=="string"&&!gi(a)}function px(a){return typeof a=="number"&&wf(a)}function _r(a){if(!qt(a))return!1;var s=ye(a);return s==_t||s==it||s==Ct||s==Tn}function jl(a){return typeof a=="number"&&a==yt(a)}function Oa(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Gt}function qt(a){var s=typeof a;return a!=null&&(s=="object"||s=="function")}function Kt(a){return a!=null&&typeof a=="object"}var $l=sf?Ne(sf):mm;function vx(a,s){return a===s||fs(a,s,Cs(s))}function _x(a,s,l){return l=typeof l=="function"?l:e,fs(a,s,Cs(s),l)}function gx(a){return ql(a)&&a!=+a}function mx(a){if(ey(a))throw new vt(o);return Hf(a)}function yx(a){return a===null}function xx(a){return a==null}function ql(a){return typeof a=="number"||Kt(a)&&ye(a)==Ft}function gi(a){if(!Kt(a)||ye(a)!=ne)return!1;var s=aa(a);if(s===null)return!0;var l=Ht.call(s,"constructor")&&s.constructor;return typeof l=="function"&&l instanceof l&&ea.call(l)==_g}var Ms=uf?Ne(uf):ym;function Tx(a){return jl(a)&&a>=-Gt&&a<=Gt}var Yl=hf?Ne(hf):xm;function La(a){return typeof a=="string"||!gt(a)&&Kt(a)&&ye(a)==Ur}function Oe(a){return typeof a=="symbol"||Kt(a)&&ye(a)==Yr}var Fn=ff?Ne(ff):Tm;function bx(a){return a===e}function Ix(a){return Kt(a)&&ge(a)==ei}function Ex(a){return Kt(a)&&ye(a)==k_}var Rx=Ia(cs),wx=Ia(function(a,s){return a<=s});function Zl(a){if(!a)return[];if(Re(a))return La(a)?Ve(a):Ee(a);if(ii&&a[ii])return ig(a[ii]());var s=ge(a),l=s==Rt?Qo:s==Ie?Ji:Gn;return l(a)}function gr(a){if(!a)return a===0?a:0;if(a=Xe(a),a===ct||a===-ct){var s=a<0?-1:1;return s*Nt}return a===a?a:0}function yt(a){var s=gr(a),l=s%1;return s===s?l?s-l:s:0}function Kl(a){return a?tn(yt(a),0,X):0}function Xe(a){if(typeof a=="number")return a;if(Oe(a))return S;if(qt(a)){var s=typeof a.valueOf=="function"?a.valueOf():a;a=qt(s)?s+"":s}if(typeof a!="string")return a===0?a:+a;a=_f(a);var l=s0.test(a);return l||h0.test(a)?D0(a.slice(2),l?2:8):o0.test(a)?S:+a}function Jl(a){return tr(a,we(a))}function Cx(a){return a?tn(yt(a),-Gt,Gt):a===0?a:0}function Mt(a){return a==null?"":Ue(a)}var Ax=On(function(a,s){if(vi(s)||Re(s)){tr(s,fe(s),a);return}for(var l in s)Ht.call(s,l)&&hi(a,l,s[l])}),Ql=On(function(a,s){tr(s,we(s),a)}),Sa=On(function(a,s,l,_){tr(s,we(s),a,_)}),Px=On(function(a,s,l,_){tr(s,fe(s),a,_)}),Nx=pr(as);function Ux(a,s){var l=Un(a);return s==null?l:Uf(l,s)}var Ox=Et(function(a,s){a=Xt(a);var l=-1,_=s.length,y=_>2?s[2]:e;for(y&&xe(s[0],s[1],y)&&(_=1);++l<_;)for(var I=s[l],R=we(I),w=-1,L=R.length;++w<L;){var H=R[w],k=a[H];(k===e||ze(k,An[H])&&!Ht.call(a,H))&&(a[H]=I[H])}return a}),Lx=Et(function(a){return a.push(e,_l),Pe(tc,e,a)});function Sx(a,s){return cf(a,ht(s,3),Qe)}function Fx(a,s){return cf(a,ht(s,3),ss)}function Gx(a,s){return a==null?a:os(a,ht(s,3),we)}function Bx(a,s){return a==null?a:Gf(a,ht(s,3),we)}function Mx(a,s){return a&&Qe(a,ht(s,3))}function Hx(a,s){return a&&ss(a,ht(s,3))}function kx(a){return a==null?[]:va(a,fe(a))}function Dx(a){return a==null?[]:va(a,we(a))}function Hs(a,s,l){var _=a==null?e:en(a,s);return _===e?l:_}function Xx(a,s){return a!=null&&yl(a,s,lm)}function ks(a,s){return a!=null&&yl(a,s,cm)}var Vx=ll(function(a,s,l){s!=null&&typeof s.toString!="function"&&(s=ra.call(s)),a[s]=l},Xs(Ce)),Wx=ll(function(a,s,l){s!=null&&typeof s.toString!="function"&&(s=ra.call(s)),Ht.call(a,s)?a[s].push(l):a[s]=[l]},ht),zx=Et(li);function fe(a){return Re(a)?Pf(a):ls(a)}function we(a){return Re(a)?Pf(a,!0):bm(a)}function jx(a,s){var l={};return s=ht(s,3),Qe(a,function(_,y,I){cr(l,s(_,y,I),_)}),l}function $x(a,s){var l={};return s=ht(s,3),Qe(a,function(_,y,I){cr(l,y,s(_,y,I))}),l}var qx=On(function(a,s,l){_a(a,s,l)}),tc=On(function(a,s,l,_){_a(a,s,l,_)}),Yx=pr(function(a,s){var l={};if(a==null)return l;var _=!1;s=$t(s,function(I){return I=Mr(I,a),_||(_=I.length>1),I}),tr(a,Rs(a),l),_&&(l=He(l,p|v|g,Vm));for(var y=s.length;y--;)gs(l,s[y]);return l});function Zx(a,s){return ec(a,Ua(ht(s)))}var Kx=pr(function(a,s){return a==null?{}:Em(a,s)});function ec(a,s){if(a==null)return{};var l=$t(Rs(a),function(_){return[_]});return s=ht(s),jf(a,l,function(_,y){return s(_,y[0])})}function Jx(a,s,l){s=Mr(s,a);var _=-1,y=s.length;for(y||(y=1,a=e);++_<y;){var I=a==null?e:a[er(s[_])];I===e&&(_=y,I=l),a=_r(I)?I.call(a):I}return a}function Qx(a,s,l){return a==null?a:di(a,s,l)}function tT(a,s,l,_){return _=typeof _=="function"?_:e,a==null?a:di(a,s,l,_)}var rc=pl(fe),nc=pl(we);function eT(a,s,l){var _=gt(a),y=_||kr(a)||Fn(a);if(s=ht(s,4),l==null){var I=a&&a.constructor;y?l=_?new I:[]:qt(a)?l=_r(I)?Un(aa(a)):{}:l={}}return(y?Ge:Qe)(a,function(R,w,L){return s(l,R,w,L)}),l}function rT(a,s){return a==null?!0:gs(a,s)}function nT(a,s,l){return a==null?a:Kf(a,s,xs(l))}function iT(a,s,l,_){return _=typeof _=="function"?_:e,a==null?a:Kf(a,s,xs(l),_)}function Gn(a){return a==null?[]:Jo(a,fe(a))}function aT(a){return a==null?[]:Jo(a,we(a))}function oT(a,s,l){return l===e&&(l=s,s=e),l!==e&&(l=Xe(l),l=l===l?l:0),s!==e&&(s=Xe(s),s=s===s?s:0),tn(Xe(a),s,l)}function sT(a,s,l){return s=gr(s),l===e?(l=s,s=0):l=gr(l),a=Xe(a),dm(a,s,l)}function uT(a,s,l){if(l&&typeof l!="boolean"&&xe(a,s,l)&&(s=l=e),l===e&&(typeof s=="boolean"?(l=s,s=e):typeof a=="boolean"&&(l=a,a=e)),a===e&&s===e?(a=0,s=1):(a=gr(a),s===e?(s=a,a=0):s=gr(s)),a>s){var _=a;a=s,s=_}if(l||a%1||s%1){var y=Cf();return _e(a+y*(s-a+k0("1e-"+((y+"").length-1))),s)}return ps(a,s)}var hT=Ln(function(a,s,l){return s=s.toLowerCase(),a+(l?ic(s):s)});function ic(a){return Ds(Mt(a).toLowerCase())}function ac(a){return a=Mt(a),a&&a.replace(l0,Q0).replace(N0,"")}function fT(a,s,l){a=Mt(a),s=Ue(s);var _=a.length;l=l===e?_:tn(yt(l),0,_);var y=l;return l-=s.length,l>=0&&a.slice(l,y)==s}function lT(a){return a=Mt(a),a&&z_.test(a)?a.replace(Fh,tg):a}function cT(a){return a=Mt(a),a&&K_.test(a)?a.replace(Go,"\\$&"):a}var dT=Ln(function(a,s,l){return a+(l?"-":"")+s.toLowerCase()}),pT=Ln(function(a,s,l){return a+(l?" ":"")+s.toLowerCase()}),vT=ul("toLowerCase");function _T(a,s,l){a=Mt(a),s=yt(s);var _=s?wn(a):0;if(!s||_>=s)return a;var y=(s-_)/2;return ba(ha(y),l)+a+ba(ua(y),l)}function gT(a,s,l){a=Mt(a),s=yt(s);var _=s?wn(a):0;return s&&_<s?a+ba(s-_,l):a}function mT(a,s,l){a=Mt(a),s=yt(s);var _=s?wn(a):0;return s&&_<s?ba(s-_,l)+a:a}function yT(a,s,l){return l||s==null?s=0:s&&(s=+s),wg(Mt(a).replace(Bo,""),s||0)}function xT(a,s,l){return(l?xe(a,s,l):s===e)?s=1:s=yt(s),vs(Mt(a),s)}function TT(){var a=arguments,s=Mt(a[0]);return a.length<3?s:s.replace(a[1],a[2])}var bT=Ln(function(a,s,l){return a+(l?"_":"")+s.toLowerCase()});function IT(a,s,l){return l&&typeof l!="number"&&xe(a,s,l)&&(s=l=e),l=l===e?X:l>>>0,l?(a=Mt(a),a&&(typeof s=="string"||s!=null&&!Ms(s))&&(s=Ue(s),!s&&Rn(a))?Hr(Ve(a),0,l):a.split(s,l)):[]}var ET=Ln(function(a,s,l){return a+(l?" ":"")+Ds(s)});function RT(a,s,l){return a=Mt(a),l=l==null?0:tn(yt(l),0,a.length),s=Ue(s),a.slice(l,l+s.length)==s}function wT(a,s,l){var _=b.templateSettings;l&&xe(a,s,l)&&(s=e),a=Mt(a),s=Sa({},s,_,vl);var y=Sa({},s.imports,_.imports,vl),I=fe(y),R=Jo(y,I),w,L,H=0,k=s.interpolate||$i,W="__p += '",j=ts((s.escape||$i).source+"|"+k.source+"|"+(k===Gh?a0:$i).source+"|"+(s.evaluate||$i).source+"|$","g"),tt="//# sourceURL="+(Ht.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++F0+"]")+`
`;a.replace(j,function(lt,wt,Ut,Le,Te,Se){return Ut||(Ut=Le),W+=a.slice(H,Se).replace(c0,eg),wt&&(w=!0,W+=`' +
__e(`+wt+`) +
'`),Te&&(L=!0,W+=`';
`+Te+`;
__p += '`),Ut&&(W+=`' +
((__t = (`+Ut+`)) == null ? '' : __t) +
'`),H=Se+lt.length,lt}),W+=`';
`;var ft=Ht.call(s,"variable")&&s.variable;if(!ft)W=`with (obj) {
`+W+`
}
`;else if(n0.test(ft))throw new vt(h);W=(L?W.replace(D_,""):W).replace(X_,"$1").replace(V_,"$1;"),W="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(w?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var Tt=sc(function(){return Bt(I,tt+"return "+W).apply(e,R)});if(Tt.source=W,Bs(Tt))throw Tt;return Tt}function CT(a){return Mt(a).toLowerCase()}function AT(a){return Mt(a).toUpperCase()}function PT(a,s,l){if(a=Mt(a),a&&(l||s===e))return _f(a);if(!a||!(s=Ue(s)))return a;var _=Ve(a),y=Ve(s),I=gf(_,y),R=mf(_,y)+1;return Hr(_,I,R).join("")}function NT(a,s,l){if(a=Mt(a),a&&(l||s===e))return a.slice(0,xf(a)+1);if(!a||!(s=Ue(s)))return a;var _=Ve(a),y=mf(_,Ve(s))+1;return Hr(_,0,y).join("")}function UT(a,s,l){if(a=Mt(a),a&&(l||s===e))return a.replace(Bo,"");if(!a||!(s=Ue(s)))return a;var _=Ve(a),y=gf(_,Ve(s));return Hr(_,y).join("")}function OT(a,s){var l=D,_=$;if(qt(s)){var y="separator"in s?s.separator:y;l="length"in s?yt(s.length):l,_="omission"in s?Ue(s.omission):_}a=Mt(a);var I=a.length;if(Rn(a)){var R=Ve(a);I=R.length}if(l>=I)return a;var w=l-wn(_);if(w<1)return _;var L=R?Hr(R,0,w).join(""):a.slice(0,w);if(y===e)return L+_;if(R&&(w+=L.length-w),Ms(y)){if(a.slice(w).search(y)){var H,k=L;for(y.global||(y=ts(y.source,Mt(Bh.exec(y))+"g")),y.lastIndex=0;H=y.exec(k);)var W=H.index;L=L.slice(0,W===e?w:W)}}else if(a.indexOf(Ue(y),w)!=w){var j=L.lastIndexOf(y);j>-1&&(L=L.slice(0,j))}return L+_}function LT(a){return a=Mt(a),a&&W_.test(a)?a.replace(Sh,ug):a}var ST=Ln(function(a,s,l){return a+(l?" ":"")+s.toUpperCase()}),Ds=ul("toUpperCase");function oc(a,s,l){return a=Mt(a),s=l?e:s,s===e?ng(a)?lg(a):q0(a):a.match(s)||[]}var sc=Et(function(a,s){try{return Pe(a,e,s)}catch(l){return Bs(l)?l:new vt(l)}}),FT=pr(function(a,s){return Ge(s,function(l){l=er(l),cr(a,l,Fs(a[l],a))}),a});function GT(a){var s=a==null?0:a.length,l=ht();return a=s?$t(a,function(_){if(typeof _[1]!="function")throw new Be(u);return[l(_[0]),_[1]]}):[],Et(function(_){for(var y=-1;++y<s;){var I=a[y];if(Pe(I[0],this,_))return Pe(I[1],this,_)}})}function BT(a){return um(He(a,p))}function Xs(a){return function(){return a}}function MT(a,s){return a==null||a!==a?s:a}var HT=fl(),kT=fl(!0);function Ce(a){return a}function Vs(a){return kf(typeof a=="function"?a:He(a,p))}function DT(a){return Xf(He(a,p))}function XT(a,s){return Vf(a,He(s,p))}var VT=Et(function(a,s){return function(l){return li(l,a,s)}}),WT=Et(function(a,s){return function(l){return li(a,l,s)}});function Ws(a,s,l){var _=fe(s),y=va(s,_);l==null&&!(qt(s)&&(y.length||!_.length))&&(l=s,s=a,a=this,y=va(s,fe(s)));var I=!(qt(l)&&"chain"in l)||!!l.chain,R=_r(a);return Ge(y,function(w){var L=s[w];a[w]=L,R&&(a.prototype[w]=function(){var H=this.__chain__;if(I||H){var k=a(this.__wrapped__),W=k.__actions__=Ee(this.__actions__);return W.push({func:L,args:arguments,thisArg:a}),k.__chain__=H,k}return L.apply(a,Lr([this.value()],arguments))})}),a}function zT(){return de._===this&&(de._=gg),this}function zs(){}function jT(a){return a=yt(a),Et(function(s){return Wf(s,a)})}var $T=bs($t),qT=bs(lf),YT=bs($o);function uc(a){return Ps(a)?qo(er(a)):Rm(a)}function ZT(a){return function(s){return a==null?e:en(a,s)}}var KT=cl(),JT=cl(!0);function js(){return[]}function $s(){return!1}function QT(){return{}}function tb(){return""}function eb(){return!0}function rb(a,s){if(a=yt(a),a<1||a>Gt)return[];var l=X,_=_e(a,X);s=ht(s),a-=X;for(var y=Ko(_,s);++l<a;)s(l);return y}function nb(a){return gt(a)?$t(a,er):Oe(a)?[a]:Ee(Al(Mt(a)))}function ib(a){var s=++vg;return Mt(a)+s}var ab=Ta(function(a,s){return a+s},0),ob=Is("ceil"),sb=Ta(function(a,s){return a/s},1),ub=Is("floor");function hb(a){return a&&a.length?pa(a,Ce,us):e}function fb(a,s){return a&&a.length?pa(a,ht(s,2),us):e}function lb(a){return pf(a,Ce)}function cb(a,s){return pf(a,ht(s,2))}function db(a){return a&&a.length?pa(a,Ce,cs):e}function pb(a,s){return a&&a.length?pa(a,ht(s,2),cs):e}var vb=Ta(function(a,s){return a*s},1),_b=Is("round"),gb=Ta(function(a,s){return a-s},0);function mb(a){return a&&a.length?Zo(a,Ce):0}function yb(a,s){return a&&a.length?Zo(a,ht(s,2)):0}return b.after=D1,b.ary=Hl,b.assign=Ax,b.assignIn=Ql,b.assignInWith=Sa,b.assignWith=Px,b.at=Nx,b.before=kl,b.bind=Fs,b.bindAll=FT,b.bindKey=Dl,b.castArray=Q1,b.chain=Gl,b.chunk=uy,b.compact=hy,b.concat=fy,b.cond=GT,b.conforms=BT,b.constant=Xs,b.countBy=m1,b.create=Ux,b.curry=Xl,b.curryRight=Vl,b.debounce=Wl,b.defaults=Ox,b.defaultsDeep=Lx,b.defer=X1,b.delay=V1,b.difference=ly,b.differenceBy=cy,b.differenceWith=dy,b.drop=py,b.dropRight=vy,b.dropRightWhile=_y,b.dropWhile=gy,b.fill=my,b.filter=x1,b.flatMap=I1,b.flatMapDeep=E1,b.flatMapDepth=R1,b.flatten=Ol,b.flattenDeep=yy,b.flattenDepth=xy,b.flip=W1,b.flow=HT,b.flowRight=kT,b.fromPairs=Ty,b.functions=kx,b.functionsIn=Dx,b.groupBy=w1,b.initial=Iy,b.intersection=Ey,b.intersectionBy=Ry,b.intersectionWith=wy,b.invert=Vx,b.invertBy=Wx,b.invokeMap=A1,b.iteratee=Vs,b.keyBy=P1,b.keys=fe,b.keysIn=we,b.map=Aa,b.mapKeys=jx,b.mapValues=$x,b.matches=DT,b.matchesProperty=XT,b.memoize=Na,b.merge=qx,b.mergeWith=tc,b.method=VT,b.methodOf=WT,b.mixin=Ws,b.negate=Ua,b.nthArg=jT,b.omit=Yx,b.omitBy=Zx,b.once=z1,b.orderBy=N1,b.over=$T,b.overArgs=j1,b.overEvery=qT,b.overSome=YT,b.partial=Gs,b.partialRight=zl,b.partition=U1,b.pick=Kx,b.pickBy=ec,b.property=uc,b.propertyOf=ZT,b.pull=Ny,b.pullAll=Sl,b.pullAllBy=Uy,b.pullAllWith=Oy,b.pullAt=Ly,b.range=KT,b.rangeRight=JT,b.rearg=$1,b.reject=S1,b.remove=Sy,b.rest=q1,b.reverse=Ls,b.sampleSize=G1,b.set=Qx,b.setWith=tT,b.shuffle=B1,b.slice=Fy,b.sortBy=k1,b.sortedUniq=Xy,b.sortedUniqBy=Vy,b.split=IT,b.spread=Y1,b.tail=Wy,b.take=zy,b.takeRight=jy,b.takeRightWhile=$y,b.takeWhile=qy,b.tap=h1,b.throttle=Z1,b.thru=Ca,b.toArray=Zl,b.toPairs=rc,b.toPairsIn=nc,b.toPath=nb,b.toPlainObject=Jl,b.transform=eT,b.unary=K1,b.union=Yy,b.unionBy=Zy,b.unionWith=Ky,b.uniq=Jy,b.uniqBy=Qy,b.uniqWith=t1,b.unset=rT,b.unzip=Ss,b.unzipWith=Fl,b.update=nT,b.updateWith=iT,b.values=Gn,b.valuesIn=aT,b.without=e1,b.words=oc,b.wrap=J1,b.xor=r1,b.xorBy=n1,b.xorWith=i1,b.zip=a1,b.zipObject=o1,b.zipObjectDeep=s1,b.zipWith=u1,b.entries=rc,b.entriesIn=nc,b.extend=Ql,b.extendWith=Sa,Ws(b,b),b.add=ab,b.attempt=sc,b.camelCase=hT,b.capitalize=ic,b.ceil=ob,b.clamp=oT,b.clone=tx,b.cloneDeep=rx,b.cloneDeepWith=nx,b.cloneWith=ex,b.conformsTo=ix,b.deburr=ac,b.defaultTo=MT,b.divide=sb,b.endsWith=fT,b.eq=ze,b.escape=lT,b.escapeRegExp=cT,b.every=y1,b.find=T1,b.findIndex=Nl,b.findKey=Sx,b.findLast=b1,b.findLastIndex=Ul,b.findLastKey=Fx,b.floor=ub,b.forEach=Bl,b.forEachRight=Ml,b.forIn=Gx,b.forInRight=Bx,b.forOwn=Mx,b.forOwnRight=Hx,b.get=Hs,b.gt=ax,b.gte=ox,b.has=Xx,b.hasIn=ks,b.head=Ll,b.identity=Ce,b.includes=C1,b.indexOf=by,b.inRange=sT,b.invoke=zx,b.isArguments=an,b.isArray=gt,b.isArrayBuffer=sx,b.isArrayLike=Re,b.isArrayLikeObject=te,b.isBoolean=ux,b.isBuffer=kr,b.isDate=hx,b.isElement=fx,b.isEmpty=lx,b.isEqual=cx,b.isEqualWith=dx,b.isError=Bs,b.isFinite=px,b.isFunction=_r,b.isInteger=jl,b.isLength=Oa,b.isMap=$l,b.isMatch=vx,b.isMatchWith=_x,b.isNaN=gx,b.isNative=mx,b.isNil=xx,b.isNull=yx,b.isNumber=ql,b.isObject=qt,b.isObjectLike=Kt,b.isPlainObject=gi,b.isRegExp=Ms,b.isSafeInteger=Tx,b.isSet=Yl,b.isString=La,b.isSymbol=Oe,b.isTypedArray=Fn,b.isUndefined=bx,b.isWeakMap=Ix,b.isWeakSet=Ex,b.join=Cy,b.kebabCase=dT,b.last=De,b.lastIndexOf=Ay,b.lowerCase=pT,b.lowerFirst=vT,b.lt=Rx,b.lte=wx,b.max=hb,b.maxBy=fb,b.mean=lb,b.meanBy=cb,b.min=db,b.minBy=pb,b.stubArray=js,b.stubFalse=$s,b.stubObject=QT,b.stubString=tb,b.stubTrue=eb,b.multiply=vb,b.nth=Py,b.noConflict=zT,b.noop=zs,b.now=Pa,b.pad=_T,b.padEnd=gT,b.padStart=mT,b.parseInt=yT,b.random=uT,b.reduce=O1,b.reduceRight=L1,b.repeat=xT,b.replace=TT,b.result=Jx,b.round=_b,b.runInContext=O,b.sample=F1,b.size=M1,b.snakeCase=bT,b.some=H1,b.sortedIndex=Gy,b.sortedIndexBy=By,b.sortedIndexOf=My,b.sortedLastIndex=Hy,b.sortedLastIndexBy=ky,b.sortedLastIndexOf=Dy,b.startCase=ET,b.startsWith=RT,b.subtract=gb,b.sum=mb,b.sumBy=yb,b.template=wT,b.times=rb,b.toFinite=gr,b.toInteger=yt,b.toLength=Kl,b.toLower=CT,b.toNumber=Xe,b.toSafeInteger=Cx,b.toString=Mt,b.toUpper=AT,b.trim=PT,b.trimEnd=NT,b.trimStart=UT,b.truncate=OT,b.unescape=LT,b.uniqueId=ib,b.upperCase=ST,b.upperFirst=Ds,b.each=Bl,b.eachRight=Ml,b.first=Ll,Ws(b,function(){var a={};return Qe(b,function(s,l){Ht.call(b.prototype,l)||(a[l]=s)}),a}(),{chain:!1}),b.VERSION=n,Ge(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),Ge(["drop","take"],function(a,s){Pt.prototype[a]=function(l){l=l===e?1:oe(yt(l),0);var _=this.__filtered__&&!s?new Pt(this):this.clone();return _.__filtered__?_.__takeCount__=_e(l,_.__takeCount__):_.__views__.push({size:_e(l,X),type:a+(_.__dir__<0?"Right":"")}),_},Pt.prototype[a+"Right"]=function(l){return this.reverse()[a](l).reverse()}}),Ge(["filter","map","takeWhile"],function(a,s){var l=s+1,_=l==mt||l==Z;Pt.prototype[a]=function(y){var I=this.clone();return I.__iteratees__.push({iteratee:ht(y,3),type:l}),I.__filtered__=I.__filtered__||_,I}}),Ge(["head","last"],function(a,s){var l="take"+(s?"Right":"");Pt.prototype[a]=function(){return this[l](1).value()[0]}}),Ge(["initial","tail"],function(a,s){var l="drop"+(s?"":"Right");Pt.prototype[a]=function(){return this.__filtered__?new Pt(this):this[l](1)}}),Pt.prototype.compact=function(){return this.filter(Ce)},Pt.prototype.find=function(a){return this.filter(a).head()},Pt.prototype.findLast=function(a){return this.reverse().find(a)},Pt.prototype.invokeMap=Et(function(a,s){return typeof a=="function"?new Pt(this):this.map(function(l){return li(l,a,s)})}),Pt.prototype.reject=function(a){return this.filter(Ua(ht(a)))},Pt.prototype.slice=function(a,s){a=yt(a);var l=this;return l.__filtered__&&(a>0||s<0)?new Pt(l):(a<0?l=l.takeRight(-a):a&&(l=l.drop(a)),s!==e&&(s=yt(s),l=s<0?l.dropRight(-s):l.take(s-a)),l)},Pt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Pt.prototype.toArray=function(){return this.take(X)},Qe(Pt.prototype,function(a,s){var l=/^(?:filter|find|map|reject)|While$/.test(s),_=/^(?:head|last)$/.test(s),y=b[_?"take"+(s=="last"?"Right":""):s],I=_||/^find/.test(s);!y||(b.prototype[s]=function(){var R=this.__wrapped__,w=_?[1]:arguments,L=R instanceof Pt,H=w[0],k=L||gt(R),W=function(wt){var Ut=y.apply(b,Lr([wt],w));return _&&j?Ut[0]:Ut};k&&l&&typeof H=="function"&&H.length!=1&&(L=k=!1);var j=this.__chain__,tt=!!this.__actions__.length,ft=I&&!j,Tt=L&&!tt;if(!I&&k){R=Tt?R:new Pt(this);var lt=a.apply(R,w);return lt.__actions__.push({func:Ca,args:[W],thisArg:e}),new Me(lt,j)}return ft&&Tt?a.apply(this,w):(lt=this.thru(W),ft?_?lt.value()[0]:lt.value():lt)})}),Ge(["pop","push","shift","sort","splice","unshift"],function(a){var s=Qi[a],l=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",_=/^(?:pop|shift)$/.test(a);b.prototype[a]=function(){var y=arguments;if(_&&!this.__chain__){var I=this.value();return s.apply(gt(I)?I:[],y)}return this[l](function(R){return s.apply(gt(R)?R:[],y)})}}),Qe(Pt.prototype,function(a,s){var l=b[s];if(l){var _=l.name+"";Ht.call(Nn,_)||(Nn[_]=[]),Nn[_].push({name:s,func:l})}}),Nn[xa(e,E).name]=[{name:"wrapper",func:e}],Pt.prototype.clone=Lg,Pt.prototype.reverse=Sg,Pt.prototype.value=Fg,b.prototype.at=f1,b.prototype.chain=l1,b.prototype.commit=c1,b.prototype.next=d1,b.prototype.plant=v1,b.prototype.reverse=_1,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=g1,b.prototype.first=b.prototype.head,ii&&(b.prototype[ii]=p1),b},Cn=cg();Zr?((Zr.exports=Cn)._=Cn,Vo._=Cn):de._=Cn}).call(be)})(Ch,Ch.exports);const JP=Ch.exports;function QP(t){var e;const r=(e=new URL(window.location.href))==null?void 0:e.searchParams;return r==null?void 0:r.get(t)}var Sv;const tN=+((Sv=QP("max"))!=null?Sv:5)*1e4;let le=50,Xr=1;function eN(){console.log("is webgl",Xv());const t=window.innerWidth,r=window.innerHeight-5,e=Math.floor(t/(le+Xr)),n=(t-e*le)/(e-1);console.log(e,n);const i=document.querySelector(".pop"),o=new C_({width:t,height:r});document.body.appendChild(o.view);const u={resourceOptions:{scale:2},width:100,height:100},h={low:pt.from(OP,u),middle:pt.from(NP,u),high:pt.from(UP,u)},f=[...new Array(tN)].map((p,v)=>{const g=Math.floor(v/e)*(le+5),m=v%e*(le+n),x=["low","middle","high"][zP({min:0,max:2})],T=new Qn(h[x]);return T._customData={clusterId:ZP(),status:x},T.width=le,T.height=le,T.x=m,T.y=g,T.interactive=!0,g>r&&(T.visible=!1,T.interactive=!1),o.stage.addChild(T),T});o.stage.interactive=!0,o.stage.hitArea=o.renderer.screen,o.stage.addListener("click",p=>{if(console.log("clicked",p.target),p.target.isSprite){const{clusterId:v,status:g}=p.target._customData;i.innerHTML=`clusterId: ${v} 
 status: ${g}`,i.style.setProperty("top",`${p.target.y}px`),i.style.setProperty("left",`${p.target.x}px`),i.style.setProperty("display","block")}else i.style.setProperty("display","none")});function c(p){p.deltaY<0?(le*=.95,Xr*=.95,le<1&&(le=2),Xr<1&&(Xr=1)):(le*=1.05,Xr*=1.05,le>100&&(le=100),Xr>5&&(Xr=5));const v=Math.floor(t/(le+Xr)),g=(t-v*le)/(v-1);f.forEach((m,x)=>{const T=Math.floor(x/v)*(le+5);if(T>r){m.visible=!1,m.interactive=!1;return}const E=x%v*(le+g);m.width=le,m.height=le,m.x=E,m.y=T,m.interactive=!0,m.visible=!0})}const d=JP.throttle(c,1e3/30);o.view.addEventListener("wheel",p=>{d(p)})}eN();
