(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gr;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(gr||(gr={}));var ti;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(ti||(ti={}));var Rs;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Rs||(Rs={}));var Q;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Q||(Q={}));var ei;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ei||(ei={}));var D;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(D||(D={}));var Zr;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Zr||(Zr={}));var rt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(rt||(rt={}));var Is;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Is||(Is={}));var vr;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(vr||(vr={}));var ba;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ba||(ba={}));var mr;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(mr||(mr={}));var Qe;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Qe||(Qe={}));var Pr;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Pr||(Pr={}));var Ca;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Ca||(Ca={}));var Ke;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Ke||(Ke={}));var Qt;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Qt||(Qt={}));var Wf;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(Wf||(Wf={}));var qt;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(qt||(qt={}));var Je;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Je||(Je={}));/*!
 * @pixi/math - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LT=Math.PI*2,GT=180/Math.PI,ST=Math.PI/180,wa;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(wa||(wa={}));var de=function(){function t(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this.x=0,this.y=0,this.x=r,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},t.prototype.copyTo=function(r){return r.set(this.x,this.y),r},t.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},t.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x=r,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),es=[new de,new de,new de,new de],Ht=function(){function t(r,e,n,s){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=0),this.x=Number(r),this.y=Number(e),this.width=Number(n),this.height=Number(s),this.type=wa.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},t.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},t.prototype.contains=function(r,e){return this.width<=0||this.height<=0?!1:r>=this.x&&r<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.intersects=function(r,e){if(!e){var n=this.x<r.x?r.x:this.x,s=this.right>r.right?r.right:this.right;if(s<=n)return!1;var a=this.y<r.y?r.y:this.y,h=this.bottom>r.bottom?r.bottom:this.bottom;return h>a}var f=this.left,l=this.right,d=this.top,p=this.bottom;if(l<=f||p<=d)return!1;var v=es[0].set(r.left,r.top),m=es[1].set(r.left,r.bottom),T=es[2].set(r.right,r.top),E=es[3].set(r.right,r.bottom);if(T.x<=v.x||m.y<=v.y)return!1;var w=Math.sign(e.a*e.d-e.b*e.c);if(w===0||(e.apply(v,v),e.apply(m,m),e.apply(T,T),e.apply(E,E),Math.max(v.x,m.x,T.x,E.x)<=f||Math.min(v.x,m.x,T.x,E.x)>=l||Math.max(v.y,m.y,T.y,E.y)<=d||Math.min(v.y,m.y,T.y,E.y)>=p))return!1;var R=w*(m.y-v.y),A=w*(v.x-m.x),F=R*f+A*d,P=R*l+A*d,U=R*f+A*p,M=R*l+A*p;if(Math.max(F,P,U,M)<=R*v.x+A*v.y||Math.min(F,P,U,M)>=R*E.x+A*E.y)return!1;var k=w*(v.y-T.y),Y=w*(T.x-v.x),z=k*f+Y*d,tt=k*l+Y*d,ft=k*f+Y*p,dt=k*l+Y*p;return!(Math.max(z,tt,ft,dt)<=k*v.x+Y*v.y||Math.min(z,tt,ft,dt)>=k*E.x+Y*E.y)},t.prototype.pad=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x-=r,this.y-=e,this.width+=r*2,this.height+=e*2,this},t.prototype.fit=function(r){var e=Math.max(this.x,r.x),n=Math.min(this.x+this.width,r.x+r.width),s=Math.max(this.y,r.y),a=Math.min(this.y+this.height,r.y+r.height);return this.x=e,this.width=Math.max(n-e,0),this.y=s,this.height=Math.max(a-s,0),this},t.prototype.ceil=function(r,e){r===void 0&&(r=1),e===void 0&&(e=.001);var n=Math.ceil((this.x+this.width-e)*r)/r,s=Math.ceil((this.y+this.height-e)*r)/r;return this.x=Math.floor((this.x+e)*r)/r,this.y=Math.floor((this.y+e)*r)/r,this.width=n-this.x,this.height=s-this.y,this},t.prototype.enlarge=function(r){var e=Math.min(this.x,r.x),n=Math.max(this.x+this.width,r.x+r.width),s=Math.min(this.y,r.y),a=Math.max(this.y+this.height,r.y+r.height);return this.x=e,this.width=n-e,this.y=s,this.height=a-s,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Zn=function(){function t(r,e,n,s){n===void 0&&(n=0),s===void 0&&(s=0),this._x=n,this._y=s,this.cb=r,this.scope=e}return t.prototype.clone=function(r,e){return r===void 0&&(r=this.cb),e===void 0&&(e=this.scope),new t(r,e,this._x,this._y)},t.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),(this._x!==r||this._y!==e)&&(this._x=r,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(r){return r.set(this._x,this._y),r},t.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),we=function(){function t(r,e,n,s,a,h){r===void 0&&(r=1),e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=1),a===void 0&&(a=0),h===void 0&&(h=0),this.array=null,this.a=r,this.b=e,this.c=n,this.d=s,this.tx=a,this.ty=h}return t.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},t.prototype.set=function(r,e,n,s,a,h){return this.a=r,this.b=e,this.c=n,this.d=s,this.tx=a,this.ty=h,this},t.prototype.toArray=function(r,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return r?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(r,e){e=e||new de;var n=r.x,s=r.y;return e.x=this.a*n+this.c*s+this.tx,e.y=this.b*n+this.d*s+this.ty,e},t.prototype.applyInverse=function(r,e){e=e||new de;var n=1/(this.a*this.d+this.c*-this.b),s=r.x,a=r.y;return e.x=this.d*n*s+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*a+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(r,e){return this.tx+=r,this.ty+=e,this},t.prototype.scale=function(r,e){return this.a*=r,this.d*=e,this.c*=r,this.b*=e,this.tx*=r,this.ty*=e,this},t.prototype.rotate=function(r){var e=Math.cos(r),n=Math.sin(r),s=this.a,a=this.c,h=this.tx;return this.a=s*e-this.b*n,this.b=s*n+this.b*e,this.c=a*e-this.d*n,this.d=a*n+this.d*e,this.tx=h*e-this.ty*n,this.ty=h*n+this.ty*e,this},t.prototype.append=function(r){var e=this.a,n=this.b,s=this.c,a=this.d;return this.a=r.a*e+r.b*s,this.b=r.a*n+r.b*a,this.c=r.c*e+r.d*s,this.d=r.c*n+r.d*a,this.tx=r.tx*e+r.ty*s+this.tx,this.ty=r.tx*n+r.ty*a+this.ty,this},t.prototype.setTransform=function(r,e,n,s,a,h,f,l,d){return this.a=Math.cos(f+d)*a,this.b=Math.sin(f+d)*a,this.c=-Math.sin(f-l)*h,this.d=Math.cos(f-l)*h,this.tx=r-(n*this.a+s*this.c),this.ty=e-(n*this.b+s*this.d),this},t.prototype.prepend=function(r){var e=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var n=this.a,s=this.c;this.a=n*r.a+this.b*r.c,this.b=n*r.b+this.b*r.d,this.c=s*r.a+this.d*r.c,this.d=s*r.b+this.d*r.d}return this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty,this},t.prototype.decompose=function(r){var e=this.a,n=this.b,s=this.c,a=this.d,h=r.pivot,f=-Math.atan2(-s,a),l=Math.atan2(n,e),d=Math.abs(f+l);return d<1e-5||Math.abs(LT-d)<1e-5?(r.rotation=l,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=f,r.skew.y=l),r.scale.x=Math.sqrt(e*e+n*n),r.scale.y=Math.sqrt(s*s+a*a),r.position.x=this.tx+(h.x*e+h.y*s),r.position.y=this.ty+(h.x*n+h.y*a),r},t.prototype.invert=function(){var r=this.a,e=this.b,n=this.c,s=this.d,a=this.tx,h=r*s-e*n;return this.a=s/h,this.b=-e/h,this.c=-n/h,this.d=r/h,this.tx=(n*this.ty-s*a)/h,this.ty=-(r*this.ty-e*a)/h,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var r=new t;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),zr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$r=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Yr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],jr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Aa=[],cd=[],rs=Math.sign;function FT(){for(var t=0;t<16;t++){var r=[];Aa.push(r);for(var e=0;e<16;e++)for(var n=rs(zr[t]*zr[e]+Yr[t]*$r[e]),s=rs($r[t]*zr[e]+jr[t]*$r[e]),a=rs(zr[t]*Yr[e]+Yr[t]*jr[e]),h=rs($r[t]*Yr[e]+jr[t]*jr[e]),f=0;f<16;f++)if(zr[f]===n&&$r[f]===s&&Yr[f]===a&&jr[f]===h){r.push(f);break}}for(var t=0;t<16;t++){var l=new we;l.set(zr[t],$r[t],Yr[t],jr[t],0,0),cd.push(l)}}FT();var Mt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return zr[t]},uY:function(t){return $r[t]},vX:function(t){return Yr[t]},vY:function(t){return jr[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,r){return Aa[t][r]},sub:function(t,r){return Aa[t][Mt.inv(r)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,r){return Math.abs(t)*2<=Math.abs(r)?r>=0?Mt.S:Mt.N:Math.abs(r)*2<=Math.abs(t)?t>0?Mt.E:Mt.W:r>0?t>0?Mt.SE:Mt.SW:t>0?Mt.NE:Mt.NW},matrixAppendRotationInv:function(t,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var s=cd[Mt.inv(r)];s.tx=e,s.ty=n,t.append(s)}},BT=function(){function t(){this.worldTransform=new we,this.localTransform=new we,this.position=new Zn(this.onChange,this,0,0),this.scale=new Zn(this.onChange,this,1,1),this.pivot=new Zn(this.onChange,this,0,0),this.skew=new Zn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(r){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var n=r.worldTransform,s=this.worldTransform;s.a=e.a*n.a+e.b*n.c,s.b=e.a*n.b+e.b*n.d,s.c=e.c*n.a+e.d*n.c,s.d=e.c*n.b+e.d*n.d,s.tx=e.tx*n.a+e.ty*n.c+n.tx,s.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=r._worldID,this._worldID++}},t.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/runner - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ae=function(){function t(r){this.items=[],this._name=r,this._aliasCount=0}return t.prototype.emit=function(r,e,n,s,a,h,f,l){if(arguments.length>8)throw new Error("max arguments reached");var d=this,p=d.name,v=d.items;this._aliasCount++;for(var m=0,T=v.length;m<T;m++)v[m][p](r,e,n,s,a,h,f,l);return v===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},t.prototype.remove=function(r){var e=this.items.indexOf(r);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(r){return this.items.indexOf(r)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(ae.prototype,{dispatch:{value:ae.prototype.emit},run:{value:ae.prototype.emit}});/*!
 * @pixi/settings - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zf;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(zf||(zf={}));var $f;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})($f||($f={}));var Yf;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Yf||(Yf={}));var jf;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(jf||(jf={}));var qf;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(qf||(qf={}));var Zf;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Zf||(Zf={}));var Kf;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Kf||(Kf={}));var Jf;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Jf||(Jf={}));var Qf;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Qf||(Qf={}));var Na;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Na||(Na={}));var Pa;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Pa||(Pa={}));var Ua;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Ua||(Ua={}));var tl;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(tl||(tl={}));var el;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(el||(el={}));var Oa;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Oa||(Oa={}));var Kn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Kn||(Kn={}));var rl;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(rl||(rl={}));var nl;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(nl||(nl={}));var La;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(La||(La={}));var il;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(il||(il={}));var MT={createCanvas:function(t,r){var e=document.createElement("canvas");return e.width=t,e.height=r,e},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,r){return fetch(t,r)}},ea=/iPhone/i,sl=/iPod/i,ol=/iPad/i,al=/\biOS-universal(?:.+)Mac\b/i,ra=/\bAndroid(?:.+)Mobile\b/i,ul=/Android/i,_n=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ns=/Silk/i,lr=/Windows Phone/i,hl=/\bWindows(?:.+)ARM\b/i,fl=/BlackBerry/i,ll=/BB10/i,cl=/Opera Mini/i,dl=/\b(CriOS|Chrome)(?:.+)Mobile/i,pl=/Mobile(?:.+)Firefox\b/i,_l=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function XT(t){return function(r){return r.test(t)}}function DT(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var e=r.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var s=XT(e),a={apple:{phone:s(ea)&&!s(lr),ipod:s(sl),tablet:!s(ea)&&(s(ol)||_l(r))&&!s(lr),universal:s(al),device:(s(ea)||s(sl)||s(ol)||s(al)||_l(r))&&!s(lr)},amazon:{phone:s(_n),tablet:!s(_n)&&s(ns),device:s(_n)||s(ns)},android:{phone:!s(lr)&&s(_n)||!s(lr)&&s(ra),tablet:!s(lr)&&!s(_n)&&!s(ra)&&(s(ns)||s(ul)),device:!s(lr)&&(s(_n)||s(ns)||s(ra)||s(ul))||s(/\bokhttp\b/i)},windows:{phone:s(lr),tablet:s(hl),device:s(lr)||s(hl)},other:{blackberry:s(fl),blackberry10:s(ll),opera:s(cl),firefox:s(pl),chrome:s(dl),device:s(fl)||s(ll)||s(cl)||s(pl)||s(dl)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var qr=DT(globalThis.navigator);function HT(){return!qr.apple.device}function kT(t){var r=!0;if(qr.tablet||qr.phone){if(qr.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(r=!1)}}if(qr.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(r=!1)}}}return r?t:4}var j={ADAPTER:MT,MIPMAP_TEXTURES:Ua.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:La.NONE,SPRITE_MAX_TEXTURES:kT(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Oa.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Pa.CLAMP,SCALE_MODE:Na.LINEAR,PRECISION_VERTEX:Kn.HIGH,PRECISION_FRAGMENT:qr.apple.device?Kn.HIGH:Kn.MEDIUM,CAN_UPLOAD_SAME_BUFFER:HT(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/extensions - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jn=function(){return Jn=Object.assign||function(r){for(var e=arguments,n,s=1,a=arguments.length;s<a;s++){n=e[s];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(r[h]=n[h])}return r},Jn.apply(this,arguments)},Zt;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(Zt||(Zt={}));var vl=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var r=typeof t.extension!="object"?{type:t.extension}:t.extension;t=Jn(Jn({},r),{ref:t})}if(typeof t=="object")t=Jn({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},ze={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,r=this,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return e.map(vl).forEach(function(s){s.type.forEach(function(a){var h,f;return(f=(h=r._removeHandlers)[a])===null||f===void 0?void 0:f.call(h,s)})}),this},add:function(){for(var t=arguments,r=this,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return e.map(vl).forEach(function(s){s.type.forEach(function(a){var h=r._addHandlers,f=r._queue;h[a]?h[a](s):(f[a]=f[a]||[],f[a].push(s))})}),this},handle:function(t,r,e){var n=this._addHandlers=this._addHandlers||{},s=this._removeHandlers=this._removeHandlers||{};if(n[t]||s[t])throw new Error("Extension type "+t+" already has a handler");n[t]=r,s[t]=e;var a=this._queue;return a[t]&&(a[t].forEach(function(h){return r(h)}),delete a[t]),this},handleByMap:function(t,r){return this.handle(t,function(e){r[e.name]=e.ref},function(e){delete r[e.name]})},handleByList:function(t,r){return this.handle(t,function(e){var n,s;r.push(e.ref),t===Zt.Loader&&((s=(n=e.ref).add)===null||s===void 0||s.call(n))},function(e){var n=r.indexOf(e.ref);n!==-1&&r.splice(n,1)})}};/*!
 * @pixi/ticker - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.TARGET_FPMS=.06;var xn;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(xn||(xn={}));var na=function(){function t(r,e,n,s){e===void 0&&(e=null),n===void 0&&(n=0),s===void 0&&(s=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=r,this.context=e,this.priority=n,this.once=s}return t.prototype.match=function(r,e){return e===void 0&&(e=null),this.fn===r&&this.context===e},t.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},t.prototype.destroy=function(r){r===void 0&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=r?null:e,this.previous=null,e},t}(),qe=function(){function t(){var r=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new na(null,null,1/0),this.deltaMS=1/j.TARGET_FPMS,this.elapsedMS=1/j.TARGET_FPMS,this._tick=function(e){r._requestId=null,r.started&&(r.update(e),r.started&&r._requestId===null&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(r,e,n){return n===void 0&&(n=xn.NORMAL),this._addListener(new na(r,e,n))},t.prototype.addOnce=function(r,e,n){return n===void 0&&(n=xn.NORMAL),this._addListener(new na(r,e,n,!0))},t.prototype._addListener=function(r){var e=this._head.next,n=this._head;if(!e)r.connect(n);else{for(;e;){if(r.priority>e.priority){r.connect(n);break}n=e,e=e.next}r.previous||r.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(r,e){for(var n=this._head.next;n;)n.match(r,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,e=this._head;e=e.next;)r++;return r},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(r){r===void 0&&(r=performance.now());var e;if(r>this.lastTime){if(e=this.elapsedMS=r-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=r-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=r-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*j.TARGET_FPMS;for(var s=this._head,a=s.next;a;)a=a.emit(this.deltaTime);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var e=Math.min(this.maxFPS,r),n=Math.min(Math.max(0,e)/1e3,j.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(r===0)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,r);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var r=t._shared=new t;r.autoStart=!0,r._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var r=t._system=new t;r.autoStart=!0,r._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),VT=function(){function t(){}return t.init=function(r){var e=this;r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,xn.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?qe.shared:new qe,r.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}},t.extension=Zt.Application,t}(),ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WT(t){var r=t.default;if(typeof r=="function"){var e=function(){return r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),e}var dd={exports:{}};(function(t){var r=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(l,d,p){this.fn=l,this.context=d,this.once=p||!1}function a(l,d,p,v,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var T=new s(p,v||l,m),E=e?e+d:d;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],T]:l._events[E].push(T):(l._events[E]=T,l._eventsCount++),l}function h(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)r.call(p,v)&&d.push(e?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},f.prototype.listeners=function(d){var p=e?e+d:d,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var m=0,T=v.length,E=new Array(T);m<T;m++)E[m]=v[m].fn;return E},f.prototype.listenerCount=function(d){var p=e?e+d:d,v=this._events[p];return v?v.fn?1:v.length:0},f.prototype.emit=function(d,p,v,m,T,E){var w=e?e+d:d;if(!this._events[w])return!1;var R=this._events[w],A=arguments.length,F,P;if(R.fn){switch(R.once&&this.removeListener(d,R.fn,void 0,!0),A){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,p),!0;case 3:return R.fn.call(R.context,p,v),!0;case 4:return R.fn.call(R.context,p,v,m),!0;case 5:return R.fn.call(R.context,p,v,m,T),!0;case 6:return R.fn.call(R.context,p,v,m,T,E),!0}for(P=1,F=new Array(A-1);P<A;P++)F[P-1]=arguments[P];R.fn.apply(R.context,F)}else{var U=R.length,M;for(P=0;P<U;P++)switch(R[P].once&&this.removeListener(d,R[P].fn,void 0,!0),A){case 1:R[P].fn.call(R[P].context);break;case 2:R[P].fn.call(R[P].context,p);break;case 3:R[P].fn.call(R[P].context,p,v);break;case 4:R[P].fn.call(R[P].context,p,v,m);break;default:if(!F)for(M=1,F=new Array(A-1);M<A;M++)F[M-1]=arguments[M];R[P].fn.apply(R[P].context,F)}}return!0},f.prototype.on=function(d,p,v){return a(this,d,p,v,!1)},f.prototype.once=function(d,p,v){return a(this,d,p,v,!0)},f.prototype.removeListener=function(d,p,v,m){var T=e?e+d:d;if(!this._events[T])return this;if(!p)return h(this,T),this;var E=this._events[T];if(E.fn)E.fn===p&&(!m||E.once)&&(!v||E.context===v)&&h(this,T);else{for(var w=0,R=[],A=E.length;w<A;w++)(E[w].fn!==p||m&&!E[w].once||v&&E[w].context!==v)&&R.push(E[w]);R.length?this._events[T]=R.length===1?R[0]:R:h(this,T)}return this},f.prototype.removeAllListeners=function(d){var p;return d?(p=e?e+d:d,this._events[p]&&h(this,p)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,t.exports=f})(dd);const hi=dd.exports;var pd={exports:{}};pd.exports=Ps;pd.exports.default=Ps;function Ps(t,r,e){e=e||2;var n=r&&r.length,s=n?r[0]*e:t.length,a=_d(t,0,s,e,!0),h=[];if(!a||a.next===a.prev)return h;var f,l,d,p,v,m,T;if(n&&(a=qT(t,r,a,e)),t.length>80*e){f=d=t[0],l=p=t[1];for(var E=e;E<s;E+=e)v=t[E],m=t[E+1],v<f&&(f=v),m<l&&(l=m),v>d&&(d=v),m>p&&(p=m);T=Math.max(d-f,p-l),T=T!==0?32767/T:0}return ri(a,h,e,f,l,T,0),h}function _d(t,r,e,n,s){var a,h;if(s===Fa(t,r,e,n)>0)for(a=r;a<e;a+=n)h=gl(a,t[a],t[a+1],h);else for(a=e-n;a>=r;a-=n)h=gl(a,t[a],t[a+1],h);return h&&Us(h,h.next)&&(ii(h),h=h.next),h}function Kr(t,r){if(!t)return t;r||(r=t);var e=t,n;do if(n=!1,!e.steiner&&(Us(e,e.next)||Xt(e.prev,e,e.next)===0)){if(ii(e),e=r=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==r);return r}function ri(t,r,e,n,s,a,h){if(!!t){!h&&a&&t1(t,n,s,a);for(var f=t,l,d;t.prev!==t.next;){if(l=t.prev,d=t.next,a?$T(t,n,s,a):zT(t)){r.push(l.i/e|0),r.push(t.i/e|0),r.push(d.i/e|0),ii(t),t=d.next,f=d.next;continue}if(t=d,t===f){h?h===1?(t=YT(Kr(t),r,e),ri(t,r,e,n,s,a,2)):h===2&&jT(t,r,e,n,s,a):ri(Kr(t),r,e,n,s,a,1);break}}}}function zT(t){var r=t.prev,e=t,n=t.next;if(Xt(r,e,n)>=0)return!1;for(var s=r.x,a=e.x,h=n.x,f=r.y,l=e.y,d=n.y,p=s<a?s<h?s:h:a<h?a:h,v=f<l?f<d?f:d:l<d?l:d,m=s>a?s>h?s:h:a>h?a:h,T=f>l?f>d?f:d:l>d?l:d,E=n.next;E!==r;){if(E.x>=p&&E.x<=m&&E.y>=v&&E.y<=T&&gn(s,f,a,l,h,d,E.x,E.y)&&Xt(E.prev,E,E.next)>=0)return!1;E=E.next}return!0}function $T(t,r,e,n){var s=t.prev,a=t,h=t.next;if(Xt(s,a,h)>=0)return!1;for(var f=s.x,l=a.x,d=h.x,p=s.y,v=a.y,m=h.y,T=f<l?f<d?f:d:l<d?l:d,E=p<v?p<m?p:m:v<m?v:m,w=f>l?f>d?f:d:l>d?l:d,R=p>v?p>m?p:m:v>m?v:m,A=Ga(T,E,r,e,n),F=Ga(w,R,r,e,n),P=t.prevZ,U=t.nextZ;P&&P.z>=A&&U&&U.z<=F;){if(P.x>=T&&P.x<=w&&P.y>=E&&P.y<=R&&P!==s&&P!==h&&gn(f,p,l,v,d,m,P.x,P.y)&&Xt(P.prev,P,P.next)>=0||(P=P.prevZ,U.x>=T&&U.x<=w&&U.y>=E&&U.y<=R&&U!==s&&U!==h&&gn(f,p,l,v,d,m,U.x,U.y)&&Xt(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;P&&P.z>=A;){if(P.x>=T&&P.x<=w&&P.y>=E&&P.y<=R&&P!==s&&P!==h&&gn(f,p,l,v,d,m,P.x,P.y)&&Xt(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;U&&U.z<=F;){if(U.x>=T&&U.x<=w&&U.y>=E&&U.y<=R&&U!==s&&U!==h&&gn(f,p,l,v,d,m,U.x,U.y)&&Xt(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function YT(t,r,e){var n=t;do{var s=n.prev,a=n.next.next;!Us(s,a)&&vd(s,n,n.next,a)&&ni(s,a)&&ni(a,s)&&(r.push(s.i/e|0),r.push(n.i/e|0),r.push(a.i/e|0),ii(n),ii(n.next),n=t=a),n=n.next}while(n!==t);return Kr(n)}function jT(t,r,e,n,s,a){var h=t;do{for(var f=h.next.next;f!==h.prev;){if(h.i!==f.i&&n1(h,f)){var l=gd(h,f);h=Kr(h,h.next),l=Kr(l,l.next),ri(h,r,e,n,s,a,0),ri(l,r,e,n,s,a,0);return}f=f.next}h=h.next}while(h!==t)}function qT(t,r,e,n){var s=[],a,h,f,l,d;for(a=0,h=r.length;a<h;a++)f=r[a]*n,l=a<h-1?r[a+1]*n:t.length,d=_d(t,f,l,n,!1),d===d.next&&(d.steiner=!0),s.push(r1(d));for(s.sort(ZT),a=0;a<s.length;a++)e=KT(s[a],e);return e}function ZT(t,r){return t.x-r.x}function KT(t,r){var e=JT(t,r);if(!e)return r;var n=gd(e,t);return Kr(n,n.next),Kr(e,e.next)}function JT(t,r){var e=r,n=t.x,s=t.y,a=-1/0,h;do{if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){var f=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(f<=n&&f>a&&(a=f,h=e.x<e.next.x?e:e.next,f===n))return h}e=e.next}while(e!==r);if(!h)return null;var l=h,d=h.x,p=h.y,v=1/0,m;e=h;do n>=e.x&&e.x>=d&&n!==e.x&&gn(s<p?n:a,s,d,p,s<p?a:n,s,e.x,e.y)&&(m=Math.abs(s-e.y)/(n-e.x),ni(e,t)&&(m<v||m===v&&(e.x>h.x||e.x===h.x&&QT(h,e)))&&(h=e,v=m)),e=e.next;while(e!==l);return h}function QT(t,r){return Xt(t.prev,t,r.prev)<0&&Xt(r.next,t,t.next)<0}function t1(t,r,e,n){var s=t;do s.z===0&&(s.z=Ga(s.x,s.y,r,e,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,e1(s)}function e1(t){var r,e,n,s,a,h,f,l,d=1;do{for(e=t,t=null,a=null,h=0;e;){for(h++,n=e,f=0,r=0;r<d&&(f++,n=n.nextZ,!!n);r++);for(l=d;f>0||l>0&&n;)f!==0&&(l===0||!n||e.z<=n.z)?(s=e,e=e.nextZ,f--):(s=n,n=n.nextZ,l--),a?a.nextZ=s:t=s,s.prevZ=a,a=s;e=n}a.nextZ=null,d*=2}while(h>1);return t}function Ga(t,r,e,n,s){return t=(t-e)*s|0,r=(r-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t|r<<1}function r1(t){var r=t,e=t;do(r.x<e.x||r.x===e.x&&r.y<e.y)&&(e=r),r=r.next;while(r!==t);return e}function gn(t,r,e,n,s,a,h,f){return(s-h)*(r-f)>=(t-h)*(a-f)&&(t-h)*(n-f)>=(e-h)*(r-f)&&(e-h)*(a-f)>=(s-h)*(n-f)}function n1(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!i1(t,r)&&(ni(t,r)&&ni(r,t)&&s1(t,r)&&(Xt(t.prev,t,r.prev)||Xt(t,r.prev,r))||Us(t,r)&&Xt(t.prev,t,t.next)>0&&Xt(r.prev,r,r.next)>0)}function Xt(t,r,e){return(r.y-t.y)*(e.x-r.x)-(r.x-t.x)*(e.y-r.y)}function Us(t,r){return t.x===r.x&&t.y===r.y}function vd(t,r,e,n){var s=ss(Xt(t,r,e)),a=ss(Xt(t,r,n)),h=ss(Xt(e,n,t)),f=ss(Xt(e,n,r));return!!(s!==a&&h!==f||s===0&&is(t,e,r)||a===0&&is(t,n,r)||h===0&&is(e,t,n)||f===0&&is(e,r,n))}function is(t,r,e){return r.x<=Math.max(t.x,e.x)&&r.x>=Math.min(t.x,e.x)&&r.y<=Math.max(t.y,e.y)&&r.y>=Math.min(t.y,e.y)}function ss(t){return t>0?1:t<0?-1:0}function i1(t,r){var e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==r.i&&e.next.i!==r.i&&vd(e,e.next,t,r))return!0;e=e.next}while(e!==t);return!1}function ni(t,r){return Xt(t.prev,t,t.next)<0?Xt(t,r,t.next)>=0&&Xt(t,t.prev,r)>=0:Xt(t,r,t.prev)<0||Xt(t,t.next,r)<0}function s1(t,r){var e=t,n=!1,s=(t.x+r.x)/2,a=(t.y+r.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&s<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==t);return n}function gd(t,r){var e=new Sa(t.i,t.x,t.y),n=new Sa(r.i,r.x,r.y),s=t.next,a=r.prev;return t.next=r,r.prev=t,e.next=s,s.prev=e,n.next=e,e.prev=n,a.next=n,n.prev=a,n}function gl(t,r,e,n){var s=new Sa(t,r,e);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function ii(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Sa(t,r,e){this.i=t,this.x=r,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ps.deviation=function(t,r,e,n){var s=r&&r.length,a=s?r[0]*e:t.length,h=Math.abs(Fa(t,0,a,e));if(s)for(var f=0,l=r.length;f<l;f++){var d=r[f]*e,p=f<l-1?r[f+1]*e:t.length;h-=Math.abs(Fa(t,d,p,e))}var v=0;for(f=0;f<n.length;f+=3){var m=n[f]*e,T=n[f+1]*e,E=n[f+2]*e;v+=Math.abs((t[m]-t[E])*(t[T+1]-t[m+1])-(t[m]-t[T])*(t[E+1]-t[m+1]))}return h===0&&v===0?0:Math.abs((v-h)/h)};function Fa(t,r,e,n){for(var s=0,a=r,h=e-n;a<e;a+=n)s+=(t[h]-t[a])*(t[a+1]+t[h+1]),h=a;return s}Ps.flatten=function(t){for(var r=t[0][0].length,e={vertices:[],holes:[],dimensions:r},n=0,s=0;s<t.length;s++){for(var a=0;a<t[s].length;a++)for(var h=0;h<r;h++)e.vertices.push(t[s][a][h]);s>0&&(n+=t[s-1].length,e.holes.push(n))}return e};var Ba={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,r){(function(e){var n=r&&!r.nodeType&&r,s=t&&!t.nodeType&&t,a=typeof ce=="object"&&ce;(a.global===a||a.window===a||a.self===a)&&(e=a);var h,f=2147483647,l=36,d=1,p=26,v=38,m=700,T=72,E=128,w="-",R=/^xn--/,A=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=l-d,M=Math.floor,k=String.fromCharCode,Y;function z(L){throw RangeError(P[L])}function tt(L,X){for(var W=L.length,J=[];W--;)J[W]=X(L[W]);return J}function ft(L,X){var W=L.split("@"),J="";W.length>1&&(J=W[0]+"@",L=W[1]),L=L.replace(F,".");var et=L.split("."),lt=tt(et,X).join(".");return J+lt}function dt(L){for(var X=[],W=0,J=L.length,et,lt;W<J;)et=L.charCodeAt(W++),et>=55296&&et<=56319&&W<J?(lt=L.charCodeAt(W++),(lt&64512)==56320?X.push(((et&1023)<<10)+(lt&1023)+65536):(X.push(et),W--)):X.push(et);return X}function Ot(L){return tt(L,function(X){var W="";return X>65535&&(X-=65536,W+=k(X>>>10&1023|55296),X=56320|X&1023),W+=k(X),W}).join("")}function gt(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:l}function bt(L,X){return L+22+75*(L<26)-((X!=0)<<5)}function kt(L,X,W){var J=0;for(L=W?M(L/m):L>>1,L+=M(L/X);L>U*p>>1;J+=l)L=M(L/U);return M(J+(U+1)*L/(L+v))}function Ft(L){var X=[],W=L.length,J,et=0,lt=E,ot=T,Et,xt,wt,Vt,ct,yt,Nt,Rt,Wt;for(Et=L.lastIndexOf(w),Et<0&&(Et=0),xt=0;xt<Et;++xt)L.charCodeAt(xt)>=128&&z("not-basic"),X.push(L.charCodeAt(xt));for(wt=Et>0?Et+1:0;wt<W;){for(Vt=et,ct=1,yt=l;wt>=W&&z("invalid-input"),Nt=gt(L.charCodeAt(wt++)),(Nt>=l||Nt>M((f-et)/ct))&&z("overflow"),et+=Nt*ct,Rt=yt<=ot?d:yt>=ot+p?p:yt-ot,!(Nt<Rt);yt+=l)Wt=l-Rt,ct>M(f/Wt)&&z("overflow"),ct*=Wt;J=X.length+1,ot=kt(et-Vt,J,Vt==0),M(et/J)>f-lt&&z("overflow"),lt+=M(et/J),et%=J,X.splice(et++,0,lt)}return Ot(X)}function Yt(L){var X,W,J,et,lt,ot,Et,xt,wt,Vt,ct,yt=[],Nt,Rt,Wt,tr;for(L=dt(L),Nt=L.length,X=E,W=0,lt=T,ot=0;ot<Nt;++ot)ct=L[ot],ct<128&&yt.push(k(ct));for(J=et=yt.length,et&&yt.push(w);J<Nt;){for(Et=f,ot=0;ot<Nt;++ot)ct=L[ot],ct>=X&&ct<Et&&(Et=ct);for(Rt=J+1,Et-X>M((f-W)/Rt)&&z("overflow"),W+=(Et-X)*Rt,X=Et,ot=0;ot<Nt;++ot)if(ct=L[ot],ct<X&&++W>f&&z("overflow"),ct==X){for(xt=W,wt=l;Vt=wt<=lt?d:wt>=lt+p?p:wt-lt,!(xt<Vt);wt+=l)tr=xt-Vt,Wt=l-Vt,yt.push(k(bt(Vt+tr%Wt,0))),xt=M(tr/Wt);yt.push(k(bt(xt,0))),lt=kt(W,Rt,J==et),W=0,++J}++W,++X}return yt.join("")}function ie(L){return ft(L,function(X){return R.test(X)?Ft(X.slice(4).toLowerCase()):X})}function jt(L){return ft(L,function(X){return A.test(X)?"xn--"+Yt(X):X})}if(h={version:"1.3.2",ucs2:{decode:dt,encode:Ot},decode:Ft,encode:Yt,toASCII:jt,toUnicode:ie},n&&s)if(t.exports==n)s.exports=h;else for(Y in h)h.hasOwnProperty(Y)&&(n[Y]=h[Y]);else e.punycode=h})(ce)})(Ba,Ba.exports);var o1={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},si={};function a1(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var u1=function(t,r,e,n){r=r||"&",e=e||"=";var s={};if(typeof t!="string"||t.length===0)return s;var a=/\+/g;t=t.split(r);var h=1e3;n&&typeof n.maxKeys=="number"&&(h=n.maxKeys);var f=t.length;h>0&&f>h&&(f=h);for(var l=0;l<f;++l){var d=t[l].replace(a,"%20"),p=d.indexOf(e),v,m,T,E;p>=0?(v=d.substr(0,p),m=d.substr(p+1)):(v=d,m=""),T=decodeURIComponent(v),E=decodeURIComponent(m),a1(s,T)?Array.isArray(s[T])?s[T].push(E):s[T]=[s[T],E]:s[T]=E}return s},kn=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},h1=function(t,r,e,n){return r=r||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(s){var a=encodeURIComponent(kn(s))+e;return Array.isArray(t[s])?t[s].map(function(h){return a+encodeURIComponent(kn(h))}).join(r):a+encodeURIComponent(kn(t[s]))}).join(r):n?encodeURIComponent(kn(n))+e+encodeURIComponent(kn(t)):""};si.decode=si.parse=u1;si.encode=si.stringify=h1;var f1=Ba.exports,Ze=o1,l1=Os,c1=R1,d1=x1;function We(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var p1=/^([a-z0-9.+-]+:)/i,_1=/:[0-9]*$/,v1=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,g1=["<",">",'"',"`"," ","\r",`
`,"	"],m1=["{","}","|","\\","^","`"].concat(g1),Ma=["'"].concat(m1),ml=["%","/","?",";","#"].concat(Ma),yl=["/","?","#"],y1=255,Tl=/^[+a-z0-9A-Z_-]{0,63}$/,T1=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E1={javascript:!0,"javascript:":!0},Xa={javascript:!0,"javascript:":!0},yn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Da=si;function Os(t,r,e){if(t&&Ze.isObject(t)&&t instanceof We)return t;var n=new We;return n.parse(t,r,e),n}We.prototype.parse=function(t,r,e){if(!Ze.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(s),h=/\\/g;a[0]=a[0].replace(h,"/"),t=a.join(s);var f=t;if(f=f.trim(),!e&&t.split("#").length===1){var l=v1.exec(f);if(l)return this.path=f,this.href=f,this.pathname=l[1],l[2]?(this.search=l[2],r?this.query=Da.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var d=p1.exec(f);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,f=f.substr(d.length)}if(e||d||f.match(/^\/\/[^@\/]+@[^@\/]+/)){var v=f.substr(0,2)==="//";v&&!(d&&Xa[d])&&(f=f.substr(2),this.slashes=!0)}if(!Xa[d]&&(v||d&&!yn[d])){for(var m=-1,T=0;T<yl.length;T++){var E=f.indexOf(yl[T]);E!==-1&&(m===-1||E<m)&&(m=E)}var w,R;m===-1?R=f.lastIndexOf("@"):R=f.lastIndexOf("@",m),R!==-1&&(w=f.slice(0,R),f=f.slice(R+1),this.auth=decodeURIComponent(w)),m=-1;for(var T=0;T<ml.length;T++){var E=f.indexOf(ml[T]);E!==-1&&(m===-1||E<m)&&(m=E)}m===-1&&(m=f.length),this.host=f.slice(0,m),f=f.slice(m),this.parseHost(),this.hostname=this.hostname||"";var A=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!A)for(var F=this.hostname.split(/\./),T=0,P=F.length;T<P;T++){var U=F[T];if(!!U&&!U.match(Tl)){for(var M="",k=0,Y=U.length;k<Y;k++)U.charCodeAt(k)>127?M+="x":M+=U[k];if(!M.match(Tl)){var z=F.slice(0,T),tt=F.slice(T+1),ft=U.match(T1);ft&&(z.push(ft[1]),tt.unshift(ft[2])),tt.length&&(f="/"+tt.join(".")+f),this.hostname=z.join(".");break}}}this.hostname.length>y1?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=f1.toASCII(this.hostname));var dt=this.port?":"+this.port:"",Ot=this.hostname||"";this.host=Ot+dt,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),f[0]!=="/"&&(f="/"+f))}if(!E1[p])for(var T=0,P=Ma.length;T<P;T++){var gt=Ma[T];if(f.indexOf(gt)!==-1){var bt=encodeURIComponent(gt);bt===gt&&(bt=escape(gt)),f=f.split(gt).join(bt)}}var kt=f.indexOf("#");kt!==-1&&(this.hash=f.substr(kt),f=f.slice(0,kt));var Ft=f.indexOf("?");if(Ft!==-1?(this.search=f.substr(Ft),this.query=f.substr(Ft+1),r&&(this.query=Da.parse(this.query)),f=f.slice(0,Ft)):r&&(this.search="",this.query={}),f&&(this.pathname=f),yn[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var dt=this.pathname||"",Yt=this.search||"";this.path=dt+Yt}return this.href=this.format(),this};function x1(t){return Ze.isString(t)&&(t=Os(t)),t instanceof We?t.format():We.prototype.format.call(t)}We.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=this.protocol||"",e=this.pathname||"",n=this.hash||"",s=!1,a="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&Ze.isObject(this.query)&&Object.keys(this.query).length&&(a=Da.stringify(this.query));var h=this.search||a&&"?"+a||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||yn[r])&&s!==!1?(s="//"+(s||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),h&&h.charAt(0)!=="?"&&(h="?"+h),e=e.replace(/[?#]/g,function(f){return encodeURIComponent(f)}),h=h.replace("#","%23"),r+s+e+h+n};function R1(t,r){return Os(t,!1,!0).resolve(r)}We.prototype.resolve=function(t){return this.resolveObject(Os(t,!1,!0)).format()};We.prototype.resolveObject=function(t){if(Ze.isString(t)){var r=new We;r.parse(t,!1,!0),t=r}for(var e=new We,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];e[a]=this[a]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),f=0;f<h.length;f++){var l=h[f];l!=="protocol"&&(e[l]=t[l])}return yn[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!yn[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var v=d[p];e[v]=t[v]}return e.href=e.format(),e}if(e.protocol=t.protocol,!t.host&&!Xa[t.protocol]){for(var P=(t.pathname||"").split("/");P.length&&!(t.host=P.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),P[0]!==""&&P.unshift(""),P.length<2&&P.unshift(""),e.pathname=P.join("/")}else e.pathname=t.pathname;if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var m=e.pathname||"",T=e.search||"";e.path=m+T}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var E=e.pathname&&e.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",R=w||E||e.host&&t.pathname,A=R,F=e.pathname&&e.pathname.split("/")||[],P=t.pathname&&t.pathname.split("/")||[],U=e.protocol&&!yn[e.protocol];if(U&&(e.hostname="",e.port=null,e.host&&(F[0]===""?F[0]=e.host:F.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(P[0]===""?P[0]=t.host:P.unshift(t.host)),t.host=null),R=R&&(P[0]===""||F[0]==="")),w)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,F=P;else if(P.length)F||(F=[]),F.pop(),F=F.concat(P),e.search=t.search,e.query=t.query;else if(!Ze.isNullOrUndefined(t.search)){if(U){e.hostname=e.host=F.shift();var M=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;M&&(e.auth=M.shift(),e.host=e.hostname=M.shift())}return e.search=t.search,e.query=t.query,(!Ze.isNull(e.pathname)||!Ze.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!F.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var k=F.slice(-1)[0],Y=(e.host||t.host||F.length>1)&&(k==="."||k==="..")||k==="",z=0,tt=F.length;tt>=0;tt--)k=F[tt],k==="."?F.splice(tt,1):k===".."?(F.splice(tt,1),z++):z&&(F.splice(tt,1),z--);if(!R&&!A)for(;z--;z)F.unshift("..");R&&F[0]!==""&&(!F[0]||F[0].charAt(0)!=="/")&&F.unshift(""),Y&&F.join("/").substr(-1)!=="/"&&F.push("");var ft=F[0]===""||F[0]&&F[0].charAt(0)==="/";if(U){e.hostname=e.host=ft?"":F.length?F.shift():"";var M=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;M&&(e.auth=M.shift(),e.host=e.hostname=M.shift())}return R=R||e.host&&F.length,R&&!ft&&F.unshift(""),F.length?e.pathname=F.join("/"):(e.pathname=null,e.path=null),(!Ze.isNull(e.pathname)||!Ze.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e};We.prototype.parseHost=function(){var t=this.host,r=_1.exec(t);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)};/*!
 * @pixi/utils - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var md={parse:l1,format:d1,resolve:c1};j.RETINA_PREFIX=/@([0-9\.]+)x/;j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var El=!1,xl="6.5.2";function I1(t){var r;if(!El){if(j.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var e=[`
 %c %c %c PixiJS `+xl+" - \u2730 "+t+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(r=globalThis.console).log.apply(r,e)}else globalThis.console&&globalThis.console.log("PixiJS "+xl+" - "+t+" - http://www.pixijs.com/");El=!0}}var ia;function b1(){return typeof ia>"u"&&(ia=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!j.ADAPTER.getWebGLRenderingContext())return!1;var e=j.ADAPTER.createCanvas(),n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),s=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,s}catch{return!1}}()),ia}function C1(t,r){return r===void 0&&(r=[]),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,r}function w1(t){var r=t.toString(16);return r="000000".substring(0,6-r.length)+r,"#"+r}function A1(){for(var t=[],r=[],e=0;e<32;e++)t[e]=e,r[e]=e;t[Q.NORMAL_NPM]=Q.NORMAL,t[Q.ADD_NPM]=Q.ADD,t[Q.SCREEN_NPM]=Q.SCREEN,r[Q.NORMAL]=Q.NORMAL_NPM,r[Q.ADD]=Q.ADD_NPM,r[Q.SCREEN]=Q.SCREEN_NPM;var n=[];return n.push(r),n.push(t),n}var N1=A1();function P1(t,r){if(r===1)return(r*255<<24)+t;if(r===0)return 0;var e=t>>16&255,n=t>>8&255,s=t&255;return e=e*r+.5|0,n=n*r+.5|0,s=s*r+.5|0,(r*255<<24)+(e<<16)+(n<<8)+s}function yd(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function bs(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Rl(t){return!(t&t-1)&&!!t}function Il(t){var r=(t>65535?1:0)<<4;t>>>=r;var e=(t>255?1:0)<<3;return t>>>=e,r|=e,e=(t>15?1:0)<<2,t>>>=e,r|=e,e=(t>3?1:0)<<1,t>>>=e,r|=e,r|t>>1}function xs(t,r,e){var n=t.length,s;if(!(r>=n||e===0)){e=r+e>n?n-r:e;var a=n-e;for(s=r;s<a;++s)t[s]=t[s+e];t.length=a}}function os(t){return t===0?0:t<0?-1:1}var U1=0;function oi(){return++U1}var bl={};function Ur(t,r,e){if(e===void 0&&(e=3),!bl[r]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(n))),bl[r]=!0}}var Cl={},pr=Object.create(null),kr=Object.create(null);(function(){function t(r,e,n){this.canvas=j.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||j.RESOLUTION,this.resize(r,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,e){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t})();var as;function O1(t,r){if(r===void 0&&(r=globalThis.location),t.indexOf("data:")===0)return"";r=r||globalThis.location,as||(as=document.createElement("a")),as.href=t;var e=md.parse(as.href),n=!e.port&&r.port===""||e.port===r.port;return e.hostname!==r.hostname||!n||e.protocol!==r.protocol?"anonymous":""}function wl(t,r){var e=j.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):r!==void 0?r:1}/*!
 * @pixi/core - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.PREFER_ENV=qr.any?gr.WEBGL:gr.WEBGL2;j.STRICT_TEXTURE_CACHE=!1;var Ha=[];function Td(t,r){if(!t)return null;var e="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(e=n[1].toLowerCase())}for(var s=Ha.length-1;s>=0;--s){var a=Ha[s];if(a.test&&a.test(t,e))return new a(t,r)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ka=function(t,r){return ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},ka(t,r)};function Ut(t,r){ka(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Va=function(){return Va=Object.assign||function(r){for(var e=arguments,n,s=1,a=arguments.length;s<a;s++){n=e[s];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(r[h]=n[h])}return r},Va.apply(this,arguments)};function L1(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e}var ai=function(){function t(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this._width=r,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new ae("setRealSize"),this.onUpdate=new ae("update"),this.onError=new ae("onError")}return t.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},t.prototype.resize=function(r,e){(r!==this._width||e!==this._height)&&(this._width=r,this._height=e,this.onResize.emit(r,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(r,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(r,e){return!1},t}(),fi=function(t){Ut(r,t);function r(e,n){var s=this,a=n||{},h=a.width,f=a.height;if(!h||!f)throw new Error("BufferResource width or height invalid");return s=t.call(this,h,f)||this,s.data=e,s}return r.prototype.upload=function(e,n,s){var a=e.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Qe.UNPACK);var h=n.realWidth,f=n.realHeight;return s.width===h&&s.height===f?a.texSubImage2D(n.target,0,0,0,h,f,n.format,s.type,this.data):(s.width=h,s.height=f,a.texImage2D(n.target,0,s.internalFormat,h,f,0,n.format,s.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(ai),G1={scaleMode:vr.NEAREST,format:D.RGBA,alphaMode:Qe.NPM},Gt=function(t){Ut(r,t);function r(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var s=t.call(this)||this;n=n||{};var a=n.alphaMode,h=n.mipmap,f=n.anisotropicLevel,l=n.scaleMode,d=n.width,p=n.height,v=n.wrapMode,m=n.format,T=n.type,E=n.target,w=n.resolution,R=n.resourceOptions;return e&&!(e instanceof ai)&&(e=Td(e,R),e.internal=!0),s.resolution=w||j.RESOLUTION,s.width=Math.round((d||0)*s.resolution)/s.resolution,s.height=Math.round((p||0)*s.resolution)/s.resolution,s._mipmap=h!==void 0?h:j.MIPMAP_TEXTURES,s.anisotropicLevel=f!==void 0?f:j.ANISOTROPIC_LEVEL,s._wrapMode=v||j.WRAP_MODE,s._scaleMode=l!==void 0?l:j.SCALE_MODE,s.format=m||D.RGBA,s.type=T||rt.UNSIGNED_BYTE,s.target=E||Zr.TEXTURE_2D,s.alphaMode=a!==void 0?a:Qe.UNPACK,s.uid=oi(),s.touched=0,s.isPowerOfTwo=!1,s._refreshPOT(),s._glTextures={},s.dirtyId=0,s.dirtyStyleId=0,s.cacheId=null,s.valid=d>0&&p>0,s.textureCacheIds=[],s.destroyed=!1,s.resource=null,s._batchEnabled=0,s._batchLocation=0,s.parentTextureArray=null,s.setResource(e),s}return Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(e,n){var s;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,s=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,s=!0),s&&this.dirtyStyleId++,this},r.prototype.setSize=function(e,n,s){return s=s||this.resolution,this.setRealSize(e*s,n*s,s)},r.prototype.setRealSize=function(e,n,s){return this.resolution=s||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=Rl(this.realWidth)&&Rl(this.realHeight)},r.prototype.setResolution=function(e){var n=this.resolution;return n===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*n)/e,this.height=Math.round(this.height*n)/e,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(e){this.emit("error",this,e)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete kr[this.cacheId],delete pr[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(e,n,s){s===void 0&&(s=j.STRICT_TEXTURE_CACHE);var a=typeof e=="string",h=null;if(a)h=e;else{if(!e._pixiId){var f=n&&n.pixiIdPrefix||"pixiid";e._pixiId=f+"_"+oi()}h=e._pixiId}var l=kr[h];if(a&&s&&!l)throw new Error('The cacheId "'+h+'" does not exist in BaseTextureCache.');return l||(l=new r(e,n),l.cacheId=h,r.addToCache(l,h)),l},r.fromBuffer=function(e,n,s,a){e=e||new Float32Array(n*s*4);var h=new fi(e,{width:n,height:s}),f=e instanceof Float32Array?rt.FLOAT:rt.UNSIGNED_BYTE;return new r(h,Object.assign(G1,a||{width:n,height:s,type:f}))},r.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),kr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),kr[n]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var n=kr[e];if(n){var s=n.textureCacheIds.indexOf(e);return s>-1&&n.textureCacheIds.splice(s,1),delete kr[e],n}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)delete kr[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},r._globalBatch=0,r}(hi),Ed=function(t){Ut(r,t);function r(e,n){var s=this,a=n||{},h=a.width,f=a.height;s=t.call(this,h,f)||this,s.items=[],s.itemDirtyIds=[];for(var l=0;l<e;l++){var d=new Gt;s.items.push(d),s.itemDirtyIds.push(-2)}return s.length=e,s._load=null,s.baseTexture=null,s}return r.prototype.initFromArray=function(e,n){for(var s=0;s<this.length;s++)!e[s]||(e[s].castToBaseTexture?this.addBaseTextureAt(e[s].castToBaseTexture(),s):e[s]instanceof ai?this.addResourceAt(e[s],s):this.addResourceAt(Td(e[s],n),s))},r.prototype.dispose=function(){for(var e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(e,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this},r.prototype.bind=function(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},r.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},r.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),s=n.map(function(a){return a.load()});return this._load=Promise.all(s).then(function(){var a=e.items[0],h=a.realWidth,f=a.realHeight;return e.resize(h,f),Promise.resolve(e)}),this._load},r}(ai),S1=function(t){Ut(r,t);function r(e,n){var s=this,a=n||{},h=a.width,f=a.height,l,d;return Array.isArray(e)?(l=e,d=e.length):d=e,s=t.call(this,d,{width:h,height:f})||this,l&&s.initFromArray(l,n),s}return r.prototype.addBaseTextureAt=function(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},r.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=Zr.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,n,s){var a=this,h=a.length,f=a.itemDirtyIds,l=a.items,d=e.gl;s.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,s.internalFormat,this._width,this._height,h,0,n.format,s.type,null);for(var p=0;p<h;p++){var v=l[p];f[p]<v.dirtyId&&(f[p]=v.dirtyId,v.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,p,v.resource.width,v.resource.height,1,n.format,s.type,v.resource.source))}return!0},r}(Ed),Or=function(t){Ut(r,t);function r(e){var n=this,s=e,a=s.naturalWidth||s.videoWidth||s.width,h=s.naturalHeight||s.videoHeight||s.height;return n=t.call(this,a,h)||this,n.source=e,n.noSubImage=!1,n}return r.crossOrigin=function(e,n,s){s===void 0&&n.indexOf("data:")!==0?e.crossOrigin=O1(n):s!==!1&&(e.crossOrigin=typeof s=="string"?s:"anonymous")},r.prototype.upload=function(e,n,s,a){var h=e.gl,f=n.realWidth,l=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Qe.UNPACK),!this.noSubImage&&n.target===h.TEXTURE_2D&&s.width===f&&s.height===l?h.texSubImage2D(h.TEXTURE_2D,0,0,0,n.format,s.type,a):(s.width=f,s.height=l,h.texImage2D(n.target,0,s.internalFormat,n.format,s.type,a)),!0},r.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,s=e.naturalHeight||e.videoHeight||e.height;this.resize(n,s),t.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(ai),F1=function(t){Ut(r,t);function r(e){return t.call(this,e)||this}return r.test=function(e){var n=globalThis.OffscreenCanvas;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},r}(Or),B1=function(t){Ut(r,t);function r(e,n){var s=this,a=n||{},h=a.width,f=a.height,l=a.autoLoad,d=a.linkBaseTexture;if(e&&e.length!==r.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");s=t.call(this,6,{width:h,height:f})||this;for(var p=0;p<r.SIDES;p++)s.items[p].target=Zr.TEXTURE_CUBE_MAP_POSITIVE_X+p;return s.linkBaseTexture=d!==!1,e&&s.initFromArray(e,n),l!==!1&&s.load(),s}return r.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=Zr.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,n,s){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Zr.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.parentTextureArray=this.baseTexture,this.items[n]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[n]=e,this},r.prototype.upload=function(e,n,s){for(var a=this.itemDirtyIds,h=0;h<r.SIDES;h++){var f=this.items[h];(a[h]<f.dirtyId||s.dirtyId<n.dirtyId)&&(f.valid&&f.resource?(f.resource.upload(e,f,s),a[h]=f.dirtyId):a[h]<-1&&(e.gl.texImage2D(f.target,0,s.internalFormat,n.realWidth,n.realHeight,0,n.format,s.type,null),a[h]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(Ed),xd=function(t){Ut(r,t);function r(e,n){var s=this;if(n=n||{},!(e instanceof HTMLImageElement)){var a=new Image;Or.crossOrigin(a,e,n.crossorigin),a.src=e,e=a}return s=t.call(this,e)||this,!e.complete&&!!s._width&&!!s._height&&(s._width=0,s._height=0),s.url=e.src,s._process=null,s.preserveBitmap=!1,s.createBitmap=(n.createBitmap!==void 0?n.createBitmap:j.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,s.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,s.bitmap=null,s._load=null,n.autoLoad!==!1&&s.load(),s}return r.prototype.load=function(e){var n=this;return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise(function(s,a){var h=n.source;n.url=h.src;var f=function(){n.destroyed||(h.onload=null,h.onerror=null,n.resize(h.width,h.height),n._load=null,n.createBitmap?s(n.process()):s(n))};h.complete&&h.src?f():(h.onload=f,h.onerror=function(l){a(l),n.onError.emit(l)})}),this._load)},r.prototype.process=function(){var e=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var s=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(h){return h.blob()}).then(function(h){return s(h,0,0,n.width,n.height,{premultiplyAlpha:e.alphaMode===Qe.UNPACK?"premultiply":"none"})}).then(function(h){return e.destroyed?Promise.reject():(e.bitmap=h,e.update(),e._process=null,Promise.resolve(e))}),this._process},r.prototype.upload=function(e,n,s){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,s);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,s,this.bitmap),!this.preserveBitmap){var a=!0,h=n._glTextures;for(var f in h){var l=h[f];if(l!==s&&l.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return typeof e=="string"||e instanceof HTMLImageElement},r}(Or),M1=function(t){Ut(r,t);function r(e,n){var s=this;return n=n||{},s=t.call(this,j.ADAPTER.createCanvas())||this,s._width=0,s._height=0,s.svg=e,s.scale=n.scale||1,s._overrideWidth=n.width,s._overrideHeight=n.height,s._resolve=null,s._crossorigin=n.crossorigin,s._load=null,n.autoLoad!==!1&&s.load(),s}return r.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(n){if(e._resolve=function(){e.resize(e.source.width,e.source.height),n(e)},r.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},r.prototype._loadSvg=function(){var e=this,n=new Image;Or.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(s){!e._resolve||(n.onerror=null,e.onError.emit(s))},n.onload=function(){if(!!e._resolve){var s=n.width,a=n.height;if(!s||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var h=s*e.scale,f=a*e.scale;(e._overrideWidth||e._overrideHeight)&&(h=e._overrideWidth||e._overrideHeight/a*s,f=e._overrideHeight||e._overrideWidth/s*a),h=Math.round(h),f=Math.round(f);var l=e.source;l.width=h,l.height=f,l._pixiId="canvas_"+oi(),l.getContext("2d").drawImage(n,0,0,s,a,0,0,h,f),e._resolve(),e._resolve=null}}},r.getSize=function(e){var n=r.SVG_SIZE.exec(e),s={};return n&&(s[n[1]]=Math.round(parseFloat(n[3])),s[n[5]]=Math.round(parseFloat(n[7]))),s},r.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(e,n){return n==="svg"||typeof e=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||typeof e=="string"&&r.SVG_XML.test(e)},r.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}(Or),X1=function(t){Ut(r,t);function r(e,n){var s=this;if(n=n||{},!(e instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);var h=e[0].src||e[0];Or.crossOrigin(a,h,n.crossorigin);for(var f=0;f<e.length;++f){var l=document.createElement("source"),d=e[f],p=d.src,v=d.mime;p=p||e[f];var m=p.split("?").shift().toLowerCase(),T=m.slice(m.lastIndexOf(".")+1);v=v||r.MIME_TYPES[T]||"video/"+T,l.src=p,l.type=v,a.appendChild(l)}e=a}return s=t.call(this,e)||this,s.noSubImage=!0,s._autoUpdate=!0,s._isConnectedToTicker=!1,s._updateFPS=n.updateFPS||0,s._msToNextUpdate=0,s.autoPlay=n.autoPlay!==!1,s._load=null,s._resolve=null,s._onCanPlay=s._onCanPlay.bind(s),s._onError=s._onError.bind(s),n.autoLoad!==!1&&s.load(),s}return r.prototype.update=function(e){if(!this.destroyed){var n=qe.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},r.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(s){e.valid?s(e):(e._resolve=s,n.load())}),this._load},r.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},r.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&e.paused===!1&&e.ended===!1&&e.readyState>2},r.prototype._isSourceReady=function(){var e=this.source;return e.readyState===3||e.readyState===4},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(qe.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(qe.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(e.videoWidth,e.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&(qe.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(qe.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(qe.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),r.test=function(e,n){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||r.TYPES.indexOf(n)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}(Or),D1=function(t){Ut(r,t);function r(e){return t.call(this,e)||this}return r.test=function(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&e instanceof ImageBitmap},r}(Or);Ha.push(xd,D1,F1,X1,M1,fi,B1,S1);var H1=function(t){Ut(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.upload=function(e,n,s){var a=e.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Qe.UNPACK);var h=n.realWidth,f=n.realHeight;return s.width===h&&s.height===f?a.texSubImage2D(n.target,0,0,0,h,f,n.format,s.type,this.data):(s.width=h,s.height=f,a.texImage2D(n.target,0,s.internalFormat,h,f,0,n.format,s.type,this.data)),!0},r}(fi),Wa=function(){function t(r,e){this.width=Math.round(r||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ae("disposeFramebuffer"),this.multisample=qt.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(r,e){return r===void 0&&(r=0),this.colorTextures[r]=e||new Gt(null,{scaleMode:vr.NEAREST,resolution:1,mipmap:mr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(r){return this.depthTexture=r||new Gt(new H1(null,{width:this.width,height:this.height}),{scaleMode:vr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:mr.OFF,format:D.DEPTH_COMPONENT,type:rt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(r,e){if(r=Math.round(r),e=Math.round(e),!(r===this.width&&e===this.height)){this.width=r,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var s=this.colorTextures[n],a=s.resolution;s.setSize(r/a,e/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(r/a,e/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Rd=function(t){Ut(r,t);function r(e){e===void 0&&(e={});var n=this;if(typeof e=="number"){var s=arguments[0],a=arguments[1],h=arguments[2],f=arguments[3];e={width:s,height:a,scaleMode:h,resolution:f}}return e.width=e.width||100,e.height=e.height||100,e.multisample=e.multisample!==void 0?e.multisample:qt.NONE,n=t.call(this,null,e)||this,n.mipmap=mr.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Wa(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=e.multisample,n.maskStack=[],n.filterStack=[{}],n}return r.prototype.resize=function(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},r.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(Gt),Id=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(r,e,n){var s=e.width,a=e.height;if(n){var h=r.width/2/s,f=r.height/2/a,l=r.x/s+h,d=r.y/a+f;n=Mt.add(n,Mt.NW),this.x0=l+h*Mt.uX(n),this.y0=d+f*Mt.uY(n),n=Mt.add(n,2),this.x1=l+h*Mt.uX(n),this.y1=d+f*Mt.uY(n),n=Mt.add(n,2),this.x2=l+h*Mt.uX(n),this.y2=d+f*Mt.uY(n),n=Mt.add(n,2),this.x3=l+h*Mt.uX(n),this.y3=d+f*Mt.uY(n)}else this.x0=r.x/s,this.y0=r.y/a,this.x1=(r.x+r.width)/s,this.y1=r.y/a,this.x2=(r.x+r.width)/s,this.y2=(r.y+r.height)/a,this.x3=r.x/s,this.y3=(r.y+r.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),Al=new Id;function us(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var pe=function(t){Ut(r,t);function r(e,n,s,a,h,f){var l=t.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new Ht(0,0,1,1)),e instanceof r&&(e=e.baseTexture),l.baseTexture=e,l._frame=n,l.trim=a,l.valid=!1,l._uvs=Al,l.uvMatrix=null,l.orig=s||n,l._rotate=Number(h||0),h===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=f?new de(f.x,f.y):new de(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=n:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture.resource;n&&n.url&&pr[n.url]&&r.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){var e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),s=new r(this.baseTexture,!this.noFrame&&e,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(s._frame=e),s},r.prototype.updateUvs=function(){this._uvs===Al&&(this._uvs=new Id),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(e,n,s){n===void 0&&(n={}),s===void 0&&(s=j.STRICT_TEXTURE_CACHE);var a=typeof e=="string",h=null;if(a)h=e;else if(e instanceof Gt){if(!e.cacheId){var f=n&&n.pixiIdPrefix||"pixiid";e.cacheId=f+"-"+oi(),Gt.addToCache(e,e.cacheId)}h=e.cacheId}else{if(!e._pixiId){var f=n&&n.pixiIdPrefix||"pixiid";e._pixiId=f+"_"+oi()}h=e._pixiId}var l=pr[h];if(a&&s&&!l)throw new Error('The cacheId "'+h+'" does not exist in TextureCache.');return!l&&!(e instanceof Gt)?(n.resolution||(n.resolution=wl(e)),l=new r(new Gt(e,n)),l.baseTexture.cacheId=h,Gt.addToCache(l.baseTexture,h),r.addToCache(l,h)):!l&&e instanceof Gt&&(l=new r(e),r.addToCache(l,h)),l},r.fromURL=function(e,n){var s=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=r.from(e,Object.assign({resourceOptions:s},n),!1),h=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):h.load().then(function(){return Promise.resolve(a)})},r.fromBuffer=function(e,n,s,a){return new r(Gt.fromBuffer(e,n,s,a))},r.fromLoader=function(e,n,s,a){var h=new Gt(e,Object.assign({scaleMode:j.SCALE_MODE,resolution:wl(n)},a)),f=h.resource;f instanceof xd&&(f.url=n);var l=new r(h);return s||(s=n),Gt.addToCache(l.baseTexture,s),r.addToCache(l,s),s!==n&&(Gt.addToCache(l.baseTexture,n),r.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(d){l.baseTexture.once("loaded",function(){return d(l)})})},r.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),pr[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),pr[n]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var n=pr[e];if(n){var s=n.textureCacheIds.indexOf(e);return s>-1&&n.textureCacheIds.splice(s,1),delete pr[e],n}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)pr[e.textureCacheIds[a]]===e&&delete pr[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var n=e.x,s=e.y,a=e.width,h=e.height,f=n+a>this.baseTexture.width,l=s+h>this.baseTexture.height;if(f||l){var d=f&&l?"and":"or",p="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,v="Y: "+s+" + "+h+" = "+(s+h)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(p+" "+d+" "+v))}this.valid=a&&h&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(r,"EMPTY",{get:function(){return r._EMPTY||(r._EMPTY=new r(new Gt),us(r._EMPTY),us(r._EMPTY.baseTexture)),r._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(r,"WHITE",{get:function(){if(!r._WHITE){var e=j.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),r._WHITE=new r(Gt.from(e)),us(r._WHITE),us(r._WHITE.baseTexture)}return r._WHITE},enumerable:!1,configurable:!0}),r}(hi),au=function(t){Ut(r,t);function r(e,n){var s=t.call(this,e,n)||this;return s.valid=!0,s.filterFrame=null,s.filterPoolKey=null,s.updateUvs(),s}return Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,n,s){s===void 0&&(s=!0);var a=this.baseTexture.resolution,h=Math.round(e*a)/a,f=Math.round(n*a)/a;this.valid=h>0&&f>0,this._frame.width=this.orig.width=h,this._frame.height=this.orig.height=f,s&&this.baseTexture.resize(h,f),this.updateUvs()},r.prototype.setResolution=function(e){var n=this.baseTexture;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))},r.create=function(e){for(var n=arguments,s=[],a=1;a<arguments.length;a++)s[a-1]=n[a];return typeof e=="number"&&(Ur("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:s[0],scaleMode:s[1],resolution:s[2]}),new r(new Rd(e))},r}(pe),k1=function(){function t(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(r,e,n){n===void 0&&(n=qt.NONE);var s=new Rd(Object.assign({width:r,height:e,resolution:1,multisample:n},this.textureOptions));return new au(s)},t.prototype.getOptimalTexture=function(r,e,n,s){n===void 0&&(n=1),s===void 0&&(s=qt.NONE);var a;r=Math.ceil(r*n-1e-6),e=Math.ceil(e*n-1e-6),!this.enableFullScreen||r!==this._pixelsWidth||e!==this._pixelsHeight?(r=bs(r),e=bs(e),a=((r&65535)<<16|e&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);var h=this.texturePool[a].pop();return h||(h=this.createTexture(r,e,s)),h.filterPoolKey=a,h.setResolution(n),h},t.prototype.getFilterTexture=function(r,e,n){var s=this.getOptimalTexture(r.width,r.height,e||r.resolution,n||qt.NONE);return s.filterFrame=r.filterFrame,s},t.prototype.returnTexture=function(r){var e=r.filterPoolKey;r.filterFrame=null,this.texturePool[e].push(r)},t.prototype.returnFilterTexture=function(r){this.returnTexture(r)},t.prototype.clear=function(r){if(r=r!==!1,r)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(r){if(!(r.width===this._pixelsWidth&&r.height===this._pixelsHeight)){this.enableFullScreen=r.width>0&&r.height>0;for(var e in this.texturePool)if(Number(e)<0){var n=this.texturePool[e];if(n)for(var s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=r.width,this._pixelsHeight=r.height}},t.SCREEN_KEY=-1,t}(),Nl=function(){function t(r,e,n,s,a,h,f){e===void 0&&(e=0),n===void 0&&(n=!1),s===void 0&&(s=rt.FLOAT),this.buffer=r,this.size=e,this.normalized=n,this.type=s,this.stride=a,this.start=h,this.instance=f}return t.prototype.destroy=function(){this.buffer=null},t.from=function(r,e,n,s,a){return new t(r,e,n,s,a)},t}(),V1=0,Ce=function(){function t(r,e,n){e===void 0&&(e=!0),n===void 0&&(n=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=V1++,this.disposeRunner=new ae("disposeBuffer")}return t.prototype.update=function(r){r instanceof Array&&(r=new Float32Array(r)),this.data=r||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Je.ELEMENT_ARRAY_BUFFER},set:function(r){this.type=r?Je.ELEMENT_ARRAY_BUFFER:Je.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new t(r)},t}(),W1={Float32Array,Uint32Array,Int32Array,Uint8Array};function z1(t,r){for(var e=0,n=0,s={},a=0;a<t.length;a++)n+=r[a],e+=t[a].length;for(var h=new ArrayBuffer(e*4),f=null,l=0,a=0;a<t.length;a++){var d=r[a],p=t[a],v=yd(p);s[v]||(s[v]=new W1[v](h)),f=s[v];for(var m=0;m<p.length;m++){var T=(m/d|0)*n+l,E=m%d;f[T+E]=p[m]}l+=d}return new Float32Array(h)}var Pl={5126:4,5123:2,5121:1},$1=0,Y1={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},uu=function(){function t(r,e){r===void 0&&(r=[]),e===void 0&&(e={}),this.buffers=r,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=$1++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ae("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(r,e,n,s,a,h,f,l){if(n===void 0&&(n=0),s===void 0&&(s=!1),l===void 0&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ce||(e instanceof Array&&(e=new Float32Array(e)),e=new Ce(e));var d=r.split("|");if(d.length>1){for(var p=0;p<d.length;p++)this.addAttribute(d[p],e,n,s,a);return this}var v=this.buffers.indexOf(e);return v===-1&&(this.buffers.push(e),v=this.buffers.length-1),this.attributes[r]=new Nl(v,n,s,a,h,f,l),this.instanced=this.instanced||l,this},t.prototype.getAttribute=function(r){return this.attributes[r]},t.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},t.prototype.addIndex=function(r){return r instanceof Ce||(r instanceof Array&&(r=new Uint16Array(r)),r=new Ce(r)),r.type=Je.ELEMENT_ARRAY_BUFFER,this.indexBuffer=r,this.buffers.indexOf(r)===-1&&this.buffers.push(r),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var r=[],e=[],n=new Ce,s;for(s in this.attributes){var a=this.attributes[s],h=this.buffers[a.buffer];r.push(h.data),e.push(a.size*Pl[a.type]/4),a.buffer=0}for(n.data=z1(r,e),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var r in this.attributes){var e=this.attributes[r],n=this.buffers[e.buffer];return n.data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var r=new t,e=0;e<this.buffers.length;e++)r.buffers[e]=new Ce(this.buffers[e].data.slice(0));for(var e in this.attributes){var n=this.attributes[e];r.attributes[e]=new Nl(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.type=Je.ELEMENT_ARRAY_BUFFER),r},t.merge=function(r){for(var e=new t,n=[],s=[],a=[],h,f=0;f<r.length;f++){h=r[f];for(var l=0;l<h.buffers.length;l++)s[l]=s[l]||0,s[l]+=h.buffers[l].data.length,a[l]=0}for(var f=0;f<h.buffers.length;f++)n[f]=new Y1[yd(h.buffers[f].data)](s[f]),e.buffers[f]=new Ce(n[f]);for(var f=0;f<r.length;f++){h=r[f];for(var l=0;l<h.buffers.length;l++)n[l].set(h.buffers[l].data,a[l]),a[l]+=h.buffers[l].data.length}if(e.attributes=h.attributes,h.indexBuffer){e.indexBuffer=e.buffers[h.buffers.indexOf(h.indexBuffer)],e.indexBuffer.type=Je.ELEMENT_ARRAY_BUFFER;for(var d=0,p=0,v=0,m=0,f=0;f<h.buffers.length;f++)if(h.buffers[f]!==h.indexBuffer){m=f;break}for(var f in h.attributes){var T=h.attributes[f];(T.buffer|0)===m&&(p+=T.size*Pl[T.type]/4)}for(var f=0;f<r.length;f++){for(var E=r[f].indexBuffer.data,l=0;l<E.length;l++)e.indexBuffer.data[l+v]+=d;d+=r[f].buffers[m].data.length/p,v+=E.length}}return e},t}(),j1=function(t){Ut(r,t);function r(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return r}(uu),q1=function(t){Ut(r,t);function r(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Ce(e.vertices),e.uvBuffer=new Ce(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return r.prototype.map=function(e,n){var s=0,a=0;return this.uvs[0]=s,this.uvs[1]=a,this.uvs[2]=s+n.width/e.width,this.uvs[3]=a,this.uvs[4]=s+n.width/e.width,this.uvs[5]=a+n.height/e.height,this.uvs[6]=s,this.uvs[7]=a+n.height/e.height,s=n.x,a=n.y,this.vertices[0]=s,this.vertices[1]=a,this.vertices[2]=s+n.width,this.vertices[3]=a,this.vertices[4]=s+n.width,this.vertices[5]=a+n.height,this.vertices[6]=s,this.vertices[7]=a+n.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(uu),Z1=0,Tn=function(){function t(r,e,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Z1++,this.static=!!e,this.ubo=!!n,r instanceof Ce?(this.buffer=r,this.buffer.type=Je.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=r,this.ubo&&(this.buffer=new Ce(new Float32Array(1)),this.buffer.type=Je.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(r,e,n){if(!this.ubo)this.uniforms[r]=new t(e,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(r,e,n){return new t(r,e,n)},t.uboFrom=function(r,e){return new t(r,e!=null?e:!0,!0)},t}(),K1=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qt.NONE,this.sourceFrame=new Ht,this.destinationFrame=new Ht,this.bindingSourceFrame=new Ht,this.bindingDestinationFrame=new Ht,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),hs=[new de,new de,new de,new de],sa=new we,J1=function(){function t(r){this.renderer=r,this.defaultFilterStack=[{}],this.texturePool=new k1,this.texturePool.setScreenSize(r.view),this.statePool=[],this.quad=new j1,this.quadUv=new q1,this.tempRect=new Ht,this.activeState={},this.globalUniforms=new Tn({outputFrame:new Ht,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(r,e){for(var n,s,a=this.renderer,h=this.defaultFilterStack,f=this.statePool.pop()||new K1,l=this.renderer.renderTexture,d=e[0].resolution,p=e[0].multisample,v=e[0].padding,m=e[0].autoFit,T=(n=e[0].legacy)!==null&&n!==void 0?n:!0,E=1;E<e.length;E++){var w=e[E];d=Math.min(d,w.resolution),p=Math.min(p,w.multisample),v=this.useMaxPadding?Math.max(v,w.padding):v+w.padding,m=m&&w.autoFit,T=T||((s=w.legacy)!==null&&s!==void 0?s:!0)}h.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),h.push(f),f.resolution=d,f.multisample=p,f.legacy=T,f.target=r,f.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),f.sourceFrame.pad(v);var R=this.tempRect.copyFrom(l.sourceFrame);a.projection.transform&&this.transformAABB(sa.copyFrom(a.projection.transform).invert(),R),m?(f.sourceFrame.fit(R),(f.sourceFrame.width<=0||f.sourceFrame.height<=0)&&(f.sourceFrame.width=0,f.sourceFrame.height=0)):f.sourceFrame.intersects(R)||(f.sourceFrame.width=0,f.sourceFrame.height=0),this.roundFrame(f.sourceFrame,l.current?l.current.resolution:a.resolution,l.sourceFrame,l.destinationFrame,a.projection.transform),f.renderTexture=this.getOptimalFilterTexture(f.sourceFrame.width,f.sourceFrame.height,d,p),f.filters=e,f.destinationFrame.width=f.renderTexture.width,f.destinationFrame.height=f.renderTexture.height;var A=this.tempRect;A.x=0,A.y=0,A.width=f.sourceFrame.width,A.height=f.sourceFrame.height,f.renderTexture.filterFrame=f.sourceFrame,f.bindingSourceFrame.copyFrom(l.sourceFrame),f.bindingDestinationFrame.copyFrom(l.destinationFrame),f.transform=a.projection.transform,a.projection.transform=null,l.bind(f.renderTexture,f.sourceFrame,A),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var r=this.defaultFilterStack,e=r.pop(),n=e.filters;this.activeState=e;var s=this.globalUniforms.uniforms;s.outputFrame=e.sourceFrame,s.resolution=e.resolution;var a=s.inputSize,h=s.inputPixel,f=s.inputClamp;if(a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],h[0]=Math.round(a[0]*e.resolution),h[1]=Math.round(a[1]*e.resolution),h[2]=1/h[0],h[3]=1/h[1],f[0]=.5*h[2],f[1]=.5*h[3],f[2]=e.sourceFrame.width*a[2]-.5*h[2],f[3]=e.sourceFrame.height*a[3]-.5*h[3],e.legacy){var l=s.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();var d=r[r.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,e.renderTexture,d.renderTexture,Pr.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var p=e.renderTexture,v=this.getOptimalFilterTexture(p.width,p.height,e.resolution);v.filterFrame=p.filterFrame;var m=0;for(m=0;m<n.length-1;++m){m===1&&e.multisample>1&&(v=this.getOptimalFilterTexture(p.width,p.height,e.resolution),v.filterFrame=p.filterFrame),n[m].apply(this,p,v,Pr.CLEAR,e);var T=p;p=v,v=T}n[m].apply(this,p,d.renderTexture,Pr.BLEND,e),m>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(p),this.returnFilterTexture(v)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(r,e){e===void 0&&(e=Pr.CLEAR);var n=this.renderer,s=n.renderTexture,a=n.state;if(r===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,r&&r.filterFrame){var h=this.tempRect;h.x=0,h.y=0,h.width=r.filterFrame.width,h.height=r.filterFrame.height,s.bind(r,r.filterFrame,h)}else r!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?s.bind(r):this.renderer.renderTexture.bind(r,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var f=a.stateId&1||this.forceClear;(e===Pr.CLEAR||e===Pr.BLIT&&f)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(r,e,n,s){var a=this.renderer;a.state.set(r.state),this.bindAndClear(n,s),r.uniforms.uSampler=e,r.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(r),r.legacy=!!r.program.attributeData.aTextureCoord,r.legacy?(this.quadUv.map(e._frame,e.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(ei.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(ei.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,e){var n=this.activeState,s=n.sourceFrame,a=n.destinationFrame,h=e._texture.orig,f=r.set(a.width,0,0,a.height,s.x,s.y),l=e.worldTransform.copyTo(we.TEMP_MATRIX);return l.invert(),f.prepend(l),f.scale(1/h.width,1/h.height),f.translate(e.anchor.x,e.anchor.y),f},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,e,n,s){return n===void 0&&(n=1),s===void 0&&(s=qt.NONE),this.texturePool.getOptimalTexture(r,e,n,s)},t.prototype.getFilterTexture=function(r,e,n){if(typeof r=="number"){var s=r;r=e,e=s}r=r||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(r.width,r.height,e||r.resolution,n||qt.NONE);return a.filterFrame=r.filterFrame,a},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(r,e){var n=hs[0],s=hs[1],a=hs[2],h=hs[3];n.set(e.left,e.top),s.set(e.left,e.bottom),a.set(e.right,e.top),h.set(e.right,e.bottom),r.apply(n,n),r.apply(s,s),r.apply(a,a),r.apply(h,h);var f=Math.min(n.x,s.x,a.x,h.x),l=Math.min(n.y,s.y,a.y,h.y),d=Math.max(n.x,s.x,a.x,h.x),p=Math.max(n.y,s.y,a.y,h.y);e.x=f,e.y=l,e.width=d-f,e.height=p-l},t.prototype.roundFrame=function(r,e,n,s,a){if(!(r.width<=0||r.height<=0||n.width<=0||n.height<=0)){if(a){var h=a.a,f=a.b,l=a.c,d=a.d;if((Math.abs(f)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(d)>1e-4))return}a=a?sa.copyFrom(a):sa.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(a,r),r.ceil(e),this.transformAABB(a.invert(),r)}},t}(),bd=function(){function t(r){this.renderer=r}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(r){},t}(),Q1=function(){function t(r){this.renderer=r,this.emptyRenderer=new bd(r),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(r,e){for(var n=this.renderer.texture.boundTextures,s=e-1;s>=0;--s)r[s]=n[s]||null,r[s]&&(r[s]._batchLocation=s)},t.prototype.boundArray=function(r,e,n,s){for(var a=r.elements,h=r.ids,f=r.count,l=0,d=0;d<f;d++){var p=a[d],v=p._batchLocation;if(v>=0&&v<s&&e[v]===p){h[d]=v;continue}for(;l<s;){var m=e[l];if(m&&m._batchEnabled===n&&m._batchLocation===l){l++;continue}h[d]=l,p._batchLocation=l,e[l]=p;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),Ul=0,tE=function(){function t(r){this.renderer=r,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=Ul++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=Ul++,this.renderer.runners.contextChange.emit(r)},t.prototype.initFromOptions=function(r){var e=this.createContext(this.renderer.view,r);this.initFromContext(e)},t.prototype.createContext=function(r,e){var n;if(j.PREFER_ENV>=gr.WEBGL2&&(n=r.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var r=this.gl,e={anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:r.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(r){r.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var r=this.renderer.view;this.renderer=null,r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(r){var e=r.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var s=n||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),eE=function(){function t(r){this.framebuffer=r,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),rE=new Ht,nE=function(){function t(r){this.renderer=r,this.managedFramebuffers=[],this.unknownFramebuffer=new Wa(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ht,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;j.PREFER_ENV===gr.WEBGL_LEGACY&&(e=null,n=null),e?r.drawBuffers=function(s){return e.drawBuffersWEBGL(s)}:(this.hasMRT=!1,r.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},t.prototype.bind=function(r,e,n){n===void 0&&(n=0);var s=this.gl;if(r){var a=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(r.dirtyId++,r.dirtyFormat++,a.mipLevel=n),a.dirtyId!==r.dirtyId&&(a.dirtyId=r.dirtyId,a.dirtyFormat!==r.dirtyFormat?(a.dirtyFormat=r.dirtyFormat,a.dirtySize=r.dirtySize,this.updateFramebuffer(r,n)):a.dirtySize!==r.dirtySize&&(a.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var h=0;h<r.colorTextures.length;h++){var f=r.colorTextures[h];this.renderer.texture.unbind(f.parentTextureArray||f)}if(r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),e){var l=e.width>>n,d=e.height>>n,p=l/e.width;this.setViewport(e.x*p,e.y*p,l,d)}else{var l=r.width>>n,d=r.height>>n;this.setViewport(0,0,l,d)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(r,e,n,s){var a=this.viewport;r=Math.round(r),e=Math.round(e),n=Math.round(n),s=Math.round(s),(a.width!==n||a.height!==s||a.x!==r||a.y!==e)&&(a.x=r,a.y=e,a.width=n,a.height=s,this.gl.viewport(r,e,n,s))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(r,e,n,s,a){a===void 0&&(a=Rs.COLOR|Rs.DEPTH);var h=this.gl;h.clearColor(r,e,n,s),h.clear(a)},t.prototype.initFramebuffer=function(r){var e=this.gl,n=new eE(e.createFramebuffer());return n.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(r),r.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(r){var e=this.gl,n=r.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,r.width,r.height)),n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),n.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.DEPTH24_STENCIL8,r.width,r.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r.width,r.height));var s=r.colorTextures,a=s.length;e.drawBuffers||(a=Math.min(a,1));for(var h=0;h<a;h++){var f=s[h],l=f.parentTextureArray||f;this.renderer.texture.bind(l,0)}r.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(r.depthTexture,0)},t.prototype.updateFramebuffer=function(r,e){var n=this.gl,s=r.glFramebuffers[this.CONTEXT_UID],a=r.colorTextures,h=a.length;n.drawBuffers||(h=Math.min(h,1)),s.multisample>1&&this.canMultisampleFramebuffer(r)?(s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,n.RGBA8,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));for(var f=[],l=0;l<h;l++){var d=a[l],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),!(l===0&&s.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,d.target,p._glTextures[this.CONTEXT_UID].texture,e),f.push(n.COLOR_ATTACHMENT0+l))}if(f.length>1&&n.drawBuffers(f),r.depthTexture){var v=this.writeDepthTexture;if(v){var m=r.depthTexture;this.renderer.texture.bind(m,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,m._glTextures[this.CONTEXT_UID].texture,e)}}(r.stencil||r.depth)&&!(r.depthTexture&&this.writeDepthTexture)?(s.stencil=s.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,n.DEPTH24_STENCIL8,r.width,r.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s.stencil)):s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)},t.prototype.canMultisampleFramebuffer=function(r){return this.renderer.context.webGLVersion!==1&&r.colorTextures.length<=1&&!r.depthTexture},t.prototype.detectSamples=function(r){var e=this.msaaSamples,n=qt.NONE;if(r<=1||e===null)return n;for(var s=0;s<e.length;s++)if(e[s]<=r){n=e[s];break}return n===1&&(n=qt.NONE),n},t.prototype.blit=function(r,e,n){var s=this,a=s.current,h=s.renderer,f=s.gl,l=s.CONTEXT_UID;if(h.context.webGLVersion===2&&!!a){var d=a.glFramebuffers[l];if(!!d){if(!r){if(!d.msaaBuffer)return;var p=a.colorTextures[0];if(!p)return;d.blitFramebuffer||(d.blitFramebuffer=new Wa(a.width,a.height),d.blitFramebuffer.addColorTexture(0,p)),r=d.blitFramebuffer,r.colorTextures[0]!==p&&(r.colorTextures[0]=p,r.dirtyId++,r.dirtyFormat++),(r.width!==a.width||r.height!==a.height)&&(r.width=a.width,r.height=a.height,r.dirtyId++,r.dirtySize++)}e||(e=rE,e.width=a.width,e.height=a.height),n||(n=e);var v=e.width===n.width&&e.height===n.height;this.bind(r),f.bindFramebuffer(f.READ_FRAMEBUFFER,d.framebuffer),f.blitFramebuffer(e.left,e.top,e.right,e.bottom,n.left,n.top,n.right,n.bottom,f.COLOR_BUFFER_BIT,v?f.NEAREST:f.LINEAR)}}},t.prototype.disposeFramebuffer=function(r,e){var n=r.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!!n){delete r.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(r);a>=0&&this.managedFramebuffers.splice(a,1),r.disposeRunner.remove(this),e||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(r){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],r)},t.prototype.forceStencil=function(){var r=this.current;if(!!r){var e=r.glFramebuffers[this.CONTEXT_UID];if(!(!e||e.stencil)){r.stencil=!0;var n=r.width,s=r.height,a=this.gl,h=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,h),e.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,e.multisample,a.DEPTH24_STENCIL8,n,s):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,s),e.stencil=h,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,h)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ht},t.prototype.destroy=function(){this.renderer=null},t}(),oa={5126:4,5123:2,5121:1},iE=function(){function t(r){this.renderer=r,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;j.PREFER_ENV===gr.WEBGL_LEGACY&&(n=null),n?(r.createVertexArray=function(){return n.createVertexArrayOES()},r.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},r.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(e.webGLVersion!==2){var s=r.getExtension("ANGLE_instanced_arrays");s?(r.vertexAttribDivisor=function(a,h){return s.vertexAttribDivisorANGLE(a,h)},r.drawElementsInstanced=function(a,h,f,l,d){return s.drawElementsInstancedANGLE(a,h,f,l,d)},r.drawArraysInstanced=function(a,h,f,l){return s.drawArraysInstancedANGLE(a,h,f,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(r,e){e=e||this.renderer.shader.shader;var n=this.gl,s=r.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);var h=s[e.program.id]||this.initGeometryVao(r,e,a);this._activeGeometry=r,this._activeVao!==h&&(this._activeVao=h,this.hasVao?n.bindVertexArray(h):this.activateVao(r,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,e=this.renderer.buffer,n=0;n<r.buffers.length;n++){var s=r.buffers[n];e.update(s)}},t.prototype.checkCompatibility=function(r,e){var n=r.attributes,s=e.attributeData;for(var a in s)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(r,e){var n=r.attributes,s=e.attributeData,a=["g",r.id];for(var h in n)s[h]&&a.push(h,s[h].location);return a.join("-")},t.prototype.initGeometryVao=function(r,e,n){n===void 0&&(n=!0);var s=this.gl,a=this.CONTEXT_UID,h=this.renderer.buffer,f=e.program;f.glPrograms[a]||this.renderer.shader.generateProgram(e),this.checkCompatibility(r,f);var l=this.getSignature(r,f),d=r.glVertexArrayObjects[this.CONTEXT_UID],p=d[l];if(p)return d[f.id]=p,p;var v=r.buffers,m=r.attributes,T={},E={};for(var w in v)T[w]=0,E[w]=0;for(var w in m)!m[w].size&&f.attributeData[w]?m[w].size=f.attributeData[w].size:m[w].size||console.warn("PIXI Geometry attribute '"+w+"' size cannot be determined (likely the bound shader does not have the attribute)"),T[m[w].buffer]+=m[w].size*oa[m[w].type];for(var w in m){var R=m[w],A=R.size;R.stride===void 0&&(T[R.buffer]===A*oa[R.type]?R.stride=0:R.stride=T[R.buffer]),R.start===void 0&&(R.start=E[R.buffer],E[R.buffer]+=A*oa[R.type])}p=s.createVertexArray(),s.bindVertexArray(p);for(var F=0;F<v.length;F++){var P=v[F];h.bind(P),n&&P._glBuffers[a].refCount++}return this.activateVao(r,f),this._activeVao=p,d[f.id]=p,d[l]=p,p},t.prototype.disposeGeometry=function(r,e){var n;if(!!this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var s=r.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,h=r.buffers,f=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(r.disposeRunner.remove(this),!!s){if(f)for(var l=0;l<h.length;l++){var d=h[l]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!e&&f.dispose(h[l],e))}if(!e){for(var p in s)if(p[0]==="g"){var v=s[p];this._activeVao===v&&this.unbind(),a.deleteVertexArray(v)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],r)},t.prototype.activateVao=function(r,e){var n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,h=r.buffers,f=r.attributes;r.indexBuffer&&a.bind(r.indexBuffer);var l=null;for(var d in f){var p=f[d],v=h[p.buffer],m=v._glBuffers[s];if(e.attributeData[d]){l!==m&&(a.bind(v),l=m);var T=e.attributeData[d].location;if(n.enableVertexAttribArray(T),n.vertexAttribPointer(T,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(T,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,e,n,s){var a=this.gl,h=this._activeGeometry;if(h.indexBuffer){var f=h.indexBuffer.data.BYTES_PER_ELEMENT,l=f===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;f===2||f===4&&this.canUseUInt32ElementIndex?h.instanced?a.drawElementsInstanced(r,e||h.indexBuffer.data.length,l,(n||0)*f,s||1):a.drawElements(r,e||h.indexBuffer.data.length,l,(n||0)*f):console.warn("unsupported index buffer type: uint32")}else h.instanced?a.drawArraysInstanced(r,n,e||h.getSize(),s||1):a.drawArrays(r,n,e||h.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),sE=function(){function t(r){r===void 0&&(r=null),this.type=Qt.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=j.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(r){r?this._filters?this._filters[0]=r:this._filters=[r]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Qt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Ol(t,r,e){var n=t.createShader(r);return t.shaderSource(n,e),t.compileShader(n),n}function Ll(t,r){var e=t.getShaderSource(r).split(`
`).map(function(d,p){return p+": "+d}),n=t.getShaderInfoLog(r),s=n.split(`
`),a={},h=s.map(function(d){return parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(d){return d&&!a[d]?(a[d]=!0,!0):!1}),f=[""];h.forEach(function(d){e[d-1]="%c"+e[d-1]+"%c",f.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join(`
`);f[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,f),console.groupEnd()}function oE(t,r,e,n){t.getProgramParameter(r,t.LINK_STATUS)||(t.getShaderParameter(e,t.COMPILE_STATUS)||Ll(t,e),t.getShaderParameter(n,t.COMPILE_STATUS)||Ll(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(r)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(r)))}function aa(t){for(var r=new Array(t),e=0;e<r.length;e++)r[e]=!1;return r}function Cd(t,r){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"uvec2":return new Uint32Array(2*r);case"uvec3":return new Uint32Array(3*r);case"uvec4":return new Uint32Array(4*r);case"bool":return!1;case"bvec2":return aa(2*r);case"bvec3":return aa(3*r);case"bvec4":return aa(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var wd={},Vn=wd;function aE(){if(Vn===wd||Vn&&Vn.isContextLost()){var t=j.ADAPTER.createCanvas(),r=void 0;j.PREFER_ENV>=gr.WEBGL2&&(r=t.getContext("webgl2",{})),r||(r=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),r?r.getExtension("WEBGL_draw_buffers"):r=null),Vn=r}return Vn}var fs;function uE(){if(!fs){fs=Ke.MEDIUM;var t=aE();if(t&&t.getShaderPrecisionFormat){var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);fs=r.precision?Ke.HIGH:Ke.MEDIUM}}return fs}function Gl(t,r,e){if(t.substring(0,9)!=="precision"){var n=r;return r===Ke.HIGH&&e!==Ke.HIGH&&(n=Ke.MEDIUM),"precision "+n+` float;
`+t}else if(e!==Ke.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var hE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Ad(t){return hE[t]}var ls=null,Sl={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Nd(t,r){if(!ls){var e=Object.keys(Sl);ls={};for(var n=0;n<e.length;++n){var s=e[n];ls[t[s]]=Sl[s]}}return ls[r]}var En=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,r){return t.type==="mat3"&&t.size===1&&r.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,r){return t.type==="vec2"&&t.size===1&&r.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,r){return t.type==="vec4"&&t.size===1&&r.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],fE={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},lE={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function cE(t,r){var e,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var s in t.uniforms){var a=r[s];if(!a){!((e=t.uniforms[s])===null||e===void 0)&&e.group&&(t.uniforms[s].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+s+", '"+s+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+s+`, syncData);
                    `));continue}for(var h=t.uniforms[s],f=!1,l=0;l<En.length;l++)if(En[l].test(a,h)){n.push(En[l].code(s,h)),f=!0;break}if(!f){var d=a.size===1?fE:lE,p=d[a.type].replace("location",'ud["'+s+'"].location');n.push(`
            cu = ud["`+s+`"];
            cv = cu.value;
            v = uv["`+s+`"];
            `+p+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var dE=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function pE(t){for(var r="",e=0;e<t;++e)e>0&&(r+=`
else `),e<t-1&&(r+="if(test == "+e+".0){}");return r}function _E(t,r){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=r.createShader(r.FRAGMENT_SHADER);;){var n=dE.replace(/%forloop%/gi,pE(t));if(r.shaderSource(e,n),r.compileShader(e),!r.getShaderParameter(e,r.COMPILE_STATUS))t=t/2|0;else break}return t}var Wn;function vE(){if(typeof Wn=="boolean")return Wn;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Wn=t({a:"b"},"a","b")===!0}catch{Wn=!1}return Wn}var gE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,mE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,yE=0,cs={},hu=function(){function t(r,e,n){n===void 0&&(n="pixi-shader"),this.id=yE++,this.vertexSrc=r||t.defaultVertexSrc,this.fragmentSrc=e||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),cs[n]?(cs[n]++,n+="-"+cs[n]):cs[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Gl(this.vertexSrc,j.PRECISION_VERTEX,Ke.HIGH),this.fragmentSrc=Gl(this.fragmentSrc,j.PRECISION_FRAGMENT,uE())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return mE},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return gE},enumerable:!1,configurable:!0}),t.from=function(r,e,n){var s=r+e,a=Cl[s];return a||(Cl[s]=a=new t(r,e,n)),a},t}(),Pd=function(){function t(r,e){this.uniformBindCount=0,this.program=r,e?e instanceof Tn?this.uniformGroup=e:this.uniformGroup=new Tn(e):this.uniformGroup=new Tn({})}return t.prototype.checkUniformExists=function(r,e){if(e.uniforms[r])return!0;for(var n in e.uniforms){var s=e.uniforms[n];if(s.group&&this.checkUniformExists(r,s))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(r,e,n){var s=hu.from(r,e);return new t(s,n)},t}(),ua=0,ha=1,fa=2,la=3,ca=4,da=5,fu=function(){function t(){this.data=0,this.blendMode=Q.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<ua)},set:function(r){!!(this.data&1<<ua)!==r&&(this.data^=1<<ua)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<ha)},set:function(r){!!(this.data&1<<ha)!==r&&(this.data^=1<<ha)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<fa)},set:function(r){!!(this.data&1<<fa)!==r&&(this.data^=1<<fa)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<la)},set:function(r){!!(this.data&1<<la)!==r&&(this.data^=1<<la)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<da)},set:function(r){!!(this.data&1<<da)!==r&&(this.data^=1<<da)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<ca)},set:function(r){!!(this.data&1<<ca)!==r&&(this.data^=1<<ca)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==Q.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var r=new t;return r.depthTest=!1,r.blend=!0,r},t}(),TE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,EE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,xE=function(t){Ut(r,t);function r(e,n,s){var a=this,h=hu.from(e||r.defaultVertexSrc,n||r.defaultFragmentSrc);return a=t.call(this,h,s)||this,a.padding=0,a.resolution=j.FILTER_RESOLUTION,a.multisample=j.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new fu,a}return r.prototype.apply=function(e,n,s,a,h){e.applyFilter(this,n,s,a)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return EE},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return TE},enumerable:!1,configurable:!0}),r}(Pd),RE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,IE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Fl=new we,bE=function(){function t(r,e){this._texture=r,this.mapCoord=new we,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(r,e){e===void 0&&(e=r);for(var n=this.mapCoord,s=0;s<r.length;s+=2){var a=r[s],h=r[s+1];e[s]=a*n.a+h*n.c+n.tx,e[s+1]=a*n.b+h*n.d+n.ty}return e},t.prototype.update=function(r){var e=this._texture;if(!e||!e.valid||!r&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var s=e.orig,a=e.trim;a&&(Fl.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(Fl));var h=e.baseTexture,f=this.uClampFrame,l=this.clampMargin/h.resolution,d=this.clampOffset;return f[0]=(e._frame.x+l+d)/h.width,f[1]=(e._frame.y+l+d)/h.height,f[2]=(e._frame.x+e._frame.width-l+d)/h.width,f[3]=(e._frame.y+e._frame.height-l+d)/h.height,this.uClampOffset[0]=d/h.realWidth,this.uClampOffset[1]=d/h.realHeight,this.isSimple=e._frame.width===h.width&&e._frame.height===h.height&&e.rotate===0,!0},t}(),CE=function(t){Ut(r,t);function r(e,n,s){var a=this,h=null;return typeof e!="string"&&n===void 0&&s===void 0&&(h=e,e=void 0,n=void 0,s=void 0),a=t.call(this,e||RE,n||IE,s)||this,a.maskSprite=h,a.maskMatrix=new we,a}return Object.defineProperty(r.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),r.prototype.apply=function(e,n,s,a){var h=this._maskSprite,f=h._texture;!f.valid||(f.uvMatrix||(f.uvMatrix=new bE(f,0)),f.uvMatrix.update(),this.uniforms.npmAlpha=f.baseTexture.alphaMode?0:1,this.uniforms.mask=f,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,h).prepend(f.uvMatrix.mapCoord),this.uniforms.alpha=h.worldAlpha,this.uniforms.maskClamp=f.uvMatrix.uClampFrame,e.applyFilter(this,n,s,a))},r}(xE),wE=function(){function t(r){this.renderer=r,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},t.prototype.push=function(r,e){var n=e;if(!n.isMaskData){var s=this.maskDataPool.pop()||new sE;s.pooled=!0,s.maskObject=e,n=s}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n._colorMask=a?a._colorMask:15,n.autoDetect&&this.detect(n),n._target=r,n.type!==Qt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Qt.SCISSOR:this.renderer.scissor.push(n);break;case Qt.STENCIL:this.renderer.stencil.push(n);break;case Qt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Qt.COLOR:this.pushColorMask(n);break}n.type===Qt.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(r){var e=this.maskStack.pop();if(!(!e||e._target!==r)){if(e.enabled)switch(e.type){case Qt.SCISSOR:this.renderer.scissor.pop(e);break;case Qt.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Qt.SPRITE:this.popSpriteMask(e);break;case Qt.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Qt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(r){var e=r.maskObject;e?e.isSprite?r.type=Qt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(r)?r.type=Qt.SCISSOR:r.type=Qt.STENCIL:r.type=Qt.COLOR},t.prototype.pushSpriteMask=function(r){var e,n,s=r.maskObject,a=r._target,h=r._filters;h||(h=this.alphaMaskPool[this.alphaMaskIndex],h||(h=this.alphaMaskPool[this.alphaMaskIndex]=[new CE]));var f=this.renderer,l=f.renderTexture,d,p;if(l.current){var v=l.current;d=r.resolution||v.resolution,p=(e=r.multisample)!==null&&e!==void 0?e:v.multisample}else d=r.resolution||f.resolution,p=(n=r.multisample)!==null&&n!==void 0?n:f.multisample;h[0].resolution=d,h[0].multisample=p,h[0].maskSprite=s;var m=a.filterArea;a.filterArea=s.getBounds(!0),f.filter.push(a,h),a.filterArea=m,r._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(r){this.renderer.filter.pop(),r._filters?r._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(r){var e=r._colorMask,n=r._colorMask=e&r.colorMask;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(r){var e=r._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),Ud=function(){function t(r){this.renderer=r,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(r){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=r;var s=this.getStackLength();s!==n&&(s===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),Bl=new we,Ml=[],AE=function(t){Ut(r,t);function r(e){var n=t.call(this,e)||this;return n.glConst=j.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},r.prototype.calcScissorRect=function(e){var n;if(!e._scissorRectLocal){var s=e._scissorRect,a=e.maskObject,h=this.renderer,f=h.renderTexture,l=a.getBounds(!0,(n=Ml.pop())!==null&&n!==void 0?n:new Ht);this.roundFrameToPixels(l,f.current?f.current.resolution:h.resolution,f.sourceFrame,f.destinationFrame,h.projection.transform),s&&l.fit(s),e._scissorRectLocal=l}},r.isMatrixRotated=function(e){if(!e)return!1;var n=e.a,s=e.b,a=e.c,h=e.d;return(Math.abs(s)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(h)>1e-4)},r.prototype.testScissor=function(e){var n=e.maskObject;if(!n.isFastRect||!n.isFastRect()||r.isMatrixRotated(n.worldTransform)||r.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var s=e._scissorRectLocal;return s.width>0&&s.height>0},r.prototype.roundFrameToPixels=function(e,n,s,a,h){r.isMatrixRotated(h)||(h=h?Bl.copyFrom(h):Bl.identity(),h.translate(-s.x,-s.y).scale(a.width/s.width,a.height/s.height).translate(a.x,a.y),this.renderer.filter.transformAABB(h,e),e.fit(a),e.x=Math.round(e.x*n),e.y=Math.round(e.y*n),e.width=Math.round(e.width*n),e.height=Math.round(e.height*n))},r.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var n=this.renderer.gl;e._scissorRect||n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},r.prototype.pop=function(e){var n=this.renderer.gl;e&&Ml.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},r.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=e.y:n=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,n,e.width,e.height)},r}(Ud),NE=function(t){Ut(r,t);function r(e){var n=t.call(this,e)||this;return n.glConst=j.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},r.prototype.push=function(e){var n=e.maskObject,s=this.renderer.gl,a=e._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),s.clearStencil(0),s.clear(s.STENCIL_BUFFER_BIT),s.enable(s.STENCIL_TEST)),e._stencilCounter++;var h=e._colorMask;h!==0&&(e._colorMask=0,s.colorMask(!1,!1,!1,!1)),s.stencilFunc(s.EQUAL,a,4294967295),s.stencilOp(s.KEEP,s.KEEP,s.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,h!==0&&(e._colorMask=h,s.colorMask((h&1)!==0,(h&2)!==0,(h&4)!==0,(h&8)!==0)),this._useCurrent()},r.prototype.pop=function(e){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,a=s?s._colorMask:15;a!==0&&(s._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,a!==0&&(s._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}},r.prototype._useCurrent=function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},r}(Ud),PE=function(){function t(r){this.renderer=r,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new we,this.transform=null}return t.prototype.update=function(r,e,n,s){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,e,n,s){var a=this.projectionMatrix,h=s?-1:1;a.identity(),a.a=1/e.width*2,a.d=h*(1/e.height*2),a.tx=-1-e.x*a.a,a.ty=-h-e.y*a.d},t.prototype.setTransform=function(r){},t.prototype.destroy=function(){this.renderer=null},t}(),Vr=new Ht,zn=new Ht,UE=function(){function t(r){this.renderer=r,this.clearColor=r._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ht,this.destinationFrame=new Ht,this.viewportFrame=new Ht}return t.prototype.bind=function(r,e,n){r===void 0&&(r=null);var s=this.renderer;this.current=r;var a,h,f;r?(a=r.baseTexture,f=a.resolution,e||(Vr.width=r.frame.width,Vr.height=r.frame.height,e=Vr),n||(zn.x=r.frame.x,zn.y=r.frame.y,zn.width=e.width,zn.height=e.height,n=zn),h=a.framebuffer):(f=s.resolution,e||(Vr.width=s.screen.width,Vr.height=s.screen.height,e=Vr),n||(n=Vr,n.width=e.width,n.height=e.height));var l=this.viewportFrame;l.x=n.x*f,l.y=n.y*f,l.width=n.width*f,l.height=n.height*f,r||(l.y=s.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(h,l),this.renderer.projection.update(n,e,f,!h),r?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(r,e){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor;var n=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==s.width||n.height!==s.height;if(a){var h=this.viewportFrame,f=h.x,l=h.y,d=h.width,p=h.height;f=Math.round(f),l=Math.round(l),d=Math.round(d),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(f,l,d,p)}this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],e),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function OE(t,r,e,n,s){e.buffer.update(s)}var LE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Od={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function GE(t){for(var r=t.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,n=0,s=0,a=0;a<r.length;a++){var h=r[a];if(e=Od[h.data.type],h.data.size>1&&(e=Math.max(e,16)*h.data.size),h.dataLen=e,n%e!==0&&n<16){var f=n%e%16;n+=f,s+=f}n+e>16?(s=Math.ceil(s/16)*16,h.offset=s,s+=e,n=e):(h.offset=s,n+=e,s+=e)}return s=Math.ceil(s/16)*16,{uboElements:r,size:s}}function SE(t,r){var e=[];for(var n in t)r[n]&&e.push(r[n]);return e.sort(function(s,a){return s.index-a.index}),e}function FE(t,r){if(!t.autoManage)return{size:0,syncFunc:OE};for(var e=SE(t.uniforms,r),n=GE(e),s=n.uboElements,a=n.size,h=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],f=0;f<s.length;f++){for(var l=s[f],d=t.uniforms[l.data.name],p=l.data.name,v=!1,m=0;m<En.length;m++){var T=En[m];if(T.codeUbo&&T.test(l.data,d)){h.push("offset = "+l.offset/4+";",En[m].codeUbo(l.data.name,d)),v=!0;break}}if(!v)if(l.data.size>1){var E=Ad(l.data.type),w=Math.max(Od[l.data.type]/16,1),R=E/w,A=(4-R%4)%4;h.push(`
                cv = ud.`+p+`.value;
                v = uv.`+p+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*w+`; i++)
                {
                    for(var j = 0; j < `+R+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+A+`;
                }

                `)}else{var F=LE[l.data.type];h.push(`
                cv = ud.`+p+`.value;
                v = uv.`+p+`;
                offset = `+l.offset/4+`;
                `+F+`;
                `)}}return h.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",h.join(`
`))}}var BE=function(){function t(r,e){this.program=r,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function ME(t,r){for(var e={},n=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),s=0;s<n;s++){var a=r.getActiveAttrib(t,s);if(a.name.indexOf("gl_")!==0){var h=Nd(r,a.type),f={type:h,name:a.name,size:Ad(h),location:r.getAttribLocation(t,a.name)};e[a.name]=f}}return e}function XE(t,r){for(var e={},n=r.getProgramParameter(t,r.ACTIVE_UNIFORMS),s=0;s<n;s++){var a=r.getActiveUniform(t,s),h=a.name.replace(/\[.*?\]$/,""),f=!!a.name.match(/\[.*?\]$/),l=Nd(r,a.type);e[h]={name:h,index:s,type:l,size:a.size,isArray:f,value:Cd(l,a.size)}}return e}function DE(t,r){var e=Ol(t,t.VERTEX_SHADER,r.vertexSrc),n=Ol(t,t.FRAGMENT_SHADER,r.fragmentSrc),s=t.createProgram();if(t.attachShader(s,e),t.attachShader(s,n),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||oE(t,s,e,n),r.attributeData=ME(s,t),r.uniformData=XE(s,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(r.vertexSrc)){var a=Object.keys(r.attributeData);a.sort(function(p,v){return p>v?1:-1});for(var h=0;h<a.length;h++)r.attributeData[a[h]].location=h,t.bindAttribLocation(s,h,a[h]);t.linkProgram(s)}t.deleteShader(e),t.deleteShader(n);var f={};for(var h in r.uniformData){var l=r.uniformData[h];f[h]={location:t.getUniformLocation(s,h),value:Cd(l.type,l.size)}}var d=new BE(s,f);return d}var HE=0,ds={textureCount:0,uboCount:0},kE=function(){function t(r){this.destroyed=!1,this.renderer=r,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=HE++}return t.prototype.systemCheck=function(){if(!vE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,e){r.uniforms.globals=this.renderer.globalUniforms;var n=r.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(r);return this.shader=r,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),e||(ds.textureCount=0,ds.uboCount=0,this.syncUniformGroup(r.uniformGroup,ds)),s},t.prototype.setUniforms=function(r){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r,e){var n=this.getGlProgram();(!r.static||r.dirtyId!==n.uniformDirtyGroups[r.id])&&(n.uniformDirtyGroups[r.id]=r.dirtyId,this.syncUniforms(r,n,e))},t.prototype.syncUniforms=function(r,e,n){var s=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);s(e.uniformData,r.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(r){var e=this.getSignature(r,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=cE(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[e],r.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(r,e){var n=this.getGlProgram();if(!r.static||r.dirtyId!==0||!n.uniformGroups[r.id]){r.dirtyId=0;var s=n.uniformGroups[r.id]||this.createSyncBufferGroup(r,n,e);r.buffer.update(),s(n.uniformData,r.uniforms,this.renderer,ds,r.buffer)}this.renderer.buffer.bindBufferBase(r.buffer,n.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(r,e,n){var s=this.renderer.gl;this.renderer.buffer.bind(r.buffer);var a=this.gl.getUniformBlockIndex(e.program,n);e.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(e.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var h=this.getSignature(r,this.shader.program.uniformData,"ubo"),f=this._uboCache[h];if(f||(f=this._uboCache[h]=FE(r,this.shader.program.uniformData)),r.autoManage){var l=new Float32Array(f.size/4);r.buffer.update(l)}return e.uniformGroups[r.id]=f.syncFunc,e.uniformGroups[r.id]},t.prototype.getSignature=function(r,e,n){var s=r.uniforms,a=[n+"-"];for(var h in s)a.push(h),e[h]&&a.push(e[h].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(r){var e=this.gl,n=r.program,s=DE(e,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function VE(t,r){return r===void 0&&(r=[]),r[Q.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.ADD]=[t.ONE,t.ONE],r[Q.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.NONE]=[0,0],r[Q.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],r[Q.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[Q.SRC_IN]=[t.DST_ALPHA,t.ZERO],r[Q.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],r[Q.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[Q.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],r[Q.DST_IN]=[t.ZERO,t.SRC_ALPHA],r[Q.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],r[Q.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],r[Q.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[Q.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],r}var WE=0,zE=1,$E=2,YE=3,jE=4,qE=5,ZE=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Q.NONE,this._blendEq=!1,this.map=[],this.map[WE]=this.setBlend,this.map[zE]=this.setOffset,this.map[$E]=this.setCullFace,this.map[YE]=this.setDepthTest,this.map[jE]=this.setFrontFace,this.map[qE]=this.setDepthMask,this.checks=[],this.defaultState=new fu,this.defaultState.blend=!0}return t.prototype.contextChange=function(r){this.gl=r,this.blendModes=VE(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var e=this.stateId^r.data,n=0;e;)e&1&&this.map[n].call(this,!!(r.data&1<<n)),e=e>>1,n++;this.stateId=r.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(r.data&1<<e));for(var e=0;e<this.checks.length;e++)this.checks[e](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(r){this.gl.depthMask(r)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var e=this.blendModes[r],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,e){this.gl.polygonOffset(r,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,e){var n=this.checks.indexOf(r);e&&n===-1?this.checks.push(r):!e&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(r,e){r.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(r,e){r.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),KE=function(){function t(r){this.renderer=r,this.count=0,this.checkCount=0,this.maxIdle=j.GC_MAX_IDLE,this.checkCountMax=j.GC_MAX_CHECK_COUNT,this.mode=j.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Ca.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var r=this.renderer.texture,e=r.managedTextures,n=!1,s=0;s<e.length;s++){var a=e[s];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(r.destroyTexture(a,!0),e[s]=null,n=!0)}if(n){for(var h=0,s=0;s<e.length;s++)e[s]!==null&&(e[h++]=e[s]);e.length=h}},t.prototype.unload=function(r){var e=this.renderer.texture,n=r._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var s=r.children.length-1;s>=0;s--)this.unload(r.children[s])},t.prototype.destroy=function(){this.renderer=null},t}();function JE(t){var r,e,n,s,a,h,f,l,d,p,v,m,T,E,w,R,A,F,P,U,M,k,Y;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?Y=(r={},r[rt.UNSIGNED_BYTE]=(e={},e[D.RGBA]=t.RGBA8,e[D.RGB]=t.RGB8,e[D.RG]=t.RG8,e[D.RED]=t.R8,e[D.RGBA_INTEGER]=t.RGBA8UI,e[D.RGB_INTEGER]=t.RGB8UI,e[D.RG_INTEGER]=t.RG8UI,e[D.RED_INTEGER]=t.R8UI,e[D.ALPHA]=t.ALPHA,e[D.LUMINANCE]=t.LUMINANCE,e[D.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,e),r[rt.BYTE]=(n={},n[D.RGBA]=t.RGBA8_SNORM,n[D.RGB]=t.RGB8_SNORM,n[D.RG]=t.RG8_SNORM,n[D.RED]=t.R8_SNORM,n[D.RGBA_INTEGER]=t.RGBA8I,n[D.RGB_INTEGER]=t.RGB8I,n[D.RG_INTEGER]=t.RG8I,n[D.RED_INTEGER]=t.R8I,n),r[rt.UNSIGNED_SHORT]=(s={},s[D.RGBA_INTEGER]=t.RGBA16UI,s[D.RGB_INTEGER]=t.RGB16UI,s[D.RG_INTEGER]=t.RG16UI,s[D.RED_INTEGER]=t.R16UI,s[D.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,s),r[rt.SHORT]=(a={},a[D.RGBA_INTEGER]=t.RGBA16I,a[D.RGB_INTEGER]=t.RGB16I,a[D.RG_INTEGER]=t.RG16I,a[D.RED_INTEGER]=t.R16I,a),r[rt.UNSIGNED_INT]=(h={},h[D.RGBA_INTEGER]=t.RGBA32UI,h[D.RGB_INTEGER]=t.RGB32UI,h[D.RG_INTEGER]=t.RG32UI,h[D.RED_INTEGER]=t.R32UI,h[D.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,h),r[rt.INT]=(f={},f[D.RGBA_INTEGER]=t.RGBA32I,f[D.RGB_INTEGER]=t.RGB32I,f[D.RG_INTEGER]=t.RG32I,f[D.RED_INTEGER]=t.R32I,f),r[rt.FLOAT]=(l={},l[D.RGBA]=t.RGBA32F,l[D.RGB]=t.RGB32F,l[D.RG]=t.RG32F,l[D.RED]=t.R32F,l[D.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,l),r[rt.HALF_FLOAT]=(d={},d[D.RGBA]=t.RGBA16F,d[D.RGB]=t.RGB16F,d[D.RG]=t.RG16F,d[D.RED]=t.R16F,d),r[rt.UNSIGNED_SHORT_5_6_5]=(p={},p[D.RGB]=t.RGB565,p),r[rt.UNSIGNED_SHORT_4_4_4_4]=(v={},v[D.RGBA]=t.RGBA4,v),r[rt.UNSIGNED_SHORT_5_5_5_1]=(m={},m[D.RGBA]=t.RGB5_A1,m),r[rt.UNSIGNED_INT_2_10_10_10_REV]=(T={},T[D.RGBA]=t.RGB10_A2,T[D.RGBA_INTEGER]=t.RGB10_A2UI,T),r[rt.UNSIGNED_INT_10F_11F_11F_REV]=(E={},E[D.RGB]=t.R11F_G11F_B10F,E),r[rt.UNSIGNED_INT_5_9_9_9_REV]=(w={},w[D.RGB]=t.RGB9_E5,w),r[rt.UNSIGNED_INT_24_8]=(R={},R[D.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,R),r[rt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(A={},A[D.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,A),r):Y=(F={},F[rt.UNSIGNED_BYTE]=(P={},P[D.RGBA]=t.RGBA,P[D.RGB]=t.RGB,P[D.ALPHA]=t.ALPHA,P[D.LUMINANCE]=t.LUMINANCE,P[D.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,P),F[rt.UNSIGNED_SHORT_5_6_5]=(U={},U[D.RGB]=t.RGB,U),F[rt.UNSIGNED_SHORT_4_4_4_4]=(M={},M[D.RGBA]=t.RGBA,M),F[rt.UNSIGNED_SHORT_5_5_5_1]=(k={},k[D.RGBA]=t.RGBA,k),F),Y}var pa=function(){function t(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=rt.UNSIGNED_BYTE,this.internalFormat=D.RGBA,this.samplerType=0}return t}(),QE=function(){function t(r){this.renderer=r,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Gt,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=JE(r);var e=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var s=new pa(r.createTexture());r.bindTexture(r.TEXTURE_2D,s.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=s,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new pa(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(r,e){e===void 0&&(e=0);var n=this.gl;if(r=r==null?void 0:r.castToBaseTexture(),r&&r.valid&&!r.parentTextureArray){r.touched=this.renderer.textureGC.count;var s=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[e]!==r&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(r.target,s.texture)),s.dirtyId!==r.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(r)),this.boundTextures[e]=r}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var e=this,n=e.gl,s=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<s.length;a++)s[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<s.length;a++)s[a]===r&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(r.target,this.emptyTextures[r.target].texture),s[a]=null)},t.prototype.ensureSamplerType=function(r){var e=this,n=e.boundTextures,s=e.hasIntegerTextures,a=e.CONTEXT_UID;if(!!s)for(var h=r-1;h>=0;--h){var f=n[h];if(f){var l=f._glTextures[a];l.samplerType!==Is.FLOAT&&this.renderer.texture.unbind(f)}}},t.prototype.initTexture=function(r){var e=new pa(this.gl.createTexture());return e.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(r,e){var n,s;e.internalFormat=(s=(n=this.internalFormats[r.type])===null||n===void 0?void 0:n[r.format])!==null&&s!==void 0?s:r.format,this.webGLVersion===2&&r.type===rt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=r.type},t.prototype.updateTexture=function(r){var e=r._glTextures[this.CONTEXT_UID];if(!!e){var n=this.renderer;if(this.initTextureType(r,e),r.resource&&r.resource.upload(n,r,e))e.samplerType!==Is.FLOAT&&(this.hasIntegerTextures=!0);else{var s=r.realWidth,a=r.realHeight,h=n.gl;(e.width!==s||e.height!==a||e.dirtyId<0)&&(e.width=s,e.height=a,h.texImage2D(r.target,0,e.internalFormat,s,a,0,r.format,e.type,null))}r.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(r),e.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,e){var n=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),n.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!e)){var s=this.managedTextures.indexOf(r);s!==-1&&xs(this.managedTextures,s,1)}},t.prototype.updateTextureStyle=function(r){var e=r._glTextures[this.CONTEXT_UID];!e||((r.mipmap===mr.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?e.mipmap=!1:e.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?e.wrapMode=ba.CLAMP:e.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,e)||this.setStyle(r,e),e.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,e){var n=this.gl;if(e.mipmap&&r.mipmap!==mr.ON_MANUAL&&n.generateMipmap(r.target),n.texParameteri(r.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(r.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(r.target,n.TEXTURE_MIN_FILTER,r.scaleMode===vr.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var s=this.renderer.context.extensions.anisotropicFiltering;if(s&&r.anisotropicLevel>0&&r.scaleMode===vr.LINEAR){var a=Math.min(r.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(r.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(r.target,n.TEXTURE_MIN_FILTER,r.scaleMode===vr.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(r.target,n.TEXTURE_MAG_FILTER,r.scaleMode===vr.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),_a=new we,tx=function(t){Ut(r,t);function r(e,n){e===void 0&&(e=ti.UNKNOWN);var s=t.call(this)||this;return n=Object.assign({},j.RENDER_OPTIONS,n),s.options=n,s.type=e,s.screen=new Ht(0,0,n.width,n.height),s.view=n.view||j.ADAPTER.createCanvas(),s.resolution=n.resolution||j.RESOLUTION,s.useContextAlpha=n.useContextAlpha,s.autoDensity=!!n.autoDensity,s.preserveDrawingBuffer=n.preserveDrawingBuffer,s.clearBeforeRender=n.clearBeforeRender,s._backgroundColor=0,s._backgroundColorRgba=[0,0,0,1],s._backgroundColorString="#000000",s.backgroundColor=n.backgroundColor||s._backgroundColor,s.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Ur("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),s.useContextAlpha=n.transparent,s.backgroundAlpha=n.transparent?0:1),s._lastObjectRendered=null,s.plugins={},s}return r.prototype.initPlugins=function(e){for(var n in e)this.plugins[n]=new e[n](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,n){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(n*this.resolution);var s=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=s,this.screen.height=a,this.autoDensity&&(this.view.style.width=s+"px",this.view.style.height=a+"px"),this.emit("resize",s,a)},r.prototype.generateTexture=function(e,n,s,a){n===void 0&&(n={}),typeof n=="number"&&(Ur("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:s,region:a});var h=n.region,f=L1(n,["region"]);a=h||e.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var l=au.create(Va({width:a.width,height:a.height},f));return _a.tx=-a.x,_a.ty=-a.y,this.render(e,{renderTexture:l,clear:!1,transform:_a,skipUpdateTransform:!!e.parent}),l},r.prototype.destroy=function(e){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var s=this;s.plugins=null,s.type=ti.UNKNOWN,s.view=null,s.screen=null,s._tempDisplayObjectParent=null,s.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=w1(e),C1(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),r}(hi),ex=function(){function t(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),rx=function(){function t(r){this.renderer=r,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(r){var e=this,n=e.gl,s=e.CONTEXT_UID,a=r._glBuffers[s]||this.createGLBuffer(r);n.bindBuffer(r.type,a.buffer)},t.prototype.bindBufferBase=function(r,e){var n=this,s=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[e]!==r){var h=r._glBuffers[a]||this.createGLBuffer(r);this.boundBufferBases[e]=r,s.bindBufferBase(s.UNIFORM_BUFFER,e,h.buffer)}},t.prototype.bindBufferRange=function(r,e,n){var s=this,a=s.gl,h=s.CONTEXT_UID;n=n||0;var f=r._glBuffers[h]||this.createGLBuffer(r);a.bindBufferRange(a.UNIFORM_BUFFER,e||0,f.buffer,n*256,256)},t.prototype.update=function(r){var e=this,n=e.gl,s=e.CONTEXT_UID,a=r._glBuffers[s];if(r._updateID!==a.updateID)if(a.updateID=r._updateID,n.bindBuffer(r.type,a.buffer),a.byteLength>=r.data.byteLength)n.bufferSubData(r.type,0,r.data);else{var h=r.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=r.data.byteLength,n.bufferData(r.type,r.data,h)}},t.prototype.dispose=function(r,e){if(!!this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var n=r._glBuffers[this.CONTEXT_UID],s=this.gl;r.disposeRunner.remove(this),n&&(e||s.deleteBuffer(n.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(r){for(var e=Object.keys(this.managedBuffers),n=0;n<e.length;n++)this.dispose(this.managedBuffers[e[n]],r)},t.prototype.createGLBuffer=function(r){var e=this,n=e.CONTEXT_UID,s=e.gl;return r._glBuffers[n]=new ex(s.createBuffer()),this.managedBuffers[r.id]=r,r.disposeRunner.add(this),r._glBuffers[n]},t}(),Ld=function(t){Ut(r,t);function r(e){var n=t.call(this,ti.WEBGL,e)||this;return e=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new ae("destroy"),contextChange:new ae("contextChange"),reset:new ae("reset"),update:new ae("update"),postrender:new ae("postrender"),prerender:new ae("prerender"),resize:new ae("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Tn({projectionMatrix:new we},!0),n.addSystem(wE,"mask").addSystem(tE,"context").addSystem(ZE,"state").addSystem(kE,"shader").addSystem(QE,"texture").addSystem(rx,"buffer").addSystem(iE,"geometry").addSystem(nE,"framebuffer").addSystem(AE,"scissor").addSystem(NE,"stencil").addSystem(PE,"projection").addSystem(KE,"textureGC").addSystem(J1,"filter").addSystem(UE,"renderTexture").addSystem(Q1,"batch"),n.initPlugins(r.__plugins),n.multisample=void 0,e.context?n.context.initFromContext(e.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:e.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,I1(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return r.create=function(e){if(b1())return new r(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.contextChange=function(){var e=this.gl,n;if(this.context.webGLVersion===1){var s=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,s)}else{var s=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,s)}n>=qt.HIGH?this.multisample=qt.HIGH:n>=qt.MEDIUM?this.multisample=qt.MEDIUM:n>=qt.LOW?this.multisample=qt.LOW:this.multisample=qt.NONE},r.prototype.addSystem=function(e,n){var s=new e(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=s;for(var a in this.runners)this.runners[a].add(s);return this},r.prototype.render=function(e,n){var s,a,h,f;if(n&&(n instanceof au?(Ur("6.0.0","Renderer#render arguments changed, use options instead."),s=n,a=arguments[2],h=arguments[3],f=arguments[4]):(s=n.renderTexture,a=n.clear,h=n.transform,f=n.skipUpdateTransform)),this.renderingToScreen=!s,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=h,!this.context.isLost){if(s||(this._lastObjectRendered=e),!f){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(s),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),s&&s.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.generateTexture=function(e,n,s,a){n===void 0&&(n={});var h=t.prototype.generateTexture.call(this,e,n,s,a);return this.framebuffer.blit(),h},r.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(this.screen.height,this.screen.width)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(e){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(r.prototype,"extract",{get:function(){return Ur("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),r.registerPlugin=function(e,n){Ur("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),ze.add({name:e,type:Zt.RendererPlugin,ref:n})},r.__plugins={},r}(tx);ze.handleByMap(Zt.RendererPlugin,Ld.__plugins);function nx(t){return Ld.create(t)}var ix=function(){function t(){this.texArray=null,this.blend=0,this.type=ei.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),sx=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},t}(),za=function(){function t(r){typeof r=="number"?this.rawBinaryData=new ArrayBuffer(r):r instanceof Uint8Array?this.rawBinaryData=r.buffer:this.rawBinaryData=r,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(r){return this[r+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},t}(),ox=function(t){Ut(r,t);function r(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=fu.for2d(),n.size=j.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return r.prototype.contextChange=function(){var e=this.renderer.gl;j.PREFER_ENV===gr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),j.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=_E(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var e=r._drawCallPool,n=r._textureArrayPool,s=this.size/4,a=Math.floor(s/this.MAX_TEXTURES)+1;e.length<s;)e.push(new ix);for(;n.length<a;)n.push(new sx);for(var h=0;h<this.MAX_TEXTURES;h++)this._tempBoundTextures[h]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},r.prototype.buildTexturesAndDrawCalls=function(){var e=this,n=e._bufferedTextures,s=e.MAX_TEXTURES,a=r._textureArrayPool,h=this.renderer.batch,f=this._tempBoundTextures,l=this.renderer.textureGC.count,d=++Gt._globalBatch,p=0,v=a[0],m=0;h.copyBoundTextures(f,s);for(var T=0;T<this._bufferSize;++T){var E=n[T];n[T]=null,E._batchEnabled!==d&&(v.count>=s&&(h.boundArray(v,f,d,s),this.buildDrawCalls(v,m,T),m=T,v=a[++p],++d),E._batchEnabled=d,E.touched=l,v.elements[v.count++]=E)}v.count>0&&(h.boundArray(v,f,d,s),this.buildDrawCalls(v,m,this._bufferSize),++p,++d);for(var T=0;T<f.length;T++)f[T]=null;Gt._globalBatch=d},r.prototype.buildDrawCalls=function(e,n,s){var a=this,h=a._bufferedElements,f=a._attributeBuffer,l=a._indexBuffer,d=a.vertexSize,p=r._drawCallPool,v=this._dcIndex,m=this._aIndex,T=this._iIndex,E=p[v];E.start=this._iIndex,E.texArray=e;for(var w=n;w<s;++w){var R=h[w],A=R._texture.baseTexture,F=N1[A.alphaMode?1:0][R.blendMode];h[w]=null,n<w&&E.blend!==F&&(E.size=T-E.start,n=w,E=p[++v],E.texArray=e,E.start=T),this.packInterleavedGeometry(R,f,l,m,T),m+=R.vertexData.length/2*d,T+=R.indices.length,E.blend=F}n<s&&(E.size=T-E.start,++v),this._dcIndex=v,this._aIndex=m,this._iIndex=T},r.prototype.bindAndClearTexArray=function(e){for(var n=this.renderer.texture,s=0;s<e.count;s++)n.bind(e.elements[s],e.ids[s]),e.elements[s]=null;e.count=0},r.prototype.updateGeometry=function(){var e=this,n=e._packedGeometries,s=e._attributeBuffer,a=e._indexBuffer;j.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(s.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(s.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,s=n.gl,a=n.state,h=r._drawCallPool,f=null,l=0;l<e;l++){var d=h[l],p=d.texArray,v=d.type,m=d.size,T=d.start,E=d.blend;f!==p&&(f=p,this.bindAndClearTexArray(p)),this.state.blendMode=E,a.set(this.state),s.drawElements(v,m,s.UNSIGNED_SHORT,T*2)}},r.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),j.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(e){var n=bs(Math.ceil(e/8)),s=Il(n),a=n*8;this._aBuffers.length<=s&&(this._iBuffers.length=s+1);var h=this._aBuffers[a];return h||(this._aBuffers[a]=h=new za(a*this.vertexSize*4)),h},r.prototype.getIndexBuffer=function(e){var n=bs(Math.ceil(e/12)),s=Il(n),a=n*12;this._iBuffers.length<=s&&(this._iBuffers.length=s+1);var h=this._iBuffers[s];return h||(this._iBuffers[s]=h=new Uint16Array(a)),h},r.prototype.packInterleavedGeometry=function(e,n,s,a,h){for(var f=n.uint32View,l=n.float32View,d=a/this.vertexSize,p=e.uvs,v=e.indices,m=e.vertexData,T=e._texture.baseTexture._batchLocation,E=Math.min(e.worldAlpha,1),w=E<1&&e._texture.baseTexture.alphaMode?P1(e._tintRGB,E):e._tintRGB+(E*255<<24),R=0;R<m.length;R+=2)l[a++]=m[R],l[a++]=m[R+1],l[a++]=p[R],l[a++]=p[R+1],f[a++]=w,l[a++]=T;for(var R=0;R<v.length;R++)s[h++]=d+v[R]},r._drawCallPool=[],r._textureArrayPool=[],r}(bd),ax=function(){function t(r,e){if(this.vertexSrc=r,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(r){if(!this.programCache[r]){for(var e=new Int32Array(r),n=0;n<r;n++)e[n]=n;this.defaultGroupCache[r]=Tn.from({uSamplers:e},!0);var s=this.fragTemplate;s=s.replace(/%count%/gi,""+r),s=s.replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new hu(this.vertexSrc,s)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new we,default:this.defaultGroupCache[r]};return new Pd(this.programCache[r],a)},t.prototype.generateSampleSrc=function(r){var e="";e+=`
`,e+=`
`;for(var n=0;n<r;n++)n>0&&(e+=`
else `),n<r-1&&(e+="if(vTextureId < "+n+".5)"),e+=`
{`,e+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",e+=`
}`;return e+=`
`,e+=`
`,e},t}(),ux=function(t){Ut(r,t);function r(e){e===void 0&&(e=!1);var n=t.call(this)||this;return n._buffer=new Ce(null,e,!1),n._indexBuffer=new Ce(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,rt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,rt.FLOAT).addAttribute("aColor",n._buffer,4,!0,rt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,rt.FLOAT).addIndex(n._indexBuffer),n}return r}(uu),Xl=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Dl=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,hx=function(){function t(){}return t.create=function(r){var e=Object.assign({vertex:Xl,fragment:Dl,geometryClass:ux,vertexSize:6},r),n=e.vertex,s=e.fragment,a=e.vertexSize,h=e.geometryClass;return function(f){Ut(l,f);function l(d){var p=f.call(this,d)||this;return p.shaderGenerator=new ax(n,s),p.geometryClass=h,p.vertexSize=a,p}return l}(ox)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Xl},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Dl},enumerable:!1,configurable:!0}),t}(),Gd=hx.create();Object.assign(Gd,{extension:{name:"batch",type:Zt.RendererPlugin}});/*!
 * @pixi/loaders - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ps=function(){function t(r,e,n){e===void 0&&(e=!1),this._fn=r,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function Hl(t,r){return t._head?(t._tail._next=r,r._prev=t._tail,t._tail=r):(t._head=r,t._tail=r),r._owner=t,r}var _r=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(r){r===void 0&&(r=!1);var e=this._head;if(r)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n},t.prototype.has=function(r){if(!(r instanceof ps))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return r._owner===this},t.prototype.dispatch=function(){for(var r=arguments,e=[],n=0;n<arguments.length;n++)e[n]=r[n];var s=this._head;if(!s)return!1;for(;s;)s._once&&this.detach(s),s._fn.apply(s._thisArg,e),s=s._next;return!0},t.prototype.add=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Hl(this,new ps(r,!1,e))},t.prototype.once=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Hl(this,new ps(r,!0,e))},t.prototype.detach=function(r){if(!(r instanceof ps))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return r._owner!==this?this:(r._prev&&(r._prev._next=r._next),r._next&&(r._next._prev=r._prev),r===this._head?(this._head=r._next,r._next===null&&(this._tail=null)):r===this._tail&&(this._tail=r._prev,this._tail._next=null),r._owner=null,this)},t.prototype.detachAll=function(){var r=this._head;if(!r)return this;for(this._head=this._tail=null;r;)r._owner=null,r=r._next;return this},t}();function Sd(t,r){r=r||{};for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[r.strictMode?"strict":"loose"].exec(t),s={},a=14;a--;)s[e.key[a]]=n[a]||"";return s[e.q.name]={},s[e.key[12]].replace(e.q.parser,function(h,f,l){f&&(s[e.q.name][f]=l)}),s}var va,_s=null,fx=0,kl=200,lx=204,cx=1223,dx=2;function Vl(){}function Wl(t,r,e){r&&r.indexOf(".")===0&&(r=r.substring(1)),r&&(t[r]=e)}function ga(t){return t.toString().replace("object ","")}var ue=function(){function t(r,e,n){if(this._dequeue=Vl,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof r!="string"||typeof e!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,e.indexOf("data:")===0),this.name=r,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Vl,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new _r,this.onProgress=new _r,this.onComplete=new _r,this.onAfterMiddleware=new _r}return t.setExtensionLoadType=function(r,e){Wl(t._loadTypeMap,r,e)},t.setExtensionXhrType=function(r,e){Wl(t._xhrTypeMap,r,e)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(r){var e=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(e)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof va>"u"&&(va=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),va&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(r){return(this._flags&r)!==0},t.prototype._setFlag=function(r,e){this._flags=e?this._flags|r:this._flags&~r},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(r,this.url[n],Array.isArray(e)?e[n]:e));else{var e=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(r.withCredentials=!0),r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=t.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new globalThis.XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t.prototype._createSource=function(r,e,n){n||(n=r+"/"+this._getExtension(e));var s=document.createElement("source");return s.src=e,s.type=n,s},t.prototype._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t.prototype._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var r=this.xhr;this.abort(ga(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t.prototype._xhrOnTimeout=function(){var r=this.xhr;this.abort(ga(r)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var r=this.xhr;this.abort(ga(r)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var r=this.xhr,e="",n=typeof r.status>"u"?kl:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType>"u")&&(e=r.responseText),n===fx&&(e.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=kl:n===cx&&(n=lx);var s=n/100|0;if(s===dx)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=t.TYPE.JSON}catch(f){this.abort("Error trying to parse loaded json: "+f);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(e,"text/xml")}else{var h=document.createElement("div");h.innerHTML=e,this.data=h}this.type=t.TYPE.XML}catch(f){this.abort("Error trying to parse loaded xml: "+f);return}else this.data=r.response||e;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(r,e){if(r.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,_s||(_s=document.createElement("a")),_s.href=r;var n=Sd(_s.href,{strictMode:!0}),s=!n.port&&e.port===""||n.port===e.port,a=n.protocol?n.protocol+":":"";return n.host!==e.hostname||!s||a!==e.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(r){r===void 0&&(r=this.url);var e="";if(this.isDataUrl){var n=r.indexOf("/");e=r.substring(n+1,r.indexOf(";",n))}else{var s=r.indexOf("?"),a=r.indexOf("#"),h=Math.min(s>-1?s:r.length,a>-1?a:r.length);r=r.substring(0,h),e=r.substring(r.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(r){r[r.NONE=0]="NONE",r[r.DATA_URL=1]="DATA_URL",r[r.COMPLETE=2]="COMPLETE",r[r.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.JSON=1]="JSON",r[r.XML=2]="XML",r[r.IMAGE=3]="IMAGE",r[r.AUDIO=4]="AUDIO",r[r.VIDEO=5]="VIDEO",r[r.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(r){r[r.XHR=1]="XHR",r[r.IMAGE=2]="IMAGE",r[r.AUDIO=3]="AUDIO",r[r.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(r){r.DEFAULT="text",r.BUFFER="arraybuffer",r.BLOB="blob",r.DOCUMENT="document",r.JSON="json",r.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(ue||(ue={}));function Wr(){}function px(t){return function(){for(var e=arguments,n=[],s=0;s<arguments.length;s++)n[s]=e[s];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var _x=function(){function t(r,e){this.data=r,this.callback=e}return t}(),ma=function(){function t(r,e){var n=this;if(e===void 0&&(e=1),this.workers=0,this.saturated=Wr,this.unsaturated=Wr,this.empty=Wr,this.drain=Wr,this.error=Wr,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(s,a,h){if(h&&typeof h!="function")throw new Error("task callback must be a function");if(n.started=!0,s==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var f=new _x(s,typeof h=="function"?h:Wr);a?n._tasks.unshift(f):n._tasks.push(f),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var s=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(s.data,px(n._next(s)))}},this._worker=r,e===0)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(r){var e=this;return function(){for(var n=arguments,s=[],a=0;a<arguments.length;a++)s[a]=n[a];e.workers-=1,r.callback.apply(r,s),s[0]!=null&&e.error(s[0],r.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(r,e){this._insert(r,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=Wr,this.started=!1,this._tasks=[]},t.prototype.unshift=function(r,e){this._insert(r,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var r=1;r<=this.concurrency;r++)this.process()}},t.eachSeries=function(r,e,n,s){var a=0,h=r.length;function f(l){if(l||a===h){n&&n(l);return}s?setTimeout(function(){e(r[a++],f)},1):e(r[a++],f)}f()},t.queue=function(r,e){return new t(r,e)},t}(),ya=100,vx=/(#[\w-]+)?$/,Cs=function(){function t(r,e){var n=this;r===void 0&&(r=""),e===void 0&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,d){return n._loadResource(l,d)},this.resources={},this.baseUrl=r,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,d){return n._loadResource(l,d)},this._queue=ma.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new _r,this.onError=new _r,this.onLoad=new _r,this.onStart=new _r,this.onComplete=new _r;for(var s=0;s<t._plugins.length;++s){var a=t._plugins[s],h=a.pre,f=a.use;h&&this.pre(h),f&&this.use(f)}this._protected=!1}return t.prototype._add=function(r,e,n,s){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(e=this._prepareUrl(e),this.resources[r]=new ue(r,e,n),typeof s=="function"&&this.resources[r].onAfterMiddleware.once(s),this.loading){for(var a=n.parentResource,h=[],f=0;f<a.children.length;++f)a.children[f].isComplete||h.push(a.children[f]);var l=a.progressChunk*(h.length+1),d=l/(h.length+2);a.children.push(this.resources[r]),a.progressChunk=d;for(var f=0;f<h.length;++f)h[f].progressChunk=d;this.resources[r].progressChunk=d}return this._queue.push(this.resources[r]),this},t.prototype.pre=function(r){return this._beforeMiddleware.push(r),this},t.prototype.use=function(r){return this._afterMiddleware.push(r),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var e=this.resources[r];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(r){if(Ur("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,n=ya/e,s=0;s<this._queue._tasks.length;++s)this._queue._tasks[s].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(r){var e=Sd(r,{strictMode:!0}),n;if(e.protocol||!e.path||r.indexOf("//")===0?n=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?n=this.baseUrl+"/"+r:n=this.baseUrl+r,this.defaultQueryString){var s=vx.exec(n)[0];n=n.slice(0,n.length-s.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=s}return n},t.prototype._loadResource=function(r,e){var n=this;r._dequeue=e,ma.eachSeries(this._beforeMiddleware,function(s,a){s.call(n,r,function(){a(r.isComplete?{}:null)})},function(){r.isComplete?n._onLoad(r):(r._onLoadBinding=r.onComplete.once(n._onLoad,n),r.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=ya,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(r){var e=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),ma.eachSeries(this._afterMiddleware,function(n,s){n.call(e,r,s)},function(){r.onAfterMiddleware.dispatch(r),e.progress=Math.min(ya,e.progress+r.progressChunk),e.onProgress.dispatch(e,r),r.error?e.onError.dispatch(r.error,e,r):e.onLoad.dispatch(e,r),e._resourcesParsing.splice(e._resourcesParsing.indexOf(r),1),e._queue.idle()&&e._resourcesParsing.length===0&&e._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},enumerable:!1,configurable:!0}),t.registerPlugin=function(r){return Ur("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),ze.add({type:Zt.Loader,ref:r}),t},t._plugins=[],t}();ze.handleByList(Zt.Loader,Cs._plugins);Cs.prototype.add=function(r,e,n,s){if(Array.isArray(r)){for(var a=0;a<r.length;++a)this.add(r[a]);return this}if(typeof r=="object"&&(n=r,s=e||n.callback||n.onComplete,e=n.url,r=n.name||n.key||n.url),typeof e!="string"&&(s=n,n=e,e=r),typeof e!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(s=n,n=null),this._add(r,e,n,s)};(function(){function t(){}return t.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?Cs.shared:new Cs},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=Zt.Application,t})();var gx=function(){function t(){}return t.add=function(){ue.setExtensionLoadType("svg",ue.LOAD_TYPE.XHR),ue.setExtensionXhrType("svg",ue.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,e){if(r.data&&(r.type===ue.TYPE.IMAGE||r.extension==="svg")){var n=r.data,s=r.url,a=r.name,h=r.metadata;pe.fromLoader(n,s,a,h).then(function(f){r.texture=f,e()}).catch(e)}else e()},t.extension=Zt.Loader,t}(),mx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function yx(t){for(var r="",e=0;e<t.length;){for(var n=[0,0,0],s=[0,0,0,0],a=0;a<n.length;++a)e<t.length?n[a]=t.charCodeAt(e++)&255:n[a]=0;s[0]=n[0]>>2,s[1]=(n[0]&3)<<4|n[1]>>4,s[2]=(n[1]&15)<<2|n[2]>>6,s[3]=n[2]&63;var h=e-(t.length-1);switch(h){case 2:s[3]=64,s[2]=64;break;case 1:s[3]=64;break}for(var a=0;a<s.length;++a)r+=mx.charAt(s[a])}return r}function Tx(t,r){if(!t.data){r();return}if(t.xhr&&t.xhrType===ue.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var e=t.xhr.getResponseHeader("content-type");if(e&&e.indexOf("image")===0){t.data=new Image,t.data.src="data:"+e+";base64,"+yx(t.xhr.responseText),t.type=ue.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,r()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,s=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=s,t.type=ue.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(s),t.data.onload=null,r()};return}}r()}var Ex=function(){function t(){}return t.extension=Zt.Loader,t.use=Tx,t}();ze.add(gx,Ex);/*!
 * @pixi/compressed-textures - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ct,ut;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(ut||(ut={}));var ws=(Ct={},Ct[ut.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Ct[ut.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Ct[ut.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Ct[ut.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Ct[ut.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Ct[ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Ct[ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Ct[ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Ct[ut.COMPRESSED_R11_EAC]=.5,Ct[ut.COMPRESSED_SIGNED_R11_EAC]=.5,Ct[ut.COMPRESSED_RG11_EAC]=1,Ct[ut.COMPRESSED_SIGNED_RG11_EAC]=1,Ct[ut.COMPRESSED_RGB8_ETC2]=.5,Ct[ut.COMPRESSED_RGBA8_ETC2_EAC]=1,Ct[ut.COMPRESSED_SRGB8_ETC2]=.5,Ct[ut.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Ct[ut.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ct[ut.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ct[ut.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Ct[ut.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Ct[ut.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Ct[ut.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Ct[ut.COMPRESSED_RGB_ETC1_WEBGL]=.5,Ct[ut.COMPRESSED_RGB_ATC_WEBGL]=.5,Ct[ut.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Ct[ut.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Ct);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $a=function(t,r){return $a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},$a(t,r)};function Fd(t,r){$a(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function xx(t,r,e,n){function s(a){return a instanceof e?a:new e(function(h){h(a)})}return new(e||(e=Promise))(function(a,h){function f(p){try{d(n.next(p))}catch(v){h(v)}}function l(p){try{d(n.throw(p))}catch(v){h(v)}}function d(p){p.done?a(p.value):s(p.value).then(f,l)}d((n=n.apply(t,r||[])).next())})}function Rx(t,r){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(d){return function(p){return l([d,p])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,s=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){e.label=d[1];break}if(d[0]===6&&e.label<a[1]){e.label=a[1],a=d;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(d);break}a[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(t,e)}catch(p){d=[6,p],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Ix=function(t){Fd(r,t);function r(e,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var s=this,a,h;return typeof e=="string"?(a=e,h=new Uint8Array):(a=null,h=e),s=t.call(this,h,n)||this,s.origin=a,s.buffer=h?new za(h):null,s.origin&&n.autoLoad!==!1&&s.load(),h&&h.length&&(s.loaded=!0,s.onBlobLoaded(s.buffer.rawBinaryData)),s}return r.prototype.onBlobLoaded=function(e){},r.prototype.load=function(){return xx(this,void 0,Promise,function(){var e,n,s;return Rx(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return e=a.sent(),[4,e.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return s=a.sent(),this.data=new Uint32Array(s),this.buffer=new za(s),this.loaded=!0,this.onBlobLoaded(s),this.update(),[2,this]}})})},r}(fi),Ya=function(t){Fd(r,t);function r(e,n){var s=t.call(this,e,n)||this;return s.format=n.format,s.levels=n.levels||1,s._width=n.width,s._height=n.height,s._extension=r._formatToExtension(s.format),(n.levelBuffers||s.buffer)&&(s._levelBuffers=n.levelBuffers||r._createLevelBuffers(e instanceof Uint8Array?e:s.buffer.uint8View,s.format,s.levels,4,4,s.width,s.height)),s}return r.prototype.upload=function(e,n,s){var a=e.gl,h=e.context.extensions[this._extension];if(!h)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var f=0,l=this.levels;f<l;f++){var d=this._levelBuffers[f],p=d.levelID,v=d.levelWidth,m=d.levelHeight,T=d.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,p,this.format,v,m,0,T)}return!0},r.prototype.onBlobLoaded=function(){this._levelBuffers=r._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},r._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},r._createLevelBuffers=function(e,n,s,a,h,f,l){for(var d=new Array(s),p=e.byteOffset,v=f,m=l,T=v+a-1&~(a-1),E=m+h-1&~(h-1),w=T*E*ws[n],R=0;R<s;R++)d[R]={levelID:R,levelWidth:s>1?v:T,levelHeight:s>1?m:E,levelBuffer:new Uint8Array(e.buffer,p,w)},p+=w,v=v>>1||1,m=m>>1||1,T=v+a-1&~(a-1),E=m+h-1&~(h-1),w=T*E*ws[n];return d},r}(Ix);(function(){function t(){}return t.use=function(r,e){var n=r.data,s=this;if(r.type===ue.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,h=void 0,f=void 0,l=0,d=a.length;l<d;l++){var p=a[l],v=p.src,m=p.format;if(m||(f=v),t.textureFormats[m]){h=v;break}}if(h=h||f,!h){e(new Error("Cannot load compressed-textures in "+r.url+", make sure you provide a fallback"));return}if(h===r.url){e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var T={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},E=md.resolve(r.url.replace(s.baseUrl,""),h),w=n.cacheID;s.add(w,E,T,function(R){if(R.error){e(R.error);return}var A=R.texture,F=A===void 0?null:A,P=R.textures,U=P===void 0?{}:P;Object.assign(r,{texture:F,textures:U}),e()})}else e()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var r=j.ADAPTER.createCanvas(),e=r.getContext("webgl");if(!e)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var r=t.textureExtensions;t._textureFormats={};for(var e in r){var n=r[e];!n||Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=Zt.Loader,t})();function Bd(t,r,e){var n={textures:{},texture:null};if(!r)return n;var s=r.map(function(a){return new pe(new Gt(a,Object.assign({mipmap:mr.OFF,alphaMode:Qe.NO_PREMULTIPLIED_ALPHA},e)))});return s.forEach(function(a,h){var f=a.baseTexture,l=t+"-"+(h+1);Gt.addToCache(f,l),pe.addToCache(a,l),h===0&&(Gt.addToCache(f,t),pe.addToCache(a,t),n.texture=a),n.textures[l]=a}),n}var $n,He,Ta=4,vs=124,bx=32,zl=20,Cx=542327876,gs={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},wx={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},ms={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Ve;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Ve||(Ve={}));var ja;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(ja||(ja={}));var Ax=1,Nx=2,Px=4,Ux=64,Ox=512,Lx=131072,Gx=827611204,Sx=861165636,Fx=894720068,Bx=808540228,Mx=4,Xx=($n={},$n[Gx]=ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,$n[Sx]=ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,$n[Fx]=ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,$n),Dx=(He={},He[Ve.DXGI_FORMAT_BC1_TYPELESS]=ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,He[Ve.DXGI_FORMAT_BC1_UNORM]=ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,He[Ve.DXGI_FORMAT_BC2_TYPELESS]=ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,He[Ve.DXGI_FORMAT_BC2_UNORM]=ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,He[Ve.DXGI_FORMAT_BC3_TYPELESS]=ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,He[Ve.DXGI_FORMAT_BC3_UNORM]=ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,He[Ve.DXGI_FORMAT_BC1_UNORM_SRGB]=ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,He[Ve.DXGI_FORMAT_BC2_UNORM_SRGB]=ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,He[Ve.DXGI_FORMAT_BC3_UNORM_SRGB]=ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,He);function Hx(t){var r=new Uint32Array(t),e=r[0];if(e!==Cx)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,vs/Uint32Array.BYTES_PER_ELEMENT),s=n[gs.HEIGHT],a=n[gs.WIDTH],h=n[gs.MIPMAP_COUNT],f=new Uint32Array(t,gs.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,bx/Uint32Array.BYTES_PER_ELEMENT),l=f[Ax];if(l&Px){var d=f[wx.FOURCC];if(d!==Bx){var p=Xx[d],v=Ta+vs,m=new Uint8Array(t,v),T=new Ya(m,{format:p,width:a,height:s,levels:h});return[T]}var E=Ta+vs,w=new Uint32Array(r.buffer,E,zl/Uint32Array.BYTES_PER_ELEMENT),R=w[ms.DXGI_FORMAT],A=w[ms.RESOURCE_DIMENSION],F=w[ms.MISC_FLAG],P=w[ms.ARRAY_SIZE],U=Dx[R];if(U===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+R);if(F===Mx)throw new Error("DDSParser does not support cubemap textures");if(A===ja.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var M=new Array,k=Ta+vs+zl;if(P===1)M.push(new Uint8Array(t,k));else{for(var Y=ws[U],z=0,tt=a,ft=s,dt=0;dt<h;dt++){var Ot=Math.max(1,tt+3&-4),gt=Math.max(1,ft+3&-4),bt=Ot*gt*Y;z+=bt,tt=tt>>>1,ft=ft>>>1}for(var kt=k,dt=0;dt<P;dt++)M.push(new Uint8Array(t,kt,z)),kt+=z}return M.map(function(Ft){return new Ya(Ft,{format:U,width:a,height:s,levels:h})})}throw l&Ux?new Error("DDSParser does not support uncompressed texture data."):l&Ox?new Error("DDSParser does not supported YUV uncompressed texture data."):l&Lx?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Nx?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Ar,cr,Yn,$l=[171,75,84,88,32,49,49,187,13,10,26,10],kx=67305985,ke={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},qa=64,Yl=(Ar={},Ar[rt.UNSIGNED_BYTE]=1,Ar[rt.UNSIGNED_SHORT]=2,Ar[rt.INT]=4,Ar[rt.UNSIGNED_INT]=4,Ar[rt.FLOAT]=4,Ar[rt.HALF_FLOAT]=8,Ar),Vx=(cr={},cr[D.RGBA]=4,cr[D.RGB]=3,cr[D.RG]=2,cr[D.RED]=1,cr[D.LUMINANCE]=1,cr[D.LUMINANCE_ALPHA]=2,cr[D.ALPHA]=1,cr),Wx=(Yn={},Yn[rt.UNSIGNED_SHORT_4_4_4_4]=2,Yn[rt.UNSIGNED_SHORT_5_5_5_1]=2,Yn[rt.UNSIGNED_SHORT_5_6_5]=2,Yn);function zx(t,r,e){e===void 0&&(e=!1);var n=new DataView(r);if(!$x(t,n))return null;var s=n.getUint32(ke.ENDIANNESS,!0)===kx,a=n.getUint32(ke.GL_TYPE,s),h=n.getUint32(ke.GL_FORMAT,s),f=n.getUint32(ke.GL_INTERNAL_FORMAT,s),l=n.getUint32(ke.PIXEL_WIDTH,s),d=n.getUint32(ke.PIXEL_HEIGHT,s)||1,p=n.getUint32(ke.PIXEL_DEPTH,s)||1,v=n.getUint32(ke.NUMBER_OF_ARRAY_ELEMENTS,s)||1,m=n.getUint32(ke.NUMBER_OF_FACES,s),T=n.getUint32(ke.NUMBER_OF_MIPMAP_LEVELS,s),E=n.getUint32(ke.BYTES_OF_KEY_VALUE_DATA,s);if(d===0||p!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(v!==1)throw new Error("WebGL does not support array textures");var w=4,R=4,A=l+3&-4,F=d+3&-4,P=new Array(v),U=l*d;a===0&&(U=A*F);var M;if(a!==0?Yl[a]?M=Yl[a]*Vx[h]:M=Wx[a]:M=ws[f],M===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var k=e?jx(n,E,s):null,Y=U*M,z=Y,tt=l,ft=d,dt=A,Ot=F,gt=qa+E,bt=0;bt<T;bt++){for(var kt=n.getUint32(gt,s),Ft=gt+4,Yt=0;Yt<v;Yt++){var ie=P[Yt];ie||(ie=P[Yt]=new Array(T)),ie[bt]={levelID:bt,levelWidth:T>1||a!==0?tt:dt,levelHeight:T>1||a!==0?ft:Ot,levelBuffer:new Uint8Array(r,Ft,z)},Ft+=z}gt+=kt+4,gt=gt%4!==0?gt+4-gt%4:gt,tt=tt>>1||1,ft=ft>>1||1,dt=tt+w-1&~(w-1),Ot=ft+R-1&~(R-1),z=dt*Ot*M}return a!==0?{uncompressed:P.map(function(jt){var L=jt[0].levelBuffer,X=!1;return a===rt.FLOAT?L=new Float32Array(jt[0].levelBuffer.buffer,jt[0].levelBuffer.byteOffset,jt[0].levelBuffer.byteLength/4):a===rt.UNSIGNED_INT?(X=!0,L=new Uint32Array(jt[0].levelBuffer.buffer,jt[0].levelBuffer.byteOffset,jt[0].levelBuffer.byteLength/4)):a===rt.INT&&(X=!0,L=new Int32Array(jt[0].levelBuffer.buffer,jt[0].levelBuffer.byteOffset,jt[0].levelBuffer.byteLength/4)),{resource:new fi(L,{width:jt[0].levelWidth,height:jt[0].levelHeight}),type:a,format:X?Yx(h):h}}),kvData:k}:{compressed:P.map(function(jt){return new Ya(null,{format:f,width:l,height:d,levels:T,levelBuffers:jt})}),kvData:k}}function $x(t,r){for(var e=0;e<$l.length;e++)if(r.getUint8(e)!==$l[e])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function Yx(t){switch(t){case D.RGBA:return D.RGBA_INTEGER;case D.RGB:return D.RGB_INTEGER;case D.RG:return D.RG_INTEGER;case D.RED:return D.RED_INTEGER;default:return t}}function jx(t,r,e){for(var n=new Map,s=0;s<r;){var a=t.getUint32(qa+s,e),h=qa+s+4,f=3-(a+3)%4;if(a===0||a>r-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<a&&t.getUint8(h+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var d=new TextDecoder().decode(new Uint8Array(t.buffer,h,l)),p=new DataView(t.buffer,h+l+1,a-l-1);n.set(d,p),s+=4+a+f}return n}ue.setExtensionXhrType("dds",ue.XHR_RESPONSE_TYPE.BUFFER);(function(){function t(){}return t.use=function(r,e){if(r.extension==="dds"&&r.data)try{Object.assign(r,Bd(r.name||r.url,Hx(r.data),r.metadata))}catch(n){e(n);return}e()},t.extension=Zt.Loader,t})();ue.setExtensionXhrType("ktx",ue.XHR_RESPONSE_TYPE.BUFFER);(function(){function t(){}return t.use=function(r,e){if(r.extension==="ktx"&&r.data)try{var n=r.name||r.url,s=zx(n,r.data,this.loadKeyValueData),a=s.compressed,h=s.uncompressed,f=s.kvData;if(a){var l=Bd(n,a,r.metadata);if(f&&l.textures)for(var d in l.textures)l.textures[d].baseTexture.ktxKeyValueData=f;Object.assign(r,l)}else if(h){var p={};h.forEach(function(v,m){var T=new pe(new Gt(v.resource,{mipmap:mr.OFF,alphaMode:Qe.NO_PREMULTIPLIED_ALPHA,type:v.type,format:v.format})),E=n+"-"+(m+1);f&&(T.baseTexture.ktxKeyValueData=f),Gt.addToCache(T.baseTexture,E),pe.addToCache(T,E),m===0&&(p[n]=T,Gt.addToCache(T.baseTexture,n),pe.addToCache(T,n)),p[E]=T}),Object.assign(r,{textures:p})}}catch(v){e(v);return}e()},t.extension=Zt.Loader,t.loadKeyValueData=!1,t})();/*!
 * @pixi/display - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.SORTABLE_CHILDREN=!1;var Za=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Ht.EMPTY:(r=r||new Ht(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},t.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},t.prototype.addPointMatrix=function(r,e){var n=r.a,s=r.b,a=r.c,h=r.d,f=r.tx,l=r.ty,d=n*e.x+a*e.y+f,p=s*e.x+h*e.y+l;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)},t.prototype.addQuad=function(r){var e=this.minX,n=this.minY,s=this.maxX,a=this.maxY,h=r[0],f=r[1];e=h<e?h:e,n=f<n?f:n,s=h>s?h:s,a=f>a?f:a,h=r[2],f=r[3],e=h<e?h:e,n=f<n?f:n,s=h>s?h:s,a=f>a?f:a,h=r[4],f=r[5],e=h<e?h:e,n=f<n?f:n,s=h>s?h:s,a=f>a?f:a,h=r[6],f=r[7],e=h<e?h:e,n=f<n?f:n,s=h>s?h:s,a=f>a?f:a,this.minX=e,this.minY=n,this.maxX=s,this.maxY=a},t.prototype.addFrame=function(r,e,n,s,a){this.addFrameMatrix(r.worldTransform,e,n,s,a)},t.prototype.addFrameMatrix=function(r,e,n,s,a){var h=r.a,f=r.b,l=r.c,d=r.d,p=r.tx,v=r.ty,m=this.minX,T=this.minY,E=this.maxX,w=this.maxY,R=h*e+l*n+p,A=f*e+d*n+v;m=R<m?R:m,T=A<T?A:T,E=R>E?R:E,w=A>w?A:w,R=h*s+l*n+p,A=f*s+d*n+v,m=R<m?R:m,T=A<T?A:T,E=R>E?R:E,w=A>w?A:w,R=h*e+l*a+p,A=f*e+d*a+v,m=R<m?R:m,T=A<T?A:T,E=R>E?R:E,w=A>w?A:w,R=h*s+l*a+p,A=f*s+d*a+v,m=R<m?R:m,T=A<T?A:T,E=R>E?R:E,w=A>w?A:w,this.minX=m,this.minY=T,this.maxX=E,this.maxY=w},t.prototype.addVertexData=function(r,e,n){for(var s=this.minX,a=this.minY,h=this.maxX,f=this.maxY,l=e;l<n;l+=2){var d=r[l],p=r[l+1];s=d<s?d:s,a=p<a?p:a,h=d>h?d:h,f=p>f?p:f}this.minX=s,this.minY=a,this.maxX=h,this.maxY=f},t.prototype.addVertices=function(r,e,n,s){this.addVerticesMatrix(r.worldTransform,e,n,s)},t.prototype.addVerticesMatrix=function(r,e,n,s,a,h){a===void 0&&(a=0),h===void 0&&(h=a);for(var f=r.a,l=r.b,d=r.c,p=r.d,v=r.tx,m=r.ty,T=this.minX,E=this.minY,w=this.maxX,R=this.maxY,A=n;A<s;A+=2){var F=e[A],P=e[A+1],U=f*F+d*P+v,M=p*P+l*F+m;T=Math.min(T,U-a),w=Math.max(w,U+a),E=Math.min(E,M-h),R=Math.max(R,M+h)}this.minX=T,this.minY=E,this.maxX=w,this.maxY=R},t.prototype.addBounds=function(r){var e=this.minX,n=this.minY,s=this.maxX,a=this.maxY;this.minX=r.minX<e?r.minX:e,this.minY=r.minY<n?r.minY:n,this.maxX=r.maxX>s?r.maxX:s,this.maxY=r.maxY>a?r.maxY:a},t.prototype.addBoundsMask=function(r,e){var n=r.minX>e.minX?r.minX:e.minX,s=r.minY>e.minY?r.minY:e.minY,a=r.maxX<e.maxX?r.maxX:e.maxX,h=r.maxY<e.maxY?r.maxY:e.maxY;if(n<=a&&s<=h){var f=this.minX,l=this.minY,d=this.maxX,p=this.maxY;this.minX=n<f?n:f,this.minY=s<l?s:l,this.maxX=a>d?a:d,this.maxY=h>p?h:p}},t.prototype.addBoundsMatrix=function(r,e){this.addFrameMatrix(e,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.addBoundsArea=function(r,e){var n=r.minX>e.x?r.minX:e.x,s=r.minY>e.y?r.minY:e.y,a=r.maxX<e.x+e.width?r.maxX:e.x+e.width,h=r.maxY<e.y+e.height?r.maxY:e.y+e.height;if(n<=a&&s<=h){var f=this.minX,l=this.minY,d=this.maxX,p=this.maxY;this.minX=n<f?n:f,this.minY=s<l?s:l,this.maxX=a>d?a:d,this.maxY=h>p?h:p}},t.prototype.pad=function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(r,e,n,s,a,h){r-=a,e-=h,n+=a,s+=h,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>s?this.maxY:s},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ka=function(t,r){return Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},Ka(t,r)};function lu(t,r){Ka(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var ui=function(t){lu(r,t);function r(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new BT,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Za,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return r.mixin=function(e){for(var n=Object.keys(e),s=0;s<n.length;++s){var a=n[s];Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(e,a))}},Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ht),n=this._boundsRect),this._bounds.getRectangle(n)},r.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ht),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Za);var n=this.transform,s=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,h=this._boundsID;this._bounds=this._localBounds;var f=this.getBounds(!1,e);return this.parent=s,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-h,f},r.prototype.toGlobal=function(e,n,s){return s===void 0&&(s=!1),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)},r.prototype.toLocal=function(e,n,s,a){return n&&(e=n.toGlobal(e,s,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,s)},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.setTransform=function(e,n,s,a,h,f,l,d,p){return e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=1),a===void 0&&(a=1),h===void 0&&(h=0),f===void 0&&(f=0),l===void 0&&(l=0),d===void 0&&(d=0),p===void 0&&(p=0),this.position.x=e,this.position.y=n,this.scale.x=s||1,this.scale.y=a||1,this.rotation=h,this.skew.x=f,this.skew.y=l,this.pivot.x=d,this.pivot.y=p,this},r.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Md),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},r.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*GT},set:function(e){this.transform.rotation=e*ST},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),r}(hi),Md=function(t){lu(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return r}(ui);ui.prototype.displayObjectUpdateTransform=ui.prototype.updateTransform;/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jl;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(jl||(jl={}));var ql;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(ql||(ql={}));var Zl;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Zl||(Zl={}));var Kl;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Kl||(Kl={}));var Jl;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Jl||(Jl={}));var Ql;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ql||(Ql={}));var tc;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(tc||(tc={}));var ec;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(ec||(ec={}));var rc;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(rc||(rc={}));var nc;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(nc||(nc={}));var ic;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ic||(ic={}));var sc;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(sc||(sc={}));var oc;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(oc||(oc={}));var ac;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ac||(ac={}));var uc;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(uc||(uc={}));var hc;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(hc||(hc={}));var Ja;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Ja||(Ja={}));var fc;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(fc||(fc={}));var lc;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(lc||(lc={}));var cc;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(cc||(cc={}));function qx(t,r){return t.zIndex===r.zIndex?t._lastSortedIndex-r._lastSortedIndex:t.zIndex-r.zIndex}var As=function(t){lu(r,t);function r(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=j.SORTABLE_CHILDREN,e.sortDirty=!1,e}return r.prototype.onChildrenChange=function(e){},r.prototype.addChild=function(){for(var e=arguments,n=[],s=0;s<arguments.length;s++)n[s]=e[s];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var h=n[0];h.parent&&h.parent.removeChild(h),h.parent=this,this.sortDirty=!0,h.transform._parentID=-1,this.children.push(h),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",h,this,this.children.length-1),h.emit("added",this)}return n[0]},r.prototype.addChildAt=function(e,n){if(n<0||n>this.children.length)throw new Error(e+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(n,0,e),this._boundsID++,this.onChildrenChange(n),e.emit("added",this),this.emit("childAdded",e,this,n),e},r.prototype.swapChildren=function(e,n){if(e!==n){var s=this.getChildIndex(e),a=this.getChildIndex(n);this.children[s]=n,this.children[a]=e,this.onChildrenChange(s<a?s:a)}},r.prototype.getChildIndex=function(e){var n=this.children.indexOf(e);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},r.prototype.setChildIndex=function(e,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var s=this.getChildIndex(e);xs(this.children,s,1),this.children.splice(n,0,e),this.onChildrenChange(n)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},r.prototype.removeChild=function(){for(var e=arguments,n=[],s=0;s<arguments.length;s++)n[s]=e[s];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var h=n[0],f=this.children.indexOf(h);if(f===-1)return null;h.parent=null,h.transform._parentID=-1,xs(this.children,f,1),this._boundsID++,this.onChildrenChange(f),h.emit("removed",this),this.emit("childRemoved",h,this,f)}return n[0]},r.prototype.removeChildAt=function(e){var n=this.getChildAt(e);return n.parent=null,n.transform._parentID=-1,xs(this.children,e,1),this._boundsID++,this.onChildrenChange(e),n.emit("removed",this),this.emit("childRemoved",n,this,e),n},r.prototype.removeChildren=function(e,n){e===void 0&&(e=0),n===void 0&&(n=this.children.length);var s=e,a=n,h=a-s,f;if(h>0&&h<=a){f=this.children.splice(s,h);for(var l=0;l<f.length;++l)f[l].parent=null,f[l].transform&&(f[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var l=0;l<f.length;++l)f[l].emit("removed",this),this.emit("childRemoved",f[l],this,l);return f}else if(h===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var e=!1,n=0,s=this.children.length;n<s;++n){var a=this.children[n];a._lastSortedIndex=n,!e&&a.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(qx),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,n=this.children.length;e<n;++e){var s=this.children[e];s.visible&&s.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var n=this.children[e];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var s=n._mask.isMaskData?n._mask.maskObject:n._mask;s?(s.calculateBounds(),this._bounds.addBoundsMask(n._bounds,s._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(e,n){n===void 0&&(n=!1);var s=t.prototype.getLocalBounds.call(this,e);if(!n)for(var a=0,h=this.children.length;a<h;++a){var f=this.children[a];f.visible&&f.updateTransform()}return s},r.prototype._calculateBounds=function(){},r.prototype._renderWithCulling=function(e){var n=e.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var s,a;if(this.cullArea?(s=this.cullArea,a=this.worldTransform):this._render!==r.prototype._render&&(s=this.getBounds(!0)),s&&n.intersects(s,a))this._render(e);else if(this.cullArea)return;for(var h=0,f=this.children.length;h<f;++h){var l=this.children[h],d=l.cullable;l.cullable=d||!this.cullArea,l.render(e),l.cullable=d}}},r.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var n=0,s=this.children.length;n<s;++n)this.children[n].render(e)}},r.prototype.renderAdvanced=function(e){var n=this.filters,s=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var h=n&&this._enabledFilters&&this._enabledFilters.length||s&&(!s.isMaskData||s.enabled&&(s.autoDetect||s.type!==Ja.NONE));if(h&&e.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),s&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var a=0,f=this.children.length;a<f;++a)this.children[a].render(e)}h&&e.batch.flush(),s&&e.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},r.prototype._render=function(e){},r.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof e=="boolean"?e:e&&e.children,s=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<s.length;++a)s[a].destroy(e)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var n=this.getLocalBounds().width;n!==0?this.scale.x=e/n:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var n=this.getLocalBounds().height;n!==0?this.scale.y=e/n:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),r}(ui);As.prototype.containerUpdateTransform=As.prototype.updateTransform;/*!
 * @pixi/sprite - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qa=function(t,r){return Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},Qa(t,r)};function Zx(t,r){Qa(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var jn=new de,Kx=new Uint16Array([0,1,2,0,2,3]),Jx=function(t){Zx(r,t);function r(e){var n=t.call(this)||this;return n._anchor=new Zn(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Q.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||pe.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=Kx,n.pluginName="batch",n.isSprite=!0,n._roundPixels=j.ROUND_PIXELS,n}return r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=os(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=os(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var e=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===e._updateID)){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var n=this.transform.worldTransform,s=n.a,a=n.b,h=n.c,f=n.d,l=n.tx,d=n.ty,p=this.vertexData,v=e.trim,m=e.orig,T=this._anchor,E=0,w=0,R=0,A=0;if(v?(w=v.x-T._x*m.width,E=w+v.width,A=v.y-T._y*m.height,R=A+v.height):(w=-T._x*m.width,E=w+m.width,A=-T._y*m.height,R=A+m.height),p[0]=s*w+h*A+l,p[1]=f*A+a*w+d,p[2]=s*E+h*A+l,p[3]=f*A+a*E+d,p[4]=s*E+h*R+l,p[5]=f*R+a*E+d,p[6]=s*w+h*R+l,p[7]=f*R+a*w+d,this._roundPixels)for(var F=j.RESOLUTION,P=0;P<p.length;++P)p[P]=Math.round((p[P]*F|0)/F)}},r.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,n=this.vertexTrimmedData,s=e.orig,a=this._anchor,h=this.transform.worldTransform,f=h.a,l=h.b,d=h.c,p=h.d,v=h.tx,m=h.ty,T=-a._x*s.width,E=T+s.width,w=-a._y*s.height,R=w+s.height;n[0]=f*T+d*w+v,n[1]=p*w+l*T+m,n[2]=f*E+d*w+v,n[3]=p*w+l*E+m,n[4]=f*E+d*R+v,n[5]=p*R+l*E+m,n[6]=f*T+d*R+v,n[7]=p*R+l*T+m},r.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Za),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ht),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,jn);var n=this._texture.orig.width,s=this._texture.orig.height,a=-n*this.anchor.x,h=0;return jn.x>=a&&jn.x<a+n&&(h=-s*this.anchor.y,jn.y>=h&&jn.y<h+s)},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof e=="boolean"?e:e&&e.texture;if(n){var s=typeof e=="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!s)}this._texture=null},r.from=function(e,n){var s=e instanceof pe?e:pe.from(e,n);return new r(s)},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var n=os(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var n=os(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||pe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(As);/*!
 * @pixi/app - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Qx=function(){function t(){}return t.init=function(r){var e=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(!!e._resizeTo){e.cancelResize();var n,s;if(e._resizeTo===globalThis.window)n=globalThis.innerWidth,s=globalThis.innerHeight;else{var a=e._resizeTo,h=a.clientWidth,f=a.clientHeight;n=h,s=f}e.renderer.resize(n,s)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=Zt.Application,t}();/*!
 * @pixi/settings - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dc;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(dc||(dc={}));var pc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(pc||(pc={}));var _c;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(_c||(_c={}));var vc;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(vc||(vc={}));var gc;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(gc||(gc={}));var mc;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(mc||(mc={}));var yc;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(yc||(yc={}));var Tc;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Tc||(Tc={}));var Ec;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Ec||(Ec={}));var tu;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(tu||(tu={}));var eu;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(eu||(eu={}));var ru;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(ru||(ru={}));var xc;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(xc||(xc={}));var Rc;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Rc||(Rc={}));var nu;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(nu||(nu={}));var Qn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Qn||(Qn={}));var Ic;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Ic||(Ic={}));var bc;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(bc||(bc={}));var iu;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(iu||(iu={}));var Cc;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Cc||(Cc={}));var tR={createCanvas:function(t,r){var e=document.createElement("canvas");return e.width=t,e.height=r,e},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,r){return fetch(t,r)}},Ea=/iPhone/i,wc=/iPod/i,Ac=/iPad/i,Nc=/\biOS-universal(?:.+)Mac\b/i,xa=/\bAndroid(?:.+)Mobile\b/i,Pc=/Android/i,vn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ys=/Silk/i,dr=/Windows Phone/i,Uc=/\bWindows(?:.+)ARM\b/i,Oc=/BlackBerry/i,Lc=/BB10/i,Gc=/Opera Mini/i,Sc=/\b(CriOS|Chrome)(?:.+)Mobile/i,Fc=/Mobile(?:.+)Firefox\b/i,Bc=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function eR(t){return function(r){return r.test(t)}}function rR(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var e=r.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var s=eR(e),a={apple:{phone:s(Ea)&&!s(dr),ipod:s(wc),tablet:!s(Ea)&&(s(Ac)||Bc(r))&&!s(dr),universal:s(Nc),device:(s(Ea)||s(wc)||s(Ac)||s(Nc)||Bc(r))&&!s(dr)},amazon:{phone:s(vn),tablet:!s(vn)&&s(ys),device:s(vn)||s(ys)},android:{phone:!s(dr)&&s(vn)||!s(dr)&&s(xa),tablet:!s(dr)&&!s(vn)&&!s(xa)&&(s(ys)||s(Pc)),device:!s(dr)&&(s(vn)||s(ys)||s(xa)||s(Pc))||s(/\bokhttp\b/i)},windows:{phone:s(dr),tablet:s(Uc),device:s(dr)||s(Uc)},other:{blackberry:s(Oc),blackberry10:s(Lc),opera:s(Gc),firefox:s(Fc),chrome:s(Sc),device:s(Oc)||s(Lc)||s(Gc)||s(Fc)||s(Sc)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var mn=rR(globalThis.navigator);function nR(){return!mn.apple.device}function iR(t){var r=!0;if(mn.tablet||mn.phone){if(mn.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(r=!1)}}if(mn.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(r=!1)}}}return r?t:4}var Ns={ADAPTER:tR,MIPMAP_TEXTURES:ru.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:iu.NONE,SPRITE_MAX_TEXTURES:iR(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:nu.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:eu.CLAMP,SCALE_MODE:tu.LINEAR,PRECISION_VERTEX:Qn.HIGH,PRECISION_FRAGMENT:mn.apple.device?Qn.HIGH:Qn.MEDIUM,CAN_UPLOAD_SAME_BUFFER:nR(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cu(t,r,e){return e={path:r,exports:{},require:function(n,s){return sR(n,s==null?e.path:s)}},t(e,e.exports),e.exports}function sR(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}cu(function(t){var r=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(l,d,p){this.fn=l,this.context=d,this.once=p||!1}function a(l,d,p,v,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var T=new s(p,v||l,m),E=e?e+d:d;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],T]:l._events[E].push(T):(l._events[E]=T,l._eventsCount++),l}function h(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)r.call(p,v)&&d.push(e?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},f.prototype.listeners=function(d){var p=e?e+d:d,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var m=0,T=v.length,E=new Array(T);m<T;m++)E[m]=v[m].fn;return E},f.prototype.listenerCount=function(d){var p=e?e+d:d,v=this._events[p];return v?v.fn?1:v.length:0},f.prototype.emit=function(d,p,v,m,T,E){var w=arguments,R=e?e+d:d;if(!this._events[R])return!1;var A=this._events[R],F=arguments.length,P,U;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),F){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,v),!0;case 4:return A.fn.call(A.context,p,v,m),!0;case 5:return A.fn.call(A.context,p,v,m,T),!0;case 6:return A.fn.call(A.context,p,v,m,T,E),!0}for(U=1,P=new Array(F-1);U<F;U++)P[U-1]=w[U];A.fn.apply(A.context,P)}else{var M=A.length,k;for(U=0;U<M;U++)switch(A[U].once&&this.removeListener(d,A[U].fn,void 0,!0),F){case 1:A[U].fn.call(A[U].context);break;case 2:A[U].fn.call(A[U].context,p);break;case 3:A[U].fn.call(A[U].context,p,v);break;case 4:A[U].fn.call(A[U].context,p,v,m);break;default:if(!P)for(k=1,P=new Array(F-1);k<F;k++)P[k-1]=w[k];A[U].fn.apply(A[U].context,P)}}return!0},f.prototype.on=function(d,p,v){return a(this,d,p,v,!1)},f.prototype.once=function(d,p,v){return a(this,d,p,v,!0)},f.prototype.removeListener=function(d,p,v,m){var T=e?e+d:d;if(!this._events[T])return this;if(!p)return h(this,T),this;var E=this._events[T];if(E.fn)E.fn===p&&(!m||E.once)&&(!v||E.context===v)&&h(this,T);else{for(var w=0,R=[],A=E.length;w<A;w++)(E[w].fn!==p||m&&!E[w].once||v&&E[w].context!==v)&&R.push(E[w]);R.length?this._events[T]=R.length===1?R[0]:R:h(this,T)}return this},f.prototype.removeAllListeners=function(d){var p;return d?(p=e?e+d:d,this._events[p]&&h(this,p)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,t.exports=f});cu(function(t,r){(function(e){var n=r&&!r.nodeType&&r,s=t&&!t.nodeType&&t,a=typeof Ra=="object"&&Ra;(a.global===a||a.window===a||a.self===a)&&(e=a);var h,f=2147483647,l=36,d=1,p=26,v=38,m=700,T=72,E=128,w="-",R=/^xn--/,A=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=l-d,M=Math.floor,k=String.fromCharCode,Y;function z(L){throw RangeError(P[L])}function tt(L,X){for(var W=L.length,J=[];W--;)J[W]=X(L[W]);return J}function ft(L,X){var W=L.split("@"),J="";W.length>1&&(J=W[0]+"@",L=W[1]),L=L.replace(F,".");var et=L.split("."),lt=tt(et,X).join(".");return J+lt}function dt(L){for(var X=[],W=0,J=L.length,et,lt;W<J;)et=L.charCodeAt(W++),et>=55296&&et<=56319&&W<J?(lt=L.charCodeAt(W++),(lt&64512)==56320?X.push(((et&1023)<<10)+(lt&1023)+65536):(X.push(et),W--)):X.push(et);return X}function Ot(L){return tt(L,function(X){var W="";return X>65535&&(X-=65536,W+=k(X>>>10&1023|55296),X=56320|X&1023),W+=k(X),W}).join("")}function gt(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:l}function bt(L,X){return L+22+75*(L<26)-((X!=0)<<5)}function kt(L,X,W){var J=0;for(L=W?M(L/m):L>>1,L+=M(L/X);L>U*p>>1;J+=l)L=M(L/U);return M(J+(U+1)*L/(L+v))}function Ft(L){var X=[],W=L.length,J,et=0,lt=E,ot=T,Et,xt,wt,Vt,ct,yt,Nt,Rt,Wt;for(Et=L.lastIndexOf(w),Et<0&&(Et=0),xt=0;xt<Et;++xt)L.charCodeAt(xt)>=128&&z("not-basic"),X.push(L.charCodeAt(xt));for(wt=Et>0?Et+1:0;wt<W;){for(Vt=et,ct=1,yt=l;wt>=W&&z("invalid-input"),Nt=gt(L.charCodeAt(wt++)),(Nt>=l||Nt>M((f-et)/ct))&&z("overflow"),et+=Nt*ct,Rt=yt<=ot?d:yt>=ot+p?p:yt-ot,!(Nt<Rt);yt+=l)Wt=l-Rt,ct>M(f/Wt)&&z("overflow"),ct*=Wt;J=X.length+1,ot=kt(et-Vt,J,Vt==0),M(et/J)>f-lt&&z("overflow"),lt+=M(et/J),et%=J,X.splice(et++,0,lt)}return Ot(X)}function Yt(L){var X,W,J,et,lt,ot,Et,xt,wt,Vt,ct,yt=[],Nt,Rt,Wt,tr;for(L=dt(L),Nt=L.length,X=E,W=0,lt=T,ot=0;ot<Nt;++ot)ct=L[ot],ct<128&&yt.push(k(ct));for(J=et=yt.length,et&&yt.push(w);J<Nt;){for(Et=f,ot=0;ot<Nt;++ot)ct=L[ot],ct>=X&&ct<Et&&(Et=ct);for(Rt=J+1,Et-X>M((f-W)/Rt)&&z("overflow"),W+=(Et-X)*Rt,X=Et,ot=0;ot<Nt;++ot)if(ct=L[ot],ct<X&&++W>f&&z("overflow"),ct==X){for(xt=W,wt=l;Vt=wt<=lt?d:wt>=lt+p?p:wt-lt,!(xt<Vt);wt+=l)tr=xt-Vt,Wt=l-Vt,yt.push(k(bt(Vt+tr%Wt,0))),xt=M(tr/Wt);yt.push(k(bt(xt,0))),lt=kt(W,Rt,J==et),W=0,++J}++W,++X}return yt.join("")}function ie(L){return ft(L,function(X){return R.test(X)?Ft(X.slice(4).toLowerCase()):X})}function jt(L){return ft(L,function(X){return A.test(X)?"xn--"+Yt(X):X})}if(h={version:"1.3.2",ucs2:{decode:dt,encode:Ot},decode:Ft,encode:Yt,toASCII:jt,toUnicode:ie},n&&s)if(t.exports==n)s.exports=h;else for(Y in h)h.hasOwnProperty(Y)&&(n[Y]=h[Y]);else e.punycode=h})(Ra)});function oR(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var aR=function(t,r,e,n){r=r||"&",e=e||"=";var s={};if(typeof t!="string"||t.length===0)return s;var a=/\+/g;t=t.split(r);var h=1e3;n&&typeof n.maxKeys=="number"&&(h=n.maxKeys);var f=t.length;h>0&&f>h&&(f=h);for(var l=0;l<f;++l){var d=t[l].replace(a,"%20"),p=d.indexOf(e),v,m,T,E;p>=0?(v=d.substr(0,p),m=d.substr(p+1)):(v=d,m=""),T=decodeURIComponent(v),E=decodeURIComponent(m),oR(s,T)?Array.isArray(s[T])?s[T].push(E):s[T]=[s[T],E]:s[T]=E}return s},qn=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},uR=function(t,r,e,n){return r=r||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(s){var a=encodeURIComponent(qn(s))+e;return Array.isArray(t[s])?t[s].map(function(h){return a+encodeURIComponent(qn(h))}).join(r):a+encodeURIComponent(qn(t[s]))}).join(r):n?encodeURIComponent(qn(n))+e+encodeURIComponent(qn(t)):""};cu(function(t,r){r.decode=r.parse=aR,r.encode=r.stringify=uR});/*!
 * @pixi/constants - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mc;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Mc||(Mc={}));var Xc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Xc||(Xc={}));var Dc;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Dc||(Dc={}));var ye;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ye||(ye={}));var Hc;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Hc||(Hc={}));var kc;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(kc||(kc={}));var Vc;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Vc||(Vc={}));var Wc;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Wc||(Wc={}));var zc;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(zc||(zc={}));var $c;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})($c||($c={}));var Yc;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Yc||(Yc={}));var jc;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(jc||(jc={}));var qc;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(qc||(qc={}));var Zc;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Zc||(Zc={}));var Kc;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Kc||(Kc={}));var Jc;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Jc||(Jc={}));var Qc;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Qc||(Qc={}));var td;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(td||(td={}));var ed;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(ed||(ed={}));var rd;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(rd||(rd={}));/*!
 * @pixi/utils - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ns.RETINA_PREFIX=/@([0-9\.]+)x/;Ns.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;function hR(){for(var t=[],r=[],e=0;e<32;e++)t[e]=e,r[e]=e;t[ye.NORMAL_NPM]=ye.NORMAL,t[ye.ADD_NPM]=ye.ADD,t[ye.SCREEN_NPM]=ye.SCREEN,r[ye.NORMAL]=ye.NORMAL_NPM,r[ye.ADD]=ye.ADD_NPM,r[ye.SCREEN]=ye.SCREEN_NPM;var n=[];return n.push(r),n.push(t),n}hR();var nd={};function fR(t,r,e){if(e===void 0&&(e=3),!nd[r]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(n))),nd[r]=!0}}(function(){function t(r,e,n){this.canvas=Ns.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||Ns.RESOLUTION,this.resize(r,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,e){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t})();var Xd=function(){function t(r){var e=this;this.stage=new As,r=Object.assign({forceCanvas:!1},r),this.renderer=nx(r),t._plugins.forEach(function(n){n.init.call(e,r)})}return t.registerPlugin=function(r){fR("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),ze.add({type:Zt.Application,ref:r})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r,e){var n=this,s=t._plugins.slice(0);s.reverse(),s.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(r),this.renderer=null},t._plugins=[],t}();ze.handleByList(Zt.Application,Xd._plugins);ze.add(Qx);/*!
 * @pixi/interaction - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var id=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new de,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(r,e,n){return r.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var e="buttons"in r&&r.buttons;this.buttons=Number.isInteger(e)?e:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var su=function(t,r){return su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},su(t,r)};function lR(t,r){su(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var cR=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Ia=function(){function t(r){this._pointerId=r,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(r,e){e?this._flags=this._flags|r:this._flags=this._flags&~r},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(r){this._doSet(t.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),dR=function(){function t(){this._tempPoint=new de}return t.prototype.recursiveFindHit=function(r,e,n,s,a){var h;if(!e||!e.visible)return!1;var f=r.data.global;a=e.interactive||a;var l=!1,d=a,p=!0;if(e.hitArea)s&&(e.worldTransform.applyInverse(f,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(s=!1,p=!1)),d=!1;else if(e._mask&&s){var v=e._mask.isMaskData?e._mask.maskObject:e._mask;v&&!(!((h=v.containsPoint)===null||h===void 0)&&h.call(v,f))&&(s=!1)}if(p&&e.interactiveChildren&&e.children)for(var m=e.children,T=m.length-1;T>=0;T--){var E=m[T],w=this.recursiveFindHit(r,E,n,s,d);if(w){if(!E.parent)continue;d=!1,w&&(r.target&&(s=!1),l=!0)}}return a&&(s&&!r.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(f)&&(l=!0),e.interactive&&(l&&!r.target&&(r.target=e),n&&n(r,e,!!l))),l},t.prototype.findHit=function(r,e,n,s){this.recursiveFindHit(r,e,n,s,!1)},t}(),pR={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ui.mixin(pR);var Ts=1,Es={target:null,data:{global:null}},_R=function(t){lR(r,t);function r(e,n){var s=t.call(this)||this;return n=n||{},s.renderer=e,s.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,s.interactionFrequency=n.interactionFrequency||10,s.mouse=new id,s.mouse.identifier=Ts,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[Ts]=s.mouse,s.interactionDataPool=[],s.eventData=new cR,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.tickerAdded=!1,s.mouseOverRenderer=!("PointerEvent"in globalThis),s.supportsTouchEvents="ontouchstart"in globalThis,s.supportsPointerEvents=!!globalThis.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s.resolution=1,s.delayedEvents=[],s.search=new dR,s._tempDisplayObject=new Md,s._eventListenerOptions={capture:!0,passive:!1},s._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(e,n){return Es.target=null,Es.data.global=e,n||(n=this.lastObjectRendered),this.processInteractive(Es,n,null,!0),Es.target},r.prototype.setTargetElement=function(e,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=n,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(qe.system.add(this.tickerUpdate,this,xn.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){!this.tickerAdded||(qe.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&n.pointerType!=="touch"){var s=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(e){e=e||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var s=this.cursorStyles[e];if(s)switch(typeof s){case"string":n&&(this.interactionDOMElement.style.cursor=s);break;case"function":s(e);break;case"object":n&&Object.assign(this.interactionDOMElement.style,s);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},r.prototype.dispatchEvent=function(e,n,s){(!s.stopPropagationHint||e===s.stopsPropagatingAt)&&(s.currentTarget=e,s.type=n,e.emit(n,s),e[n]&&e[n](s))},r.prototype.delayDispatchEvent=function(e,n,s){this.delayedEvents.push({displayObject:e,eventString:n,eventData:s})},r.prototype.mapPositionToPoint=function(e,n,s){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var h=1/this.resolution;e.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*h,e.y=(s-a.top)*(this.interactionDOMElement.height/a.height)*h},r.prototype.processInteractive=function(e,n,s,a){var h=this.search.findHit(e,n,s,a),f=this.delayedEvents;if(!f.length)return h;e.stopPropagationHint=!1;var l=f.length;this.delayedEvents=[];for(var d=0;d<l;d++){var p=f[d],v=p.displayObject,m=p.eventString,T=p.eventData;T.stopsPropagatingAt===v&&(T.stopPropagationHint=!0),this.dispatchEvent(v,m,T)}return h},r.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);if(this.autoPreventDefault&&n[0].isNormalized){var s=e.cancelable||!("cancelable"in e);s&&e.preventDefault()}for(var a=n.length,h=0;h<a;h++){var f=n[h],l=this.getInteractionDataForPointerId(f),d=this.configureInteractionEventForDOMEvent(this.eventData,f,l);if(d.data.originalEvent=e,this.processInteractive(d,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",d),f.pointerType==="touch")this.emit("touchstart",d);else if(f.pointerType==="mouse"||f.pointerType==="pen"){var p=f.button===2;this.emit(p?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(e,n,s){var a=e.data,h=e.data.identifier;if(s){if(n.trackedPointers[h]||(n.trackedPointers[h]=new Ia(h)),this.dispatchEvent(n,"pointerdown",e),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",e);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var f=a.button===2;f?n.trackedPointers[h].rightDown=!0:n.trackedPointers[h].leftDown=!0,this.dispatchEvent(n,f?"rightdown":"mousedown",e)}}},r.prototype.onPointerComplete=function(e,n,s){var a=this.normalizeToPointerData(e),h=a.length,f=e.target;e.composedPath&&e.composedPath().length>0&&(f=e.composedPath()[0]);for(var l=f!==this.interactionDOMElement?"outside":"",d=0;d<h;d++){var p=a[d],v=this.getInteractionDataForPointerId(p),m=this.configureInteractionEventForDOMEvent(this.eventData,p,v);if(m.data.originalEvent=e,this.processInteractive(m,this.lastObjectRendered,s,n||!l),this.emit(n?"pointercancel":"pointerup"+l,m),p.pointerType==="mouse"||p.pointerType==="pen"){var T=p.button===2;this.emit(T?"rightup"+l:"mouseup"+l,m)}else p.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+l,m),this.releaseInteractionDataForPointerId(p.pointerId))}},r.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(e,n){var s=e.data,a=e.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",e),s.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",e))},r.prototype.onPointerUp=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!1,this.processPointerUp)},r.prototype.processPointerUp=function(e,n,s){var a=e.data,h=e.data.identifier,f=n.trackedPointers[h],l=a.pointerType==="touch",d=a.pointerType==="mouse"||a.pointerType==="pen",p=!1;if(d){var v=a.button===2,m=Ia.FLAGS,T=v?m.RIGHT_DOWN:m.LEFT_DOWN,E=f!==void 0&&f.flags&T;s?(this.dispatchEvent(n,v?"rightup":"mouseup",e),E&&(this.dispatchEvent(n,v?"rightclick":"click",e),p=!0)):E&&this.dispatchEvent(n,v?"rightupoutside":"mouseupoutside",e),f&&(v?f.rightDown=!1:f.leftDown=!1)}s?(this.dispatchEvent(n,"pointerup",e),l&&this.dispatchEvent(n,"touchend",e),f&&((!d||p)&&this.dispatchEvent(n,"pointertap",e),l&&(this.dispatchEvent(n,"tap",e),f.over=!1))):f&&(this.dispatchEvent(n,"pointerupoutside",e),l&&this.dispatchEvent(n,"touchendoutside",e)),f&&f.none&&delete n.trackedPointers[h]},r.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var s=n.length,a=0;a<s;a++){var h=n[a],f=this.getInteractionDataForPointerId(h),l=this.configureInteractionEventForDOMEvent(this.eventData,h,f);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),h.pointerType==="touch"&&this.emit("touchmove",l),(h.pointerType==="mouse"||h.pointerType==="pen")&&this.emit("mousemove",l)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(e,n,s){var a=e.data,h=a.pointerType==="touch",f=a.pointerType==="mouse"||a.pointerType==="pen";f&&this.processPointerOverOut(e,n,s),(!this.moveWhenInside||s)&&(this.dispatchEvent(n,"pointermove",e),h&&this.dispatchEvent(n,"touchmove",e),f&&this.dispatchEvent(n,"mousemove",e))},r.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e),s=n[0];s.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(s),h=this.configureInteractionEventForDOMEvent(this.eventData,s,a);h.data.originalEvent=s,this.processInteractive(h,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",h),s.pointerType==="mouse"||s.pointerType==="pen"?this.emit("mouseout",h):this.releaseInteractionDataForPointerId(a.identifier)}},r.prototype.processPointerOverOut=function(e,n,s){var a=e.data,h=e.data.identifier,f=a.pointerType==="mouse"||a.pointerType==="pen",l=n.trackedPointers[h];s&&!l&&(l=n.trackedPointers[h]=new Ia(h)),l!==void 0&&(s&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(n,"pointerover",e),f&&this.delayDispatchEvent(n,"mouseover",e)),f&&this.cursor===null&&(this.cursor=n.cursor)):l.over&&(l.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),f&&this.dispatchEvent(n,"mouseout",e),l.none&&delete n.trackedPointers[h]))},r.prototype.onPointerOver=function(e){var n=this.normalizeToPointerData(e),s=n[0],a=this.getInteractionDataForPointerId(s),h=this.configureInteractionEventForDOMEvent(this.eventData,s,a);h.data.originalEvent=s,s.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",h),(s.pointerType==="mouse"||s.pointerType==="pen")&&this.emit("mouseover",h)},r.prototype.getInteractionDataForPointerId=function(e){var n=e.pointerId,s;return n===Ts||e.pointerType==="mouse"?s=this.mouse:this.activeInteractionData[n]?s=this.activeInteractionData[n]:(s=this.interactionDataPool.pop()||new id,s.identifier=n,this.activeInteractionData[n]=s),s.copyEvent(e),s},r.prototype.releaseInteractionDataForPointerId=function(e){var n=this.activeInteractionData[e];n&&(delete this.activeInteractionData[e],n.reset(),this.interactionDataPool.push(n))},r.prototype.configureInteractionEventForDOMEvent=function(e,n,s){return e.data=s,this.mapPositionToPoint(s.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=s.global.x,n.globalY=s.global.y),s.originalEvent=n,e.reset(),e},r.prototype.normalizeToPointerData=function(e){var n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var s=0,a=e.changedTouches.length;s<a;s++){var h=e.changedTouches[s];typeof h.button>"u"&&(h.button=e.touches.length?1:0),typeof h.buttons>"u"&&(h.buttons=e.touches.length?1:0),typeof h.isPrimary>"u"&&(h.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof h.width>"u"&&(h.width=h.radiusX||1),typeof h.height>"u"&&(h.height=h.radiusY||1),typeof h.tiltX>"u"&&(h.tiltX=0),typeof h.tiltY>"u"&&(h.tiltY=0),typeof h.pointerType>"u"&&(h.pointerType="touch"),typeof h.pointerId>"u"&&(h.pointerId=h.identifier||0),typeof h.pressure>"u"&&(h.pressure=h.force||.5),typeof h.twist>"u"&&(h.twist=0),typeof h.tangentialPressure>"u"&&(h.tangentialPressure=0),typeof h.layerX>"u"&&(h.layerX=h.offsetX=h.clientX),typeof h.layerY>"u"&&(h.layerY=h.offsetY=h.clientY),h.isNormalized=!0,n.push(h)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){var f=e;typeof f.isPrimary>"u"&&(f.isPrimary=!0),typeof f.width>"u"&&(f.width=1),typeof f.height>"u"&&(f.height=1),typeof f.tiltX>"u"&&(f.tiltX=0),typeof f.tiltY>"u"&&(f.tiltY=0),typeof f.pointerType>"u"&&(f.pointerType="mouse"),typeof f.pointerId>"u"&&(f.pointerId=Ts),typeof f.pressure>"u"&&(f.pressure=.5),typeof f.twist>"u"&&(f.twist=0),typeof f.tangentialPressure>"u"&&(f.tangentialPressure=0),f.isNormalized=!0,n.push(f)}else n.push(e);return n},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r.extension={name:"interaction",type:[Zt.RendererPlugin,Zt.CanvasRendererPlugin]},r}(hi);ze.add(Gd);ze.add(_R);ze.add(VT);const vR="/hot-map/assets/4-hov.04dd0320.svg",gR="/hot-map/assets/5-hov.4188b987.svg",mR="/hot-map/assets/1-hov.8bdc8872.svg";var Dd={exports:{}};(function(t){(function(r,e,n){function s(l){var d=this,p=f();d.next=function(){var v=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=v-(d.c=v|0)},d.c=1,d.s0=p(" "),d.s1=p(" "),d.s2=p(" "),d.s0-=p(l),d.s0<0&&(d.s0+=1),d.s1-=p(l),d.s1<0&&(d.s1+=1),d.s2-=p(l),d.s2<0&&(d.s2+=1),p=null}function a(l,d){return d.c=l.c,d.s0=l.s0,d.s1=l.s1,d.s2=l.s2,d}function h(l,d){var p=new s(l),v=d&&d.state,m=p.next;return m.int32=function(){return p.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,v&&(typeof v=="object"&&a(v,p),m.state=function(){return a(p,{})}),m}function f(){var l=4022871197,d=function(p){p=String(p);for(var v=0;v<p.length;v++){l+=p.charCodeAt(v);var m=.02519603282416938*l;l=m>>>0,m-=l,m*=l,l=m>>>0,m-=l,l+=m*4294967296}return(l>>>0)*23283064365386963e-26};return d}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.alea=h})(ce,t,!1)})(Dd);var Hd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this,d="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var v=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^v^v>>>8},f===(f|0)?l.x=f:d+=f;for(var p=0;p<d.length+64;p++)l.x^=d.charCodeAt(p)|0,l.next()}function a(f,l){return l.x=f.x,l.y=f.y,l.z=f.z,l.w=f.w,l}function h(f,l){var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(m+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(typeof p=="object"&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.xor128=h})(ce,t,!1)})(Hd);var kd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this,d="";l.next=function(){var v=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(v^v<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,f===(f|0)?l.x=f:d+=f;for(var p=0;p<d.length+64;p++)l.x^=d.charCodeAt(p)|0,p==d.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(f,l){return l.x=f.x,l.y=f.y,l.z=f.z,l.w=f.w,l.v=f.v,l.d=f.d,l}function h(f,l){var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(m+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(typeof p=="object"&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.xorwow=h})(ce,t,!1)})(kd);var Vd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this;l.next=function(){var p=l.x,v=l.i,m,T;return m=p[v],m^=m>>>7,T=m^m<<24,m=p[v+1&7],T^=m^m>>>10,m=p[v+3&7],T^=m^m>>>3,m=p[v+4&7],T^=m^m<<7,m=p[v+7&7],m=m^m<<13,T^=m^m<<9,p[v]=T,l.i=v+1&7,T};function d(p,v){var m,T=[];if(v===(v|0))T[0]=v;else for(v=""+v,m=0;m<v.length;++m)T[m&7]=T[m&7]<<15^v.charCodeAt(m)+T[m+1&7]<<13;for(;T.length<8;)T.push(0);for(m=0;m<8&&T[m]===0;++m);for(m==8?T[7]=-1:T[m],p.x=T,p.i=0,m=256;m>0;--m)p.next()}d(l,f)}function a(f,l){return l.x=f.x.slice(),l.i=f.i,l}function h(f,l){f==null&&(f=+new Date);var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(m+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(p.x&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.xorshift7=h})(ce,t,!1)})(Vd);var Wd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this;l.next=function(){var p=l.w,v=l.X,m=l.i,T,E;return l.w=p=p+1640531527|0,E=v[m+34&127],T=v[m=m+1&127],E^=E<<13,T^=T<<17,E^=E>>>15,T^=T>>>12,E=v[m]=E^T,l.i=m,E+(p^p>>>16)|0};function d(p,v){var m,T,E,w,R,A=[],F=128;for(v===(v|0)?(T=v,v=null):(v=v+"\0",T=0,F=Math.max(F,v.length)),E=0,w=-32;w<F;++w)v&&(T^=v.charCodeAt((w+32)%v.length)),w===0&&(R=T),T^=T<<10,T^=T>>>15,T^=T<<4,T^=T>>>13,w>=0&&(R=R+1640531527|0,m=A[w&127]^=T+R,E=m==0?E+1:0);for(E>=128&&(A[(v&&v.length||0)&127]=-1),E=127,w=4*128;w>0;--w)T=A[E+34&127],m=A[E=E+1&127],T^=T<<13,m^=m<<17,T^=T>>>15,m^=m>>>12,A[E]=T^m;p.w=R,p.X=A,p.i=E}d(l,f)}function a(f,l){return l.i=f.i,l.w=f.w,l.X=f.X.slice(),l}function h(f,l){f==null&&(f=+new Date);var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(m+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(p.X&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.xor4096=h})(ce,t,!1)})(Wd);var zd={exports:{}};(function(t){(function(r,e,n){function s(f){var l=this,d="";l.next=function(){var v=l.b,m=l.c,T=l.d,E=l.a;return v=v<<25^v>>>7^m,m=m-T|0,T=T<<24^T>>>8^E,E=E-v|0,l.b=v=v<<20^v>>>12^m,l.c=m=m-T|0,l.d=T<<16^m>>>16^E,l.a=E-v|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,f===Math.floor(f)?(l.a=f/4294967296|0,l.b=f|0):d+=f;for(var p=0;p<d.length+20;p++)l.b^=d.charCodeAt(p)|0,l.next()}function a(f,l){return l.a=f.a,l.b=f.b,l.c=f.c,l.d=f.d,l}function h(f,l){var d=new s(f),p=l&&l.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=d.next()>>>11,T=(d.next()>>>0)/4294967296,E=(m+T)/(1<<21);while(E===0);return E},v.int32=d.next,v.quick=v,p&&(typeof p=="object"&&a(p,d),v.state=function(){return a(d,{})}),v}e&&e.exports?e.exports=h:n&&n.amd?n(function(){return h}):this.tychei=h})(ce,t,!1)})(zd);var $d={exports:{}};const yR={},TR=Object.freeze(Object.defineProperty({__proto__:null,default:yR},Symbol.toStringTag,{value:"Module"})),ER=WT(TR);(function(t){(function(r,e,n){var s=256,a=6,h=52,f="random",l=n.pow(s,a),d=n.pow(2,h),p=d*2,v=s-1,m;function T(U,M,k){var Y=[];M=M==!0?{entropy:!0}:M||{};var z=A(R(M.entropy?[U,P(e)]:U==null?F():U,3),Y),tt=new E(Y),ft=function(){for(var dt=tt.g(a),Ot=l,gt=0;dt<d;)dt=(dt+gt)*s,Ot*=s,gt=tt.g(1);for(;dt>=p;)dt/=2,Ot/=2,gt>>>=1;return(dt+gt)/Ot};return ft.int32=function(){return tt.g(4)|0},ft.quick=function(){return tt.g(4)/4294967296},ft.double=ft,A(P(tt.S),e),(M.pass||k||function(dt,Ot,gt,bt){return bt&&(bt.S&&w(bt,tt),dt.state=function(){return w(tt,{})}),gt?(n[f]=dt,Ot):dt})(ft,z,"global"in M?M.global:this==n,M.state)}function E(U){var M,k=U.length,Y=this,z=0,tt=Y.i=Y.j=0,ft=Y.S=[];for(k||(U=[k++]);z<s;)ft[z]=z++;for(z=0;z<s;z++)ft[z]=ft[tt=v&tt+U[z%k]+(M=ft[z])],ft[tt]=M;(Y.g=function(dt){for(var Ot,gt=0,bt=Y.i,kt=Y.j,Ft=Y.S;dt--;)Ot=Ft[bt=v&bt+1],gt=gt*s+Ft[v&(Ft[bt]=Ft[kt=v&kt+Ot])+(Ft[kt]=Ot)];return Y.i=bt,Y.j=kt,gt})(s)}function w(U,M){return M.i=U.i,M.j=U.j,M.S=U.S.slice(),M}function R(U,M){var k=[],Y=typeof U,z;if(M&&Y=="object")for(z in U)try{k.push(R(U[z],M-1))}catch{}return k.length?k:Y=="string"?U:U+"\0"}function A(U,M){for(var k=U+"",Y,z=0;z<k.length;)M[v&z]=v&(Y^=M[v&z]*19)+k.charCodeAt(z++);return P(M)}function F(){try{var U;return m&&(U=m.randomBytes)?U=U(s):(U=new Uint8Array(s),(r.crypto||r.msCrypto).getRandomValues(U)),P(U)}catch{var M=r.navigator,k=M&&M.plugins;return[+new Date,r,k,r.screen,P(e)]}}function P(U){return String.fromCharCode.apply(0,U)}if(A(n.random(),e),t.exports){t.exports=T;try{m=ER}catch{}}else n["seed"+f]=T})(typeof self<"u"?self:ce,[],Math)})($d);var xR=Dd.exports,RR=Hd.exports,IR=kd.exports,bR=Vd.exports,CR=Wd.exports,wR=zd.exports,Jr=$d.exports;Jr.alea=xR;Jr.xor128=RR;Jr.xorwow=IR;Jr.xorshift7=bR;Jr.xor4096=CR;Jr.tychei=wR;var AR=Jr;let NR=AR();function Yd(){return NR()}function li(t,r){const e=Array.isArray(t)?()=>jd(t):t;return(r==null?void 0:r.length)===void 0?e(0):Array.from({length:r.length},(n,s)=>e(s))}function jd(t){return t[Math.floor(Yd()*t.length)]}function qd({min:t=1,max:r=9999.99,fraction:e=0}={}){return Number((Yd()*(r-t)+t).toFixed(e))}const PR="abcdefghijklmnopqrstuvwxyz";function sd(t){return li(PR.split(""),t)}function od(t){return t===null||typeof t>"u"}function UR(t){const r={min:od(t==null?void 0:t.min)?0:t.min,max:od(t==null?void 0:t.max)?999999:t.max,precision:t==null?void 0:t.precision,fraction:t==null?void 0:t.fraction};return li(()=>{if(r.min===r.max)return r.min;const e=qd(r);return r.precision!==void 0?Math.floor(e/r.precision)*r.precision:e},t)}var OR=["est","voluptatem","non","aut","aliquid","quaerat","quos","vel","tenetur","consectetur","ipsum","voluptate","numquam","nulla","asperiores","in","laborum","quas","et","ullam","consequuntur","enim","dicta","quia","facilis","voluptatibus","at","hic","sunt","excepturi","maiores","vitae","fugit","possimus","unde","repellat","sit","necessitatibus","nemo","qui","exercitationem","dolores","esse","reiciendis","nihil","commodi","id","sequi","consequatur","occaecati","deserunt","quae","eos","sapiente","fugiat","neque","quasi","nostrum","magnam","sed","omnis","doloribus","error","ducimus","rerum","beatae","cupiditate","blanditiis","labore"];function LR(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ad(t){return li(()=>{let e=jd(OR);return t!=null&&t.capitalize&&(e=LR(e)),e},t)}var GR={china:["Peking roasted duck","Kung pao chicken","Sweet and sour pork","Hot pot","Dim sum","Dumplings","Ma po tofu","Char siu","Chicken chow mein","Beef chow mein","vegetable chow mein","Chicken fried rice","Beef fried rice","Vegetable fried Rice","Special fried Rice","Sichuan pork","Xiaolongbao","Zhajiangmian","Wonton soup","Sweet and sour pork","Duck spring Rolls","Vegetable spring Rolls","Wonton","Peking duck","Lamb hot pot","Spicy crayfish","Guilin rice noodles","Lanzhou hand-pulled noodles","Steamed crab","Shredded pork with garlic sauce","Red braised pork","Sweet and sour Ribs","Xinjiang","Braised pork with vermicelli"],italy:["Butternut squash risotto","Mushroom risotto","Beetroot risotto","Courgette risotto","Pizza","Gnocchi","Spaghetti bolognese","Spaghetti carbonara","Pesto alla Genovese","Beef lasagne","Vegetable lasagne","Gelato","Prosciutto di Parma","Ribollita","Bagna cauda","Polenta","Tortelli and ravioli","Focaccia","Garlic bread","Arancini","Il tartufo","Panzerotto fritto","Fiorentina","Minestrone","Frico","Arrosticini","Olive ascolante","Fritto misto piemontes","Tiramis\xF9"],india:["Biryani","Dosa","Tandoori chicken","Samosas","Chaat","Plain naan","Garlic naan","Pilau rice","Steamed rice","Chicken madras","Vegetable madras","Chicken vindaloo","Chicken jalfrezi","Chicken roghan josh","Lamb roghan josh","Beef roghan josh","Butter chicken","Dosa","Gulab jamun","Chicken korma","Mutter paneer","Papadum","Paratha","Raita","Saag paneer","Tandoori chicken","Chicken tikka masala","Pakora","Dal","Chapati","Pasanda","Aloo gobi","Kofta","Chicken makhani","Paneer naan","Chana Aloo Curry"],mexico:["Chilaquiles","Pozole","Tacos al pastor","Tostadas","Chiles en nogada","Elote","Enchiladas","Mole","Guacamole","Tamales","Huevos rancheros","Machaca","Discada","Beef Burrito","Chicken Burrito","Pozole de pollo o duajolote","Menudo","Cochinita pibil","Tamale","Quesadilla","Frijoles puercos","Chile en nogada","Esquites","Alegria de amaranto","Pipi\xE1n","Aguachile","Ceviche","Pescado zarandeado","Camarones a la diabla","Birria de chivo","Tlayuda","Guacamole con chapulines","Flautas","Torta Ahogada","Carnitas","Caldo Azteca","Gorditas de Nata"],japan:["Sushi","Udon","Tofu","Tempura","Yakitori","Sashimi","Ramen","Donburi","Natto","Oden","Tamagoyaki","Soba","Tonkatsu","Kashipan","Sukiyaki","Miso soup","Okonomiyaki","Mentaiko","Nikujaga","Unagi no kabayaki","Shabu Shabu","Onigiri","Gyoza","Takoyaki","aiseki ryori","Edamame","Yakisoba","Chawanmushi","Wagashi"],france:["Foie gras","Hu\xEEtres","Cassoulet","Poulet basquaise","Escargots au beurre persill\xE9","Mouclade charentaise","Galettes bretonnes","Flemish carbonnade","Quiche lorraine","Raclette","Cheese fondue","Beef fondue","Gratin dauphinois","Tartiflette","Bouillabaisse","Ratatouille","Boeuf bourguignon","Blanquette de veau","Pot-au-feu","Coq-au-vin","Hachis parmentier","Steak tartare","Choucroute","Souffl\xE9 au fromage","Cuisses de grenouilles","Soupe \xE0 l\u2019oignon","Baguette","Croissant","French cheeses","Fondant au chocolat","Tarte tatin","Macarons","Cr\xE8me br\xFBl\xE9e","\xCEle flottante","Profiteroles","Pain au chocolat"],lebanon:["Kibbeh","Kafta","Kanafeh","Hummus","Rice pilaf","Fattoush","Manakish","Tabbouleh","Sfeeha","Fattoush","Labneh","Muhammara","Lahm bi ajin","Kaak","Chanklich","Mssabaha","Shawarma","Kebbe","Falafel","Halewit el jeben","Namoura","Maamoul","Foul mdammas","Balila","Kawarma","Fattouch"],thailand:["Pad kra pao moo","Tom kha gai","Khao Pad","Chicken pad Thai","Vegetable pad Thai","Moo satay","Tom yum goong","Khao niew mamuang","Kai yad sai","Khao soi","Pad see ew","Laab moo","Gaeng panang","Gai pad med ma muang","Som tam","Poh pia tod","Gaeng massaman","Pla kapung nueng manao","Tod mun pla","Gaeng ped","Gaeng garee","Gaeng keow wan","Moo ping","Durian","Sai ooah","Hoy tod","Kuay teow reua","Mu kratha","Kao ka moo","Yam nua"],greece:["Moussaka","Papoutsakia","Pastitsio","Souvlaki","Soutzoukakia","Stifado","Tomatokeftedes","Tzatziki","Kolokithokeftedes","Giouvetsi","Choriatiki","Kleftiko","Gemista","Fasolada","Bougatsa","Tiropita","Spanakopita","Feta Cheese with Honey","Horta","Tirokroketes","Briam","Saganaki","Gigantes","Dolmades","Fasolatha","Koulouri","Loukoumades","Gyros","Galaktoboureko","Baklava"],turkey:["\u015Ei\u015F kebap","D\xF6ner","K\xF6fte","Pide","Kumpir","Meze","Mant\u0131","Lahmacun","Menemen","\u015Ei\u015F kebap","\u0130skender kebab","Corba","Kuzu tandir","\xC7i\u011F K\xF6fte","Pilav","Yaprak sarma","Dolma","\u0130mam bay\u0131ld\u0131","Borek","Durum","Kumpir","Balik ekmek","Simit","Kunefe","Baklava","Lokum","Halva","Mozzaik pasta","G\xFClla\xE7","Mercimek K\xF6ftesi","Haydari","Tursu suyu","Kahvalti","Kazan dibi","Hunkar begendi","Islak burgers","Salep","Yogurtlu kebab"],spain:["Tortilla de patatas","Fabada asturiana","Cal\xE7ots","Boquerones al vinagre","Empanada gallega","Paella","Gazpacho","Gachas","Migas","Bocadillo de calamares","Pulpo a feira","Caldo gallego","Lentejas con chorizo","Cocido madrile\xF1o","Cachopo","Caracoles"],venezuela:["Pabell\xF3n criollo","Arepa","Mondongo","Empanadas","Quesillo","Chicha andina","Teque\xF1os","Cachapa","Hallaca","Perico","Pasticho","Mandocas","Caraotas negras","Patacones","Dulce de leche","Pan de Jam\xF3n"],chile:["Humitas","Empanadas","Porotos con riendas","Completos","Manjar","Cordero al palo","Pastel de choclo","Mote con huesillos","Sopaipillas","Curanto"],argentina:["Milanesas","Empanadas","Pizza fugazeta","Asado","Choripan","Bondiola","Bife de chorizo"],colombia:["Bandeja paisa","Chuleta valluna","Sancocho trif\xE1sico","Empanada valluna","Salpicon de frutas","Pastel de garbanzo","Ajiaco","Arepas","Arroz de lisa","Sancocho","Pan de bono","Cuchuco","Oblea","Cazuela de mariscos","Pan de yuca","Bollo Limpio","Almoj\xE1bana","Empanadas","Arroz con Coco","Sopa de mondongo","Cazuela de Mariscos","Arroz con Pollo","Arepa de Huevo","Mote de Queso"],ecuador:["Encebollado","Ceviche","Tigrillo","Bolon de verde","Llapingacho","Mote pillo","Locro de papa","Churrasco"],peru:["Ceviche","Arroz con pollo","Aji de gallina","Llunca de gallina"],"el salvador":["Pupusa","Sopa de patas","Rigua","Flor de izote con huevo","Gallo en chicha"],romania:["Sarmale","Mici","Pomana porcului","Ciorb\u0103 de fasole cu ciolan","Ciorb\u0103 de burt\u0103","Ciorb\u0103 r\u0103d\u0103u\u021Bean\u0103","Pl\u0103cint\u0103 cu br\xE2nz\u0103","Ciorb\u0103 de potroace","M\u0103m\u0103lig\u0103 cu br\xE2nz\u0103 \u0219i sm\xE2nt\xE2n\u0103","Tochitur\u0103","Piftie","Iahnie de fasole","Sl\u0103nin\u0103 afumat\u0103","C\xE2rna\u021Bi afuma\u021Bi","Varz\u0103 a la Cluj","Gula\u0219 de cartofi cu afum\u0103tur\u0103","Cozonac de cas\u0103","Ciorb\u0103 ardeleneasc\u0103 de porc","Mucenici moldovene\u0219ti","Salat\u0103 de boeuf","Dovleac copt","Papana\u0219i cu br\xE2nz\u0103 de vac\u0103 \u0219i afine","Drob de miel","P\xE2rjoale moldovene\u0219ti","Zacusc\u0103 de vinete","Zacusc\u0103 de fasole","Turt\u0103 dulce","Cl\u0103titele cu gem","Cl\u0103titele cu br\xE2nza de vac\u0103","Balmo\u0219","Cozonac","Chiftele"]},ud;(ud=Object.keys(GR))==null||ud.length;const Zd=50;function SR(t){const r=qd({min:1,max:10,fraction:0});return r===1||t===Zd?".":r===2?",":""}function hd(t){return li(()=>{let e=ad({capitalize:!0}),n=1;for(;n<Zd;){const s=ad();let a="";if(n++,n>3&&(a=SR(n)),e+=` ${s}${a}`,a===".")break}return e},t)}function FR(t){var r;const e=(r=t==null?void 0:t.charCount)!=null?r:10;if(e<1||isNaN(e))throw"Character count must be greater than 0";return li(()=>{let s=hd();if(e===1)return sd();for(;s.length<e;)s+=` ${hd()}`;return s=s.substring(0,e-2),s+=`${sd()}.`,s},t)}var BR={olympic:["Archery","Artistic Gymnastics","Artistic Swimming","Athletics","Badminton","Baseball Softball","Basketball","Beach Volleyball","BMX Freestyle","BMX Racing","Boxing","Kayak Flatwater","Kayak Slalom","Diving","Equestrian","Fencing","Football","Golf","Handball","Hockey","Judo","Karate","Marathon Swimming","Modern Pentathlon","Mountain Bike","Rhythmic Gymnastics","Road Cycling","Rowing","Rugby","Sailing","Shooting","Skateboarding","Sport Climbing","Surfing","Swimming","Table Tennis","Taekwondo","Tennis","Track Cycling","Trampoline","Triathlon","Volleyball","Water Polo","Weightlifting","Wrestling"],winterOlympic:["Alpine Skiing","Biathlon","Bobsleigh","Cross-Country Skiing","Curling","Figure Skating","Freestyle Skiing","Ice Hockey","Luge","Nordic Combined","Short Track Speed Skating","Skeleton","Ski Jumping","Snowboard","Speed Skating"],outdoor:["Archery","Athletics","Badminton","Baseball","Basketball","Bowling","Boxing","Camping","Canoeing","Climbing","Cricket","Curling","Cycling","Equestrian","Fencing","Football","Golf","Gymnastics","Handball","Hang Gliding","High Jumping","Hockey","Ice Hockey","Judo","Karate","Kite Flying","Monkey Bars","Motorsports","Netball","Rowing","Rugby","Running","Sailing","Skateboarding","Slide","Snow Skiing","Soccer","Street Hockey","Surfing","Swimming","Table Tennis","Tennis","Trekking","Triathlon","Volleyball","Weightlifting","Wrestling"]},fd;(fd=Object.keys(BR))==null||fd.length;var ou={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,r){(function(){var e,n="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",v=1,m=2,T=4,E=1,w=2,R=1,A=2,F=4,P=8,U=16,M=32,k=64,Y=128,z=256,tt=512,ft=30,dt="...",Ot=800,gt=16,bt=1,kt=2,Ft=3,Yt=1/0,ie=9007199254740991,jt=17976931348623157e292,L=0/0,X=4294967295,W=X-1,J=X>>>1,et=[["ary",Y],["bind",R],["bindKey",A],["curry",P],["curryRight",U],["flip",tt],["partial",M],["partialRight",k],["rearg",z]],lt="[object Arguments]",ot="[object Array]",Et="[object AsyncFunction]",xt="[object Boolean]",wt="[object Date]",Vt="[object DOMException]",ct="[object Error]",yt="[object Function]",Nt="[object GeneratorFunction]",Rt="[object Map]",Wt="[object Number]",tr="[object Null]",er="[object Object]",du="[object Promise]",Kd="[object Proxy]",Rn="[object RegExp]",Fe="[object Set]",In="[object String]",ci="[object Symbol]",Jd="[object Undefined]",bn="[object WeakMap]",Qd="[object WeakSet]",Cn="[object ArrayBuffer]",Qr="[object DataView]",Ls="[object Float32Array]",Gs="[object Float64Array]",Ss="[object Int8Array]",Fs="[object Int16Array]",Bs="[object Int32Array]",Ms="[object Uint8Array]",Xs="[object Uint8ClampedArray]",Ds="[object Uint16Array]",Hs="[object Uint32Array]",tp=/\b__p \+= '';/g,ep=/\b(__p \+=) '' \+/g,rp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pu=/&(?:amp|lt|gt|quot|#39);/g,_u=/[&<>"']/g,np=RegExp(pu.source),ip=RegExp(_u.source),sp=/<%-([\s\S]+?)%>/g,op=/<%([\s\S]+?)%>/g,vu=/<%=([\s\S]+?)%>/g,ap=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,up=/^\w*$/,hp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ks=/[\\^$.*+?()[\]{}|]/g,fp=RegExp(ks.source),Vs=/^\s+/,lp=/\s/,cp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dp=/\{\n\/\* \[wrapped with (.+)\] \*/,pp=/,? & /,_p=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vp=/[()=,{}\[\]\/\s]/,gp=/\\(\\)?/g,mp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gu=/\w*$/,yp=/^[-+]0x[0-9a-f]+$/i,Tp=/^0b[01]+$/i,Ep=/^\[object .+?Constructor\]$/,xp=/^0o[0-7]+$/i,Rp=/^(?:0|[1-9]\d*)$/,Ip=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,di=/($^)/,bp=/['\n\r\u2028\u2029\\]/g,pi="\\ud800-\\udfff",Cp="\\u0300-\\u036f",wp="\\ufe20-\\ufe2f",Ap="\\u20d0-\\u20ff",mu=Cp+wp+Ap,yu="\\u2700-\\u27bf",Tu="a-z\\xdf-\\xf6\\xf8-\\xff",Np="\\xac\\xb1\\xd7\\xf7",Pp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Up="\\u2000-\\u206f",Op=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eu="A-Z\\xc0-\\xd6\\xd8-\\xde",xu="\\ufe0e\\ufe0f",Ru=Np+Pp+Up+Op,Ws="['\u2019]",Lp="["+pi+"]",Iu="["+Ru+"]",_i="["+mu+"]",bu="\\d+",Gp="["+yu+"]",Cu="["+Tu+"]",wu="[^"+pi+Ru+bu+yu+Tu+Eu+"]",zs="\\ud83c[\\udffb-\\udfff]",Sp="(?:"+_i+"|"+zs+")",Au="[^"+pi+"]",$s="(?:\\ud83c[\\udde6-\\uddff]){2}",Ys="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+Eu+"]",Nu="\\u200d",Pu="(?:"+Cu+"|"+wu+")",Fp="(?:"+tn+"|"+wu+")",Uu="(?:"+Ws+"(?:d|ll|m|re|s|t|ve))?",Ou="(?:"+Ws+"(?:D|LL|M|RE|S|T|VE))?",Lu=Sp+"?",Gu="["+xu+"]?",Bp="(?:"+Nu+"(?:"+[Au,$s,Ys].join("|")+")"+Gu+Lu+")*",Mp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Su=Gu+Lu+Bp,Dp="(?:"+[Gp,$s,Ys].join("|")+")"+Su,Hp="(?:"+[Au+_i+"?",_i,$s,Ys,Lp].join("|")+")",kp=RegExp(Ws,"g"),Vp=RegExp(_i,"g"),js=RegExp(zs+"(?="+zs+")|"+Hp+Su,"g"),Wp=RegExp([tn+"?"+Cu+"+"+Uu+"(?="+[Iu,tn,"$"].join("|")+")",Fp+"+"+Ou+"(?="+[Iu,tn+Pu,"$"].join("|")+")",tn+"?"+Pu+"+"+Uu,tn+"+"+Ou,Xp,Mp,bu,Dp].join("|"),"g"),zp=RegExp("["+Nu+pi+mu+xu+"]"),$p=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jp=-1,Lt={};Lt[Ls]=Lt[Gs]=Lt[Ss]=Lt[Fs]=Lt[Bs]=Lt[Ms]=Lt[Xs]=Lt[Ds]=Lt[Hs]=!0,Lt[lt]=Lt[ot]=Lt[Cn]=Lt[xt]=Lt[Qr]=Lt[wt]=Lt[ct]=Lt[yt]=Lt[Rt]=Lt[Wt]=Lt[er]=Lt[Rn]=Lt[Fe]=Lt[In]=Lt[bn]=!1;var Pt={};Pt[lt]=Pt[ot]=Pt[Cn]=Pt[Qr]=Pt[xt]=Pt[wt]=Pt[Ls]=Pt[Gs]=Pt[Ss]=Pt[Fs]=Pt[Bs]=Pt[Rt]=Pt[Wt]=Pt[er]=Pt[Rn]=Pt[Fe]=Pt[In]=Pt[ci]=Pt[Ms]=Pt[Xs]=Pt[Ds]=Pt[Hs]=!0,Pt[ct]=Pt[yt]=Pt[bn]=!1;var qp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Zp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qp=parseFloat,t_=parseInt,Fu=typeof ce=="object"&&ce&&ce.Object===Object&&ce,e_=typeof self=="object"&&self&&self.Object===Object&&self,re=Fu||e_||Function("return this")(),qs=r&&!r.nodeType&&r,Lr=qs&&!0&&t&&!t.nodeType&&t,Bu=Lr&&Lr.exports===qs,Zs=Bu&&Fu.process,Ae=function(){try{var b=Lr&&Lr.require&&Lr.require("util").types;return b||Zs&&Zs.binding&&Zs.binding("util")}catch{}}(),Mu=Ae&&Ae.isArrayBuffer,Xu=Ae&&Ae.isDate,Du=Ae&&Ae.isMap,Hu=Ae&&Ae.isRegExp,ku=Ae&&Ae.isSet,Vu=Ae&&Ae.isTypedArray;function Te(b,O,N){switch(N.length){case 0:return b.call(O);case 1:return b.call(O,N[0]);case 2:return b.call(O,N[0],N[1]);case 3:return b.call(O,N[0],N[1],N[2])}return b.apply(O,N)}function r_(b,O,N,V){for(var nt=-1,mt=b==null?0:b.length;++nt<mt;){var Kt=b[nt];O(V,Kt,N(Kt),b)}return V}function Ne(b,O){for(var N=-1,V=b==null?0:b.length;++N<V&&O(b[N],N,b)!==!1;);return b}function n_(b,O){for(var N=b==null?0:b.length;N--&&O(b[N],N,b)!==!1;);return b}function Wu(b,O){for(var N=-1,V=b==null?0:b.length;++N<V;)if(!O(b[N],N,b))return!1;return!0}function yr(b,O){for(var N=-1,V=b==null?0:b.length,nt=0,mt=[];++N<V;){var Kt=b[N];O(Kt,N,b)&&(mt[nt++]=Kt)}return mt}function vi(b,O){var N=b==null?0:b.length;return!!N&&en(b,O,0)>-1}function Ks(b,O,N){for(var V=-1,nt=b==null?0:b.length;++V<nt;)if(N(O,b[V]))return!0;return!1}function St(b,O){for(var N=-1,V=b==null?0:b.length,nt=Array(V);++N<V;)nt[N]=O(b[N],N,b);return nt}function Tr(b,O){for(var N=-1,V=O.length,nt=b.length;++N<V;)b[nt+N]=O[N];return b}function Js(b,O,N,V){var nt=-1,mt=b==null?0:b.length;for(V&&mt&&(N=b[++nt]);++nt<mt;)N=O(N,b[nt],nt,b);return N}function i_(b,O,N,V){var nt=b==null?0:b.length;for(V&&nt&&(N=b[--nt]);nt--;)N=O(N,b[nt],nt,b);return N}function Qs(b,O){for(var N=-1,V=b==null?0:b.length;++N<V;)if(O(b[N],N,b))return!0;return!1}var s_=to("length");function o_(b){return b.split("")}function a_(b){return b.match(_p)||[]}function zu(b,O,N){var V;return N(b,function(nt,mt,Kt){if(O(nt,mt,Kt))return V=mt,!1}),V}function gi(b,O,N,V){for(var nt=b.length,mt=N+(V?1:-1);V?mt--:++mt<nt;)if(O(b[mt],mt,b))return mt;return-1}function en(b,O,N){return O===O?y_(b,O,N):gi(b,$u,N)}function u_(b,O,N,V){for(var nt=N-1,mt=b.length;++nt<mt;)if(V(b[nt],O))return nt;return-1}function $u(b){return b!==b}function Yu(b,O){var N=b==null?0:b.length;return N?ro(b,O)/N:L}function to(b){return function(O){return O==null?e:O[b]}}function eo(b){return function(O){return b==null?e:b[O]}}function ju(b,O,N,V,nt){return nt(b,function(mt,Kt,At){N=V?(V=!1,mt):O(N,mt,Kt,At)}),N}function h_(b,O){var N=b.length;for(b.sort(O);N--;)b[N]=b[N].value;return b}function ro(b,O){for(var N,V=-1,nt=b.length;++V<nt;){var mt=O(b[V]);mt!==e&&(N=N===e?mt:N+mt)}return N}function no(b,O){for(var N=-1,V=Array(b);++N<b;)V[N]=O(N);return V}function f_(b,O){return St(O,function(N){return[N,b[N]]})}function qu(b){return b&&b.slice(0,Qu(b)+1).replace(Vs,"")}function Ee(b){return function(O){return b(O)}}function io(b,O){return St(O,function(N){return b[N]})}function wn(b,O){return b.has(O)}function Zu(b,O){for(var N=-1,V=b.length;++N<V&&en(O,b[N],0)>-1;);return N}function Ku(b,O){for(var N=b.length;N--&&en(O,b[N],0)>-1;);return N}function l_(b,O){for(var N=b.length,V=0;N--;)b[N]===O&&++V;return V}var c_=eo(qp),d_=eo(Zp);function p_(b){return"\\"+Jp[b]}function __(b,O){return b==null?e:b[O]}function rn(b){return zp.test(b)}function v_(b){return $p.test(b)}function g_(b){for(var O,N=[];!(O=b.next()).done;)N.push(O.value);return N}function so(b){var O=-1,N=Array(b.size);return b.forEach(function(V,nt){N[++O]=[nt,V]}),N}function Ju(b,O){return function(N){return b(O(N))}}function Er(b,O){for(var N=-1,V=b.length,nt=0,mt=[];++N<V;){var Kt=b[N];(Kt===O||Kt===p)&&(b[N]=p,mt[nt++]=N)}return mt}function mi(b){var O=-1,N=Array(b.size);return b.forEach(function(V){N[++O]=V}),N}function m_(b){var O=-1,N=Array(b.size);return b.forEach(function(V){N[++O]=[V,V]}),N}function y_(b,O,N){for(var V=N-1,nt=b.length;++V<nt;)if(b[V]===O)return V;return-1}function T_(b,O,N){for(var V=N+1;V--;)if(b[V]===O)return V;return V}function nn(b){return rn(b)?x_(b):s_(b)}function Be(b){return rn(b)?R_(b):o_(b)}function Qu(b){for(var O=b.length;O--&&lp.test(b.charAt(O)););return O}var E_=eo(Kp);function x_(b){for(var O=js.lastIndex=0;js.test(b);)++O;return O}function R_(b){return b.match(js)||[]}function I_(b){return b.match(Wp)||[]}var b_=function b(O){O=O==null?re:sn.defaults(re.Object(),O,sn.pick(re,Yp));var N=O.Array,V=O.Date,nt=O.Error,mt=O.Function,Kt=O.Math,At=O.Object,oo=O.RegExp,C_=O.String,Pe=O.TypeError,yi=N.prototype,w_=mt.prototype,on=At.prototype,Ti=O["__core-js_shared__"],Ei=w_.toString,It=on.hasOwnProperty,A_=0,th=function(){var i=/[^.]+$/.exec(Ti&&Ti.keys&&Ti.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),xi=on.toString,N_=Ei.call(At),P_=re._,U_=oo("^"+Ei.call(It).replace(ks,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ri=Bu?O.Buffer:e,xr=O.Symbol,Ii=O.Uint8Array,eh=Ri?Ri.allocUnsafe:e,bi=Ju(At.getPrototypeOf,At),rh=At.create,nh=on.propertyIsEnumerable,Ci=yi.splice,ih=xr?xr.isConcatSpreadable:e,An=xr?xr.iterator:e,Gr=xr?xr.toStringTag:e,wi=function(){try{var i=Xr(At,"defineProperty");return i({},"",{}),i}catch{}}(),O_=O.clearTimeout!==re.clearTimeout&&O.clearTimeout,L_=V&&V.now!==re.Date.now&&V.now,G_=O.setTimeout!==re.setTimeout&&O.setTimeout,Ai=Kt.ceil,Ni=Kt.floor,ao=At.getOwnPropertySymbols,S_=Ri?Ri.isBuffer:e,sh=O.isFinite,F_=yi.join,B_=Ju(At.keys,At),Jt=Kt.max,se=Kt.min,M_=V.now,X_=O.parseInt,oh=Kt.random,D_=yi.reverse,uo=Xr(O,"DataView"),Nn=Xr(O,"Map"),ho=Xr(O,"Promise"),an=Xr(O,"Set"),Pn=Xr(O,"WeakMap"),Un=Xr(At,"create"),Pi=Pn&&new Pn,un={},H_=Dr(uo),k_=Dr(Nn),V_=Dr(ho),W_=Dr(an),z_=Dr(Pn),Ui=xr?xr.prototype:e,On=Ui?Ui.valueOf:e,ah=Ui?Ui.toString:e;function g(i){if(Dt(i)&&!it(i)&&!(i instanceof _t)){if(i instanceof Ue)return i;if(It.call(i,"__wrapped__"))return hf(i)}return new Ue(i)}var hn=function(){function i(){}return function(o){if(!Bt(o))return{};if(rh)return rh(o);i.prototype=o;var u=new i;return i.prototype=e,u}}();function Oi(){}function Ue(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}g.templateSettings={escape:sp,evaluate:op,interpolate:vu,variable:"",imports:{_:g}},g.prototype=Oi.prototype,g.prototype.constructor=g,Ue.prototype=hn(Oi.prototype),Ue.prototype.constructor=Ue;function _t(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function $_(){var i=new _t(this.__wrapped__);return i.__actions__=_e(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=_e(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=_e(this.__views__),i}function Y_(){if(this.__filtered__){var i=new _t(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function j_(){var i=this.__wrapped__.value(),o=this.__dir__,u=it(i),c=o<0,_=u?i.length:0,y=og(0,_,this.__views__),x=y.start,I=y.end,C=I-x,G=c?I:x-1,S=this.__iteratees__,B=S.length,H=0,$=se(C,this.__takeCount__);if(!u||!c&&_==C&&$==C)return Uh(i,this.__actions__);var Z=[];t:for(;C--&&H<$;){G+=o;for(var at=-1,K=i[G];++at<B;){var pt=S[at],vt=pt.iteratee,Ie=pt.type,le=vt(K);if(Ie==kt)K=le;else if(!le){if(Ie==bt)continue t;break t}}Z[H++]=K}return Z}_t.prototype=hn(Oi.prototype),_t.prototype.constructor=_t;function Sr(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var c=i[o];this.set(c[0],c[1])}}function q_(){this.__data__=Un?Un(null):{},this.size=0}function Z_(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function K_(i){var o=this.__data__;if(Un){var u=o[i];return u===l?e:u}return It.call(o,i)?o[i]:e}function J_(i){var o=this.__data__;return Un?o[i]!==e:It.call(o,i)}function Q_(i,o){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=Un&&o===e?l:o,this}Sr.prototype.clear=q_,Sr.prototype.delete=Z_,Sr.prototype.get=K_,Sr.prototype.has=J_,Sr.prototype.set=Q_;function rr(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var c=i[o];this.set(c[0],c[1])}}function tv(){this.__data__=[],this.size=0}function ev(i){var o=this.__data__,u=Li(o,i);if(u<0)return!1;var c=o.length-1;return u==c?o.pop():Ci.call(o,u,1),--this.size,!0}function rv(i){var o=this.__data__,u=Li(o,i);return u<0?e:o[u][1]}function nv(i){return Li(this.__data__,i)>-1}function iv(i,o){var u=this.__data__,c=Li(u,i);return c<0?(++this.size,u.push([i,o])):u[c][1]=o,this}rr.prototype.clear=tv,rr.prototype.delete=ev,rr.prototype.get=rv,rr.prototype.has=nv,rr.prototype.set=iv;function nr(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var c=i[o];this.set(c[0],c[1])}}function sv(){this.size=0,this.__data__={hash:new Sr,map:new(Nn||rr),string:new Sr}}function ov(i){var o=zi(this,i).delete(i);return this.size-=o?1:0,o}function av(i){return zi(this,i).get(i)}function uv(i){return zi(this,i).has(i)}function hv(i,o){var u=zi(this,i),c=u.size;return u.set(i,o),this.size+=u.size==c?0:1,this}nr.prototype.clear=sv,nr.prototype.delete=ov,nr.prototype.get=av,nr.prototype.has=uv,nr.prototype.set=hv;function Fr(i){var o=-1,u=i==null?0:i.length;for(this.__data__=new nr;++o<u;)this.add(i[o])}function fv(i){return this.__data__.set(i,l),this}function lv(i){return this.__data__.has(i)}Fr.prototype.add=Fr.prototype.push=fv,Fr.prototype.has=lv;function Me(i){var o=this.__data__=new rr(i);this.size=o.size}function cv(){this.__data__=new rr,this.size=0}function dv(i){var o=this.__data__,u=o.delete(i);return this.size=o.size,u}function pv(i){return this.__data__.get(i)}function _v(i){return this.__data__.has(i)}function vv(i,o){var u=this.__data__;if(u instanceof rr){var c=u.__data__;if(!Nn||c.length<s-1)return c.push([i,o]),this.size=++u.size,this;u=this.__data__=new nr(c)}return u.set(i,o),this.size=u.size,this}Me.prototype.clear=cv,Me.prototype.delete=dv,Me.prototype.get=pv,Me.prototype.has=_v,Me.prototype.set=vv;function uh(i,o){var u=it(i),c=!u&&Hr(i),_=!u&&!c&&wr(i),y=!u&&!c&&!_&&dn(i),x=u||c||_||y,I=x?no(i.length,C_):[],C=I.length;for(var G in i)(o||It.call(i,G))&&!(x&&(G=="length"||_&&(G=="offset"||G=="parent")||y&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||ar(G,C)))&&I.push(G);return I}function hh(i){var o=i.length;return o?i[Eo(0,o-1)]:e}function gv(i,o){return $i(_e(i),Br(o,0,i.length))}function mv(i){return $i(_e(i))}function fo(i,o,u){(u!==e&&!Xe(i[o],u)||u===e&&!(o in i))&&ir(i,o,u)}function Ln(i,o,u){var c=i[o];(!(It.call(i,o)&&Xe(c,u))||u===e&&!(o in i))&&ir(i,o,u)}function Li(i,o){for(var u=i.length;u--;)if(Xe(i[u][0],o))return u;return-1}function yv(i,o,u,c){return Rr(i,function(_,y,x){o(c,_,u(_),x)}),c}function fh(i,o){return i&&Ye(o,te(o),i)}function Tv(i,o){return i&&Ye(o,ge(o),i)}function ir(i,o,u){o=="__proto__"&&wi?wi(i,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):i[o]=u}function lo(i,o){for(var u=-1,c=o.length,_=N(c),y=i==null;++u<c;)_[u]=y?e:$o(i,o[u]);return _}function Br(i,o,u){return i===i&&(u!==e&&(i=i<=u?i:u),o!==e&&(i=i>=o?i:o)),i}function Oe(i,o,u,c,_,y){var x,I=o&v,C=o&m,G=o&T;if(u&&(x=_?u(i,c,_,y):u(i)),x!==e)return x;if(!Bt(i))return i;var S=it(i);if(S){if(x=ug(i),!I)return _e(i,x)}else{var B=oe(i),H=B==yt||B==Nt;if(wr(i))return Gh(i,I);if(B==er||B==lt||H&&!_){if(x=C||H?{}:Qh(i),!I)return C?Kv(i,Tv(x,i)):Zv(i,fh(x,i))}else{if(!Pt[B])return _?i:{};x=hg(i,B,I)}}y||(y=new Me);var $=y.get(i);if($)return $;y.set(i,x),Nf(i)?i.forEach(function(K){x.add(Oe(K,o,u,K,i,y))}):wf(i)&&i.forEach(function(K,pt){x.set(pt,Oe(K,o,u,pt,i,y))});var Z=G?C?Oo:Uo:C?ge:te,at=S?e:Z(i);return Ne(at||i,function(K,pt){at&&(pt=K,K=i[pt]),Ln(x,pt,Oe(K,o,u,pt,i,y))}),x}function Ev(i){var o=te(i);return function(u){return lh(u,i,o)}}function lh(i,o,u){var c=u.length;if(i==null)return!c;for(i=At(i);c--;){var _=u[c],y=o[_],x=i[_];if(x===e&&!(_ in i)||!y(x))return!1}return!0}function ch(i,o,u){if(typeof i!="function")throw new Pe(h);return Dn(function(){i.apply(e,u)},o)}function Gn(i,o,u,c){var _=-1,y=vi,x=!0,I=i.length,C=[],G=o.length;if(!I)return C;u&&(o=St(o,Ee(u))),c?(y=Ks,x=!1):o.length>=s&&(y=wn,x=!1,o=new Fr(o));t:for(;++_<I;){var S=i[_],B=u==null?S:u(S);if(S=c||S!==0?S:0,x&&B===B){for(var H=G;H--;)if(o[H]===B)continue t;C.push(S)}else y(o,B,c)||C.push(S)}return C}var Rr=Xh($e),dh=Xh(po,!0);function xv(i,o){var u=!0;return Rr(i,function(c,_,y){return u=!!o(c,_,y),u}),u}function Gi(i,o,u){for(var c=-1,_=i.length;++c<_;){var y=i[c],x=o(y);if(x!=null&&(I===e?x===x&&!Re(x):u(x,I)))var I=x,C=y}return C}function Rv(i,o,u,c){var _=i.length;for(u=st(u),u<0&&(u=-u>_?0:_+u),c=c===e||c>_?_:st(c),c<0&&(c+=_),c=u>c?0:Uf(c);u<c;)i[u++]=o;return i}function ph(i,o){var u=[];return Rr(i,function(c,_,y){o(c,_,y)&&u.push(c)}),u}function ne(i,o,u,c,_){var y=-1,x=i.length;for(u||(u=lg),_||(_=[]);++y<x;){var I=i[y];o>0&&u(I)?o>1?ne(I,o-1,u,c,_):Tr(_,I):c||(_[_.length]=I)}return _}var co=Dh(),_h=Dh(!0);function $e(i,o){return i&&co(i,o,te)}function po(i,o){return i&&_h(i,o,te)}function Si(i,o){return yr(o,function(u){return ur(i[u])})}function Mr(i,o){o=br(o,i);for(var u=0,c=o.length;i!=null&&u<c;)i=i[je(o[u++])];return u&&u==c?i:e}function vh(i,o,u){var c=o(i);return it(i)?c:Tr(c,u(i))}function he(i){return i==null?i===e?Jd:tr:Gr&&Gr in At(i)?sg(i):mg(i)}function _o(i,o){return i>o}function Iv(i,o){return i!=null&&It.call(i,o)}function bv(i,o){return i!=null&&o in At(i)}function Cv(i,o,u){return i>=se(o,u)&&i<Jt(o,u)}function vo(i,o,u){for(var c=u?Ks:vi,_=i[0].length,y=i.length,x=y,I=N(y),C=1/0,G=[];x--;){var S=i[x];x&&o&&(S=St(S,Ee(o))),C=se(S.length,C),I[x]=!u&&(o||_>=120&&S.length>=120)?new Fr(x&&S):e}S=i[0];var B=-1,H=I[0];t:for(;++B<_&&G.length<C;){var $=S[B],Z=o?o($):$;if($=u||$!==0?$:0,!(H?wn(H,Z):c(G,Z,u))){for(x=y;--x;){var at=I[x];if(!(at?wn(at,Z):c(i[x],Z,u)))continue t}H&&H.push(Z),G.push($)}}return G}function wv(i,o,u,c){return $e(i,function(_,y,x){o(c,u(_),y,x)}),c}function Sn(i,o,u){o=br(o,i),i=nf(i,o);var c=i==null?i:i[je(Ge(o))];return c==null?e:Te(c,i,u)}function gh(i){return Dt(i)&&he(i)==lt}function Av(i){return Dt(i)&&he(i)==Cn}function Nv(i){return Dt(i)&&he(i)==wt}function Fn(i,o,u,c,_){return i===o?!0:i==null||o==null||!Dt(i)&&!Dt(o)?i!==i&&o!==o:Pv(i,o,u,c,Fn,_)}function Pv(i,o,u,c,_,y){var x=it(i),I=it(o),C=x?ot:oe(i),G=I?ot:oe(o);C=C==lt?er:C,G=G==lt?er:G;var S=C==er,B=G==er,H=C==G;if(H&&wr(i)){if(!wr(o))return!1;x=!0,S=!1}if(H&&!S)return y||(y=new Me),x||dn(i)?Zh(i,o,u,c,_,y):ng(i,o,C,u,c,_,y);if(!(u&E)){var $=S&&It.call(i,"__wrapped__"),Z=B&&It.call(o,"__wrapped__");if($||Z){var at=$?i.value():i,K=Z?o.value():o;return y||(y=new Me),_(at,K,u,c,y)}}return H?(y||(y=new Me),ig(i,o,u,c,_,y)):!1}function Uv(i){return Dt(i)&&oe(i)==Rt}function go(i,o,u,c){var _=u.length,y=_,x=!c;if(i==null)return!y;for(i=At(i);_--;){var I=u[_];if(x&&I[2]?I[1]!==i[I[0]]:!(I[0]in i))return!1}for(;++_<y;){I=u[_];var C=I[0],G=i[C],S=I[1];if(x&&I[2]){if(G===e&&!(C in i))return!1}else{var B=new Me;if(c)var H=c(G,S,C,i,o,B);if(!(H===e?Fn(S,G,E|w,c,B):H))return!1}}return!0}function mh(i){if(!Bt(i)||dg(i))return!1;var o=ur(i)?U_:Ep;return o.test(Dr(i))}function Ov(i){return Dt(i)&&he(i)==Rn}function Lv(i){return Dt(i)&&oe(i)==Fe}function Gv(i){return Dt(i)&&Ji(i.length)&&!!Lt[he(i)]}function yh(i){return typeof i=="function"?i:i==null?me:typeof i=="object"?it(i)?xh(i[0],i[1]):Eh(i):kf(i)}function mo(i){if(!Xn(i))return B_(i);var o=[];for(var u in At(i))It.call(i,u)&&u!="constructor"&&o.push(u);return o}function Sv(i){if(!Bt(i))return gg(i);var o=Xn(i),u=[];for(var c in i)c=="constructor"&&(o||!It.call(i,c))||u.push(c);return u}function yo(i,o){return i<o}function Th(i,o){var u=-1,c=ve(i)?N(i.length):[];return Rr(i,function(_,y,x){c[++u]=o(_,y,x)}),c}function Eh(i){var o=Go(i);return o.length==1&&o[0][2]?ef(o[0][0],o[0][1]):function(u){return u===i||go(u,i,o)}}function xh(i,o){return Fo(i)&&tf(o)?ef(je(i),o):function(u){var c=$o(u,i);return c===e&&c===o?Yo(u,i):Fn(o,c,E|w)}}function Fi(i,o,u,c,_){i!==o&&co(o,function(y,x){if(_||(_=new Me),Bt(y))Fv(i,o,x,u,Fi,c,_);else{var I=c?c(Mo(i,x),y,x+"",i,o,_):e;I===e&&(I=y),fo(i,x,I)}},ge)}function Fv(i,o,u,c,_,y,x){var I=Mo(i,u),C=Mo(o,u),G=x.get(C);if(G){fo(i,u,G);return}var S=y?y(I,C,u+"",i,o,x):e,B=S===e;if(B){var H=it(C),$=!H&&wr(C),Z=!H&&!$&&dn(C);S=C,H||$||Z?it(I)?S=I:zt(I)?S=_e(I):$?(B=!1,S=Gh(C,!0)):Z?(B=!1,S=Sh(C,!0)):S=[]:Hn(C)||Hr(C)?(S=I,Hr(I)?S=Of(I):(!Bt(I)||ur(I))&&(S=Qh(C))):B=!1}B&&(x.set(C,S),_(S,C,c,y,x),x.delete(C)),fo(i,u,S)}function Rh(i,o){var u=i.length;if(!!u)return o+=o<0?u:0,ar(o,u)?i[o]:e}function Ih(i,o,u){o.length?o=St(o,function(y){return it(y)?function(x){return Mr(x,y.length===1?y[0]:y)}:y}):o=[me];var c=-1;o=St(o,Ee(q()));var _=Th(i,function(y,x,I){var C=St(o,function(G){return G(y)});return{criteria:C,index:++c,value:y}});return h_(_,function(y,x){return qv(y,x,u)})}function Bv(i,o){return bh(i,o,function(u,c){return Yo(i,c)})}function bh(i,o,u){for(var c=-1,_=o.length,y={};++c<_;){var x=o[c],I=Mr(i,x);u(I,x)&&Bn(y,br(x,i),I)}return y}function Mv(i){return function(o){return Mr(o,i)}}function To(i,o,u,c){var _=c?u_:en,y=-1,x=o.length,I=i;for(i===o&&(o=_e(o)),u&&(I=St(i,Ee(u)));++y<x;)for(var C=0,G=o[y],S=u?u(G):G;(C=_(I,S,C,c))>-1;)I!==i&&Ci.call(I,C,1),Ci.call(i,C,1);return i}function Ch(i,o){for(var u=i?o.length:0,c=u-1;u--;){var _=o[u];if(u==c||_!==y){var y=_;ar(_)?Ci.call(i,_,1):Io(i,_)}}return i}function Eo(i,o){return i+Ni(oh()*(o-i+1))}function Xv(i,o,u,c){for(var _=-1,y=Jt(Ai((o-i)/(u||1)),0),x=N(y);y--;)x[c?y:++_]=i,i+=u;return x}function xo(i,o){var u="";if(!i||o<1||o>ie)return u;do o%2&&(u+=i),o=Ni(o/2),o&&(i+=i);while(o);return u}function ht(i,o){return Xo(rf(i,o,me),i+"")}function Dv(i){return hh(pn(i))}function Hv(i,o){var u=pn(i);return $i(u,Br(o,0,u.length))}function Bn(i,o,u,c){if(!Bt(i))return i;o=br(o,i);for(var _=-1,y=o.length,x=y-1,I=i;I!=null&&++_<y;){var C=je(o[_]),G=u;if(C==="__proto__"||C==="constructor"||C==="prototype")return i;if(_!=x){var S=I[C];G=c?c(S,C,I):e,G===e&&(G=Bt(S)?S:ar(o[_+1])?[]:{})}Ln(I,C,G),I=I[C]}return i}var wh=Pi?function(i,o){return Pi.set(i,o),i}:me,kv=wi?function(i,o){return wi(i,"toString",{configurable:!0,enumerable:!1,value:qo(o),writable:!0})}:me;function Vv(i){return $i(pn(i))}function Le(i,o,u){var c=-1,_=i.length;o<0&&(o=-o>_?0:_+o),u=u>_?_:u,u<0&&(u+=_),_=o>u?0:u-o>>>0,o>>>=0;for(var y=N(_);++c<_;)y[c]=i[c+o];return y}function Wv(i,o){var u;return Rr(i,function(c,_,y){return u=o(c,_,y),!u}),!!u}function Bi(i,o,u){var c=0,_=i==null?c:i.length;if(typeof o=="number"&&o===o&&_<=J){for(;c<_;){var y=c+_>>>1,x=i[y];x!==null&&!Re(x)&&(u?x<=o:x<o)?c=y+1:_=y}return _}return Ro(i,o,me,u)}function Ro(i,o,u,c){var _=0,y=i==null?0:i.length;if(y===0)return 0;o=u(o);for(var x=o!==o,I=o===null,C=Re(o),G=o===e;_<y;){var S=Ni((_+y)/2),B=u(i[S]),H=B!==e,$=B===null,Z=B===B,at=Re(B);if(x)var K=c||Z;else G?K=Z&&(c||H):I?K=Z&&H&&(c||!$):C?K=Z&&H&&!$&&(c||!at):$||at?K=!1:K=c?B<=o:B<o;K?_=S+1:y=S}return se(y,W)}function Ah(i,o){for(var u=-1,c=i.length,_=0,y=[];++u<c;){var x=i[u],I=o?o(x):x;if(!u||!Xe(I,C)){var C=I;y[_++]=x===0?0:x}}return y}function Nh(i){return typeof i=="number"?i:Re(i)?L:+i}function xe(i){if(typeof i=="string")return i;if(it(i))return St(i,xe)+"";if(Re(i))return ah?ah.call(i):"";var o=i+"";return o=="0"&&1/i==-Yt?"-0":o}function Ir(i,o,u){var c=-1,_=vi,y=i.length,x=!0,I=[],C=I;if(u)x=!1,_=Ks;else if(y>=s){var G=o?null:eg(i);if(G)return mi(G);x=!1,_=wn,C=new Fr}else C=o?[]:I;t:for(;++c<y;){var S=i[c],B=o?o(S):S;if(S=u||S!==0?S:0,x&&B===B){for(var H=C.length;H--;)if(C[H]===B)continue t;o&&C.push(B),I.push(S)}else _(C,B,u)||(C!==I&&C.push(B),I.push(S))}return I}function Io(i,o){return o=br(o,i),i=nf(i,o),i==null||delete i[je(Ge(o))]}function Ph(i,o,u,c){return Bn(i,o,u(Mr(i,o)),c)}function Mi(i,o,u,c){for(var _=i.length,y=c?_:-1;(c?y--:++y<_)&&o(i[y],y,i););return u?Le(i,c?0:y,c?y+1:_):Le(i,c?y+1:0,c?_:y)}function Uh(i,o){var u=i;return u instanceof _t&&(u=u.value()),Js(o,function(c,_){return _.func.apply(_.thisArg,Tr([c],_.args))},u)}function bo(i,o,u){var c=i.length;if(c<2)return c?Ir(i[0]):[];for(var _=-1,y=N(c);++_<c;)for(var x=i[_],I=-1;++I<c;)I!=_&&(y[_]=Gn(y[_]||x,i[I],o,u));return Ir(ne(y,1),o,u)}function Oh(i,o,u){for(var c=-1,_=i.length,y=o.length,x={};++c<_;){var I=c<y?o[c]:e;u(x,i[c],I)}return x}function Co(i){return zt(i)?i:[]}function wo(i){return typeof i=="function"?i:me}function br(i,o){return it(i)?i:Fo(i,o)?[i]:uf(Tt(i))}var zv=ht;function Cr(i,o,u){var c=i.length;return u=u===e?c:u,!o&&u>=c?i:Le(i,o,u)}var Lh=O_||function(i){return re.clearTimeout(i)};function Gh(i,o){if(o)return i.slice();var u=i.length,c=eh?eh(u):new i.constructor(u);return i.copy(c),c}function Ao(i){var o=new i.constructor(i.byteLength);return new Ii(o).set(new Ii(i)),o}function $v(i,o){var u=o?Ao(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)}function Yv(i){var o=new i.constructor(i.source,gu.exec(i));return o.lastIndex=i.lastIndex,o}function jv(i){return On?At(On.call(i)):{}}function Sh(i,o){var u=o?Ao(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)}function Fh(i,o){if(i!==o){var u=i!==e,c=i===null,_=i===i,y=Re(i),x=o!==e,I=o===null,C=o===o,G=Re(o);if(!I&&!G&&!y&&i>o||y&&x&&C&&!I&&!G||c&&x&&C||!u&&C||!_)return 1;if(!c&&!y&&!G&&i<o||G&&u&&_&&!c&&!y||I&&u&&_||!x&&_||!C)return-1}return 0}function qv(i,o,u){for(var c=-1,_=i.criteria,y=o.criteria,x=_.length,I=u.length;++c<x;){var C=Fh(_[c],y[c]);if(C){if(c>=I)return C;var G=u[c];return C*(G=="desc"?-1:1)}}return i.index-o.index}function Bh(i,o,u,c){for(var _=-1,y=i.length,x=u.length,I=-1,C=o.length,G=Jt(y-x,0),S=N(C+G),B=!c;++I<C;)S[I]=o[I];for(;++_<x;)(B||_<y)&&(S[u[_]]=i[_]);for(;G--;)S[I++]=i[_++];return S}function Mh(i,o,u,c){for(var _=-1,y=i.length,x=-1,I=u.length,C=-1,G=o.length,S=Jt(y-I,0),B=N(S+G),H=!c;++_<S;)B[_]=i[_];for(var $=_;++C<G;)B[$+C]=o[C];for(;++x<I;)(H||_<y)&&(B[$+u[x]]=i[_++]);return B}function _e(i,o){var u=-1,c=i.length;for(o||(o=N(c));++u<c;)o[u]=i[u];return o}function Ye(i,o,u,c){var _=!u;u||(u={});for(var y=-1,x=o.length;++y<x;){var I=o[y],C=c?c(u[I],i[I],I,u,i):e;C===e&&(C=i[I]),_?ir(u,I,C):Ln(u,I,C)}return u}function Zv(i,o){return Ye(i,So(i),o)}function Kv(i,o){return Ye(i,Kh(i),o)}function Xi(i,o){return function(u,c){var _=it(u)?r_:yv,y=o?o():{};return _(u,i,q(c,2),y)}}function fn(i){return ht(function(o,u){var c=-1,_=u.length,y=_>1?u[_-1]:e,x=_>2?u[2]:e;for(y=i.length>3&&typeof y=="function"?(_--,y):e,x&&fe(u[0],u[1],x)&&(y=_<3?e:y,_=1),o=At(o);++c<_;){var I=u[c];I&&i(o,I,c,y)}return o})}function Xh(i,o){return function(u,c){if(u==null)return u;if(!ve(u))return i(u,c);for(var _=u.length,y=o?_:-1,x=At(u);(o?y--:++y<_)&&c(x[y],y,x)!==!1;);return u}}function Dh(i){return function(o,u,c){for(var _=-1,y=At(o),x=c(o),I=x.length;I--;){var C=x[i?I:++_];if(u(y[C],C,y)===!1)break}return o}}function Jv(i,o,u){var c=o&R,_=Mn(i);function y(){var x=this&&this!==re&&this instanceof y?_:i;return x.apply(c?u:this,arguments)}return y}function Hh(i){return function(o){o=Tt(o);var u=rn(o)?Be(o):e,c=u?u[0]:o.charAt(0),_=u?Cr(u,1).join(""):o.slice(1);return c[i]()+_}}function ln(i){return function(o){return Js(Df(Xf(o).replace(kp,"")),i,"")}}function Mn(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=hn(i.prototype),c=i.apply(u,o);return Bt(c)?c:u}}function Qv(i,o,u){var c=Mn(i);function _(){for(var y=arguments.length,x=N(y),I=y,C=cn(_);I--;)x[I]=arguments[I];var G=y<3&&x[0]!==C&&x[y-1]!==C?[]:Er(x,C);if(y-=G.length,y<u)return $h(i,o,Di,_.placeholder,e,x,G,e,e,u-y);var S=this&&this!==re&&this instanceof _?c:i;return Te(S,this,x)}return _}function kh(i){return function(o,u,c){var _=At(o);if(!ve(o)){var y=q(u,3);o=te(o),u=function(I){return y(_[I],I,_)}}var x=i(o,u,c);return x>-1?_[y?o[x]:x]:e}}function Vh(i){return or(function(o){var u=o.length,c=u,_=Ue.prototype.thru;for(i&&o.reverse();c--;){var y=o[c];if(typeof y!="function")throw new Pe(h);if(_&&!x&&Wi(y)=="wrapper")var x=new Ue([],!0)}for(c=x?c:u;++c<u;){y=o[c];var I=Wi(y),C=I=="wrapper"?Lo(y):e;C&&Bo(C[0])&&C[1]==(Y|P|M|z)&&!C[4].length&&C[9]==1?x=x[Wi(C[0])].apply(x,C[3]):x=y.length==1&&Bo(y)?x[I]():x.thru(y)}return function(){var G=arguments,S=G[0];if(x&&G.length==1&&it(S))return x.plant(S).value();for(var B=0,H=u?o[B].apply(this,G):S;++B<u;)H=o[B].call(this,H);return H}})}function Di(i,o,u,c,_,y,x,I,C,G){var S=o&Y,B=o&R,H=o&A,$=o&(P|U),Z=o&tt,at=H?e:Mn(i);function K(){for(var pt=arguments.length,vt=N(pt),Ie=pt;Ie--;)vt[Ie]=arguments[Ie];if($)var le=cn(K),be=l_(vt,le);if(c&&(vt=Bh(vt,c,_,$)),y&&(vt=Mh(vt,y,x,$)),pt-=be,$&&pt<G){var $t=Er(vt,le);return $h(i,o,Di,K.placeholder,u,vt,$t,I,C,G-pt)}var De=B?u:this,fr=H?De[i]:i;return pt=vt.length,I?vt=yg(vt,I):Z&&pt>1&&vt.reverse(),S&&C<pt&&(vt.length=C),this&&this!==re&&this instanceof K&&(fr=at||Mn(fr)),fr.apply(De,vt)}return K}function Wh(i,o){return function(u,c){return wv(u,i,o(c),{})}}function Hi(i,o){return function(u,c){var _;if(u===e&&c===e)return o;if(u!==e&&(_=u),c!==e){if(_===e)return c;typeof u=="string"||typeof c=="string"?(u=xe(u),c=xe(c)):(u=Nh(u),c=Nh(c)),_=i(u,c)}return _}}function No(i){return or(function(o){return o=St(o,Ee(q())),ht(function(u){var c=this;return i(o,function(_){return Te(_,c,u)})})})}function ki(i,o){o=o===e?" ":xe(o);var u=o.length;if(u<2)return u?xo(o,i):o;var c=xo(o,Ai(i/nn(o)));return rn(o)?Cr(Be(c),0,i).join(""):c.slice(0,i)}function tg(i,o,u,c){var _=o&R,y=Mn(i);function x(){for(var I=-1,C=arguments.length,G=-1,S=c.length,B=N(S+C),H=this&&this!==re&&this instanceof x?y:i;++G<S;)B[G]=c[G];for(;C--;)B[G++]=arguments[++I];return Te(H,_?u:this,B)}return x}function zh(i){return function(o,u,c){return c&&typeof c!="number"&&fe(o,u,c)&&(u=c=e),o=hr(o),u===e?(u=o,o=0):u=hr(u),c=c===e?o<u?1:-1:hr(c),Xv(o,u,c,i)}}function Vi(i){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=Se(o),u=Se(u)),i(o,u)}}function $h(i,o,u,c,_,y,x,I,C,G){var S=o&P,B=S?x:e,H=S?e:x,$=S?y:e,Z=S?e:y;o|=S?M:k,o&=~(S?k:M),o&F||(o&=~(R|A));var at=[i,o,_,$,B,Z,H,I,C,G],K=u.apply(e,at);return Bo(i)&&sf(K,at),K.placeholder=c,of(K,i,o)}function Po(i){var o=Kt[i];return function(u,c){if(u=Se(u),c=c==null?0:se(st(c),292),c&&sh(u)){var _=(Tt(u)+"e").split("e"),y=o(_[0]+"e"+(+_[1]+c));return _=(Tt(y)+"e").split("e"),+(_[0]+"e"+(+_[1]-c))}return o(u)}}var eg=an&&1/mi(new an([,-0]))[1]==Yt?function(i){return new an(i)}:Jo;function Yh(i){return function(o){var u=oe(o);return u==Rt?so(o):u==Fe?m_(o):f_(o,i(o))}}function sr(i,o,u,c,_,y,x,I){var C=o&A;if(!C&&typeof i!="function")throw new Pe(h);var G=c?c.length:0;if(G||(o&=~(M|k),c=_=e),x=x===e?x:Jt(st(x),0),I=I===e?I:st(I),G-=_?_.length:0,o&k){var S=c,B=_;c=_=e}var H=C?e:Lo(i),$=[i,o,u,c,_,S,B,y,x,I];if(H&&vg($,H),i=$[0],o=$[1],u=$[2],c=$[3],_=$[4],I=$[9]=$[9]===e?C?0:i.length:Jt($[9]-G,0),!I&&o&(P|U)&&(o&=~(P|U)),!o||o==R)var Z=Jv(i,o,u);else o==P||o==U?Z=Qv(i,o,I):(o==M||o==(R|M))&&!_.length?Z=tg(i,o,u,c):Z=Di.apply(e,$);var at=H?wh:sf;return of(at(Z,$),i,o)}function jh(i,o,u,c){return i===e||Xe(i,on[u])&&!It.call(c,u)?o:i}function qh(i,o,u,c,_,y){return Bt(i)&&Bt(o)&&(y.set(o,i),Fi(i,o,e,qh,y),y.delete(o)),i}function rg(i){return Hn(i)?e:i}function Zh(i,o,u,c,_,y){var x=u&E,I=i.length,C=o.length;if(I!=C&&!(x&&C>I))return!1;var G=y.get(i),S=y.get(o);if(G&&S)return G==o&&S==i;var B=-1,H=!0,$=u&w?new Fr:e;for(y.set(i,o),y.set(o,i);++B<I;){var Z=i[B],at=o[B];if(c)var K=x?c(at,Z,B,o,i,y):c(Z,at,B,i,o,y);if(K!==e){if(K)continue;H=!1;break}if($){if(!Qs(o,function(pt,vt){if(!wn($,vt)&&(Z===pt||_(Z,pt,u,c,y)))return $.push(vt)})){H=!1;break}}else if(!(Z===at||_(Z,at,u,c,y))){H=!1;break}}return y.delete(i),y.delete(o),H}function ng(i,o,u,c,_,y,x){switch(u){case Qr:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Cn:return!(i.byteLength!=o.byteLength||!y(new Ii(i),new Ii(o)));case xt:case wt:case Wt:return Xe(+i,+o);case ct:return i.name==o.name&&i.message==o.message;case Rn:case In:return i==o+"";case Rt:var I=so;case Fe:var C=c&E;if(I||(I=mi),i.size!=o.size&&!C)return!1;var G=x.get(i);if(G)return G==o;c|=w,x.set(i,o);var S=Zh(I(i),I(o),c,_,y,x);return x.delete(i),S;case ci:if(On)return On.call(i)==On.call(o)}return!1}function ig(i,o,u,c,_,y){var x=u&E,I=Uo(i),C=I.length,G=Uo(o),S=G.length;if(C!=S&&!x)return!1;for(var B=C;B--;){var H=I[B];if(!(x?H in o:It.call(o,H)))return!1}var $=y.get(i),Z=y.get(o);if($&&Z)return $==o&&Z==i;var at=!0;y.set(i,o),y.set(o,i);for(var K=x;++B<C;){H=I[B];var pt=i[H],vt=o[H];if(c)var Ie=x?c(vt,pt,H,o,i,y):c(pt,vt,H,i,o,y);if(!(Ie===e?pt===vt||_(pt,vt,u,c,y):Ie)){at=!1;break}K||(K=H=="constructor")}if(at&&!K){var le=i.constructor,be=o.constructor;le!=be&&"constructor"in i&&"constructor"in o&&!(typeof le=="function"&&le instanceof le&&typeof be=="function"&&be instanceof be)&&(at=!1)}return y.delete(i),y.delete(o),at}function or(i){return Xo(rf(i,e,cf),i+"")}function Uo(i){return vh(i,te,So)}function Oo(i){return vh(i,ge,Kh)}var Lo=Pi?function(i){return Pi.get(i)}:Jo;function Wi(i){for(var o=i.name+"",u=un[o],c=It.call(un,o)?u.length:0;c--;){var _=u[c],y=_.func;if(y==null||y==i)return _.name}return o}function cn(i){var o=It.call(g,"placeholder")?g:i;return o.placeholder}function q(){var i=g.iteratee||Zo;return i=i===Zo?yh:i,arguments.length?i(arguments[0],arguments[1]):i}function zi(i,o){var u=i.__data__;return cg(o)?u[typeof o=="string"?"string":"hash"]:u.map}function Go(i){for(var o=te(i),u=o.length;u--;){var c=o[u],_=i[c];o[u]=[c,_,tf(_)]}return o}function Xr(i,o){var u=__(i,o);return mh(u)?u:e}function sg(i){var o=It.call(i,Gr),u=i[Gr];try{i[Gr]=e;var c=!0}catch{}var _=xi.call(i);return c&&(o?i[Gr]=u:delete i[Gr]),_}var So=ao?function(i){return i==null?[]:(i=At(i),yr(ao(i),function(o){return nh.call(i,o)}))}:Qo,Kh=ao?function(i){for(var o=[];i;)Tr(o,So(i)),i=bi(i);return o}:Qo,oe=he;(uo&&oe(new uo(new ArrayBuffer(1)))!=Qr||Nn&&oe(new Nn)!=Rt||ho&&oe(ho.resolve())!=du||an&&oe(new an)!=Fe||Pn&&oe(new Pn)!=bn)&&(oe=function(i){var o=he(i),u=o==er?i.constructor:e,c=u?Dr(u):"";if(c)switch(c){case H_:return Qr;case k_:return Rt;case V_:return du;case W_:return Fe;case z_:return bn}return o});function og(i,o,u){for(var c=-1,_=u.length;++c<_;){var y=u[c],x=y.size;switch(y.type){case"drop":i+=x;break;case"dropRight":o-=x;break;case"take":o=se(o,i+x);break;case"takeRight":i=Jt(i,o-x);break}}return{start:i,end:o}}function ag(i){var o=i.match(dp);return o?o[1].split(pp):[]}function Jh(i,o,u){o=br(o,i);for(var c=-1,_=o.length,y=!1;++c<_;){var x=je(o[c]);if(!(y=i!=null&&u(i,x)))break;i=i[x]}return y||++c!=_?y:(_=i==null?0:i.length,!!_&&Ji(_)&&ar(x,_)&&(it(i)||Hr(i)))}function ug(i){var o=i.length,u=new i.constructor(o);return o&&typeof i[0]=="string"&&It.call(i,"index")&&(u.index=i.index,u.input=i.input),u}function Qh(i){return typeof i.constructor=="function"&&!Xn(i)?hn(bi(i)):{}}function hg(i,o,u){var c=i.constructor;switch(o){case Cn:return Ao(i);case xt:case wt:return new c(+i);case Qr:return $v(i,u);case Ls:case Gs:case Ss:case Fs:case Bs:case Ms:case Xs:case Ds:case Hs:return Sh(i,u);case Rt:return new c;case Wt:case In:return new c(i);case Rn:return Yv(i);case Fe:return new c;case ci:return jv(i)}}function fg(i,o){var u=o.length;if(!u)return i;var c=u-1;return o[c]=(u>1?"& ":"")+o[c],o=o.join(u>2?", ":" "),i.replace(cp,`{
/* [wrapped with `+o+`] */
`)}function lg(i){return it(i)||Hr(i)||!!(ih&&i&&i[ih])}function ar(i,o){var u=typeof i;return o=o==null?ie:o,!!o&&(u=="number"||u!="symbol"&&Rp.test(i))&&i>-1&&i%1==0&&i<o}function fe(i,o,u){if(!Bt(u))return!1;var c=typeof o;return(c=="number"?ve(u)&&ar(o,u.length):c=="string"&&o in u)?Xe(u[o],i):!1}function Fo(i,o){if(it(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||Re(i)?!0:up.test(i)||!ap.test(i)||o!=null&&i in At(o)}function cg(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Bo(i){var o=Wi(i),u=g[o];if(typeof u!="function"||!(o in _t.prototype))return!1;if(i===u)return!0;var c=Lo(u);return!!c&&i===c[0]}function dg(i){return!!th&&th in i}var pg=Ti?ur:ta;function Xn(i){var o=i&&i.constructor,u=typeof o=="function"&&o.prototype||on;return i===u}function tf(i){return i===i&&!Bt(i)}function ef(i,o){return function(u){return u==null?!1:u[i]===o&&(o!==e||i in At(u))}}function _g(i){var o=Zi(i,function(c){return u.size===d&&u.clear(),c}),u=o.cache;return o}function vg(i,o){var u=i[1],c=o[1],_=u|c,y=_<(R|A|Y),x=c==Y&&u==P||c==Y&&u==z&&i[7].length<=o[8]||c==(Y|z)&&o[7].length<=o[8]&&u==P;if(!(y||x))return i;c&R&&(i[2]=o[2],_|=u&R?0:F);var I=o[3];if(I){var C=i[3];i[3]=C?Bh(C,I,o[4]):I,i[4]=C?Er(i[3],p):o[4]}return I=o[5],I&&(C=i[5],i[5]=C?Mh(C,I,o[6]):I,i[6]=C?Er(i[5],p):o[6]),I=o[7],I&&(i[7]=I),c&Y&&(i[8]=i[8]==null?o[8]:se(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=_,i}function gg(i){var o=[];if(i!=null)for(var u in At(i))o.push(u);return o}function mg(i){return xi.call(i)}function rf(i,o,u){return o=Jt(o===e?i.length-1:o,0),function(){for(var c=arguments,_=-1,y=Jt(c.length-o,0),x=N(y);++_<y;)x[_]=c[o+_];_=-1;for(var I=N(o+1);++_<o;)I[_]=c[_];return I[o]=u(x),Te(i,this,I)}}function nf(i,o){return o.length<2?i:Mr(i,Le(o,0,-1))}function yg(i,o){for(var u=i.length,c=se(o.length,u),_=_e(i);c--;){var y=o[c];i[c]=ar(y,u)?_[y]:e}return i}function Mo(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var sf=af(wh),Dn=G_||function(i,o){return re.setTimeout(i,o)},Xo=af(kv);function of(i,o,u){var c=o+"";return Xo(i,fg(c,Tg(ag(c),u)))}function af(i){var o=0,u=0;return function(){var c=M_(),_=gt-(c-u);if(u=c,_>0){if(++o>=Ot)return arguments[0]}else o=0;return i.apply(e,arguments)}}function $i(i,o){var u=-1,c=i.length,_=c-1;for(o=o===e?c:o;++u<o;){var y=Eo(u,_),x=i[y];i[y]=i[u],i[u]=x}return i.length=o,i}var uf=_g(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(hp,function(u,c,_,y){o.push(_?y.replace(gp,"$1"):c||u)}),o});function je(i){if(typeof i=="string"||Re(i))return i;var o=i+"";return o=="0"&&1/i==-Yt?"-0":o}function Dr(i){if(i!=null){try{return Ei.call(i)}catch{}try{return i+""}catch{}}return""}function Tg(i,o){return Ne(et,function(u){var c="_."+u[0];o&u[1]&&!vi(i,c)&&i.push(c)}),i.sort()}function hf(i){if(i instanceof _t)return i.clone();var o=new Ue(i.__wrapped__,i.__chain__);return o.__actions__=_e(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function Eg(i,o,u){(u?fe(i,o,u):o===e)?o=1:o=Jt(st(o),0);var c=i==null?0:i.length;if(!c||o<1)return[];for(var _=0,y=0,x=N(Ai(c/o));_<c;)x[y++]=Le(i,_,_+=o);return x}function xg(i){for(var o=-1,u=i==null?0:i.length,c=0,_=[];++o<u;){var y=i[o];y&&(_[c++]=y)}return _}function Rg(){var i=arguments.length;if(!i)return[];for(var o=N(i-1),u=arguments[0],c=i;c--;)o[c-1]=arguments[c];return Tr(it(u)?_e(u):[u],ne(o,1))}var Ig=ht(function(i,o){return zt(i)?Gn(i,ne(o,1,zt,!0)):[]}),bg=ht(function(i,o){var u=Ge(o);return zt(u)&&(u=e),zt(i)?Gn(i,ne(o,1,zt,!0),q(u,2)):[]}),Cg=ht(function(i,o){var u=Ge(o);return zt(u)&&(u=e),zt(i)?Gn(i,ne(o,1,zt,!0),e,u):[]});function wg(i,o,u){var c=i==null?0:i.length;return c?(o=u||o===e?1:st(o),Le(i,o<0?0:o,c)):[]}function Ag(i,o,u){var c=i==null?0:i.length;return c?(o=u||o===e?1:st(o),o=c-o,Le(i,0,o<0?0:o)):[]}function Ng(i,o){return i&&i.length?Mi(i,q(o,3),!0,!0):[]}function Pg(i,o){return i&&i.length?Mi(i,q(o,3),!0):[]}function Ug(i,o,u,c){var _=i==null?0:i.length;return _?(u&&typeof u!="number"&&fe(i,o,u)&&(u=0,c=_),Rv(i,o,u,c)):[]}function ff(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var _=u==null?0:st(u);return _<0&&(_=Jt(c+_,0)),gi(i,q(o,3),_)}function lf(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var _=c-1;return u!==e&&(_=st(u),_=u<0?Jt(c+_,0):se(_,c-1)),gi(i,q(o,3),_,!0)}function cf(i){var o=i==null?0:i.length;return o?ne(i,1):[]}function Og(i){var o=i==null?0:i.length;return o?ne(i,Yt):[]}function Lg(i,o){var u=i==null?0:i.length;return u?(o=o===e?1:st(o),ne(i,o)):[]}function Gg(i){for(var o=-1,u=i==null?0:i.length,c={};++o<u;){var _=i[o];c[_[0]]=_[1]}return c}function df(i){return i&&i.length?i[0]:e}function Sg(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var _=u==null?0:st(u);return _<0&&(_=Jt(c+_,0)),en(i,o,_)}function Fg(i){var o=i==null?0:i.length;return o?Le(i,0,-1):[]}var Bg=ht(function(i){var o=St(i,Co);return o.length&&o[0]===i[0]?vo(o):[]}),Mg=ht(function(i){var o=Ge(i),u=St(i,Co);return o===Ge(u)?o=e:u.pop(),u.length&&u[0]===i[0]?vo(u,q(o,2)):[]}),Xg=ht(function(i){var o=Ge(i),u=St(i,Co);return o=typeof o=="function"?o:e,o&&u.pop(),u.length&&u[0]===i[0]?vo(u,e,o):[]});function Dg(i,o){return i==null?"":F_.call(i,o)}function Ge(i){var o=i==null?0:i.length;return o?i[o-1]:e}function Hg(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var _=c;return u!==e&&(_=st(u),_=_<0?Jt(c+_,0):se(_,c-1)),o===o?T_(i,o,_):gi(i,$u,_,!0)}function kg(i,o){return i&&i.length?Rh(i,st(o)):e}var Vg=ht(pf);function pf(i,o){return i&&i.length&&o&&o.length?To(i,o):i}function Wg(i,o,u){return i&&i.length&&o&&o.length?To(i,o,q(u,2)):i}function zg(i,o,u){return i&&i.length&&o&&o.length?To(i,o,e,u):i}var $g=or(function(i,o){var u=i==null?0:i.length,c=lo(i,o);return Ch(i,St(o,function(_){return ar(_,u)?+_:_}).sort(Fh)),c});function Yg(i,o){var u=[];if(!(i&&i.length))return u;var c=-1,_=[],y=i.length;for(o=q(o,3);++c<y;){var x=i[c];o(x,c,i)&&(u.push(x),_.push(c))}return Ch(i,_),u}function Do(i){return i==null?i:D_.call(i)}function jg(i,o,u){var c=i==null?0:i.length;return c?(u&&typeof u!="number"&&fe(i,o,u)?(o=0,u=c):(o=o==null?0:st(o),u=u===e?c:st(u)),Le(i,o,u)):[]}function qg(i,o){return Bi(i,o)}function Zg(i,o,u){return Ro(i,o,q(u,2))}function Kg(i,o){var u=i==null?0:i.length;if(u){var c=Bi(i,o);if(c<u&&Xe(i[c],o))return c}return-1}function Jg(i,o){return Bi(i,o,!0)}function Qg(i,o,u){return Ro(i,o,q(u,2),!0)}function t0(i,o){var u=i==null?0:i.length;if(u){var c=Bi(i,o,!0)-1;if(Xe(i[c],o))return c}return-1}function e0(i){return i&&i.length?Ah(i):[]}function r0(i,o){return i&&i.length?Ah(i,q(o,2)):[]}function n0(i){var o=i==null?0:i.length;return o?Le(i,1,o):[]}function i0(i,o,u){return i&&i.length?(o=u||o===e?1:st(o),Le(i,0,o<0?0:o)):[]}function s0(i,o,u){var c=i==null?0:i.length;return c?(o=u||o===e?1:st(o),o=c-o,Le(i,o<0?0:o,c)):[]}function o0(i,o){return i&&i.length?Mi(i,q(o,3),!1,!0):[]}function a0(i,o){return i&&i.length?Mi(i,q(o,3)):[]}var u0=ht(function(i){return Ir(ne(i,1,zt,!0))}),h0=ht(function(i){var o=Ge(i);return zt(o)&&(o=e),Ir(ne(i,1,zt,!0),q(o,2))}),f0=ht(function(i){var o=Ge(i);return o=typeof o=="function"?o:e,Ir(ne(i,1,zt,!0),e,o)});function l0(i){return i&&i.length?Ir(i):[]}function c0(i,o){return i&&i.length?Ir(i,q(o,2)):[]}function d0(i,o){return o=typeof o=="function"?o:e,i&&i.length?Ir(i,e,o):[]}function Ho(i){if(!(i&&i.length))return[];var o=0;return i=yr(i,function(u){if(zt(u))return o=Jt(u.length,o),!0}),no(o,function(u){return St(i,to(u))})}function _f(i,o){if(!(i&&i.length))return[];var u=Ho(i);return o==null?u:St(u,function(c){return Te(o,e,c)})}var p0=ht(function(i,o){return zt(i)?Gn(i,o):[]}),_0=ht(function(i){return bo(yr(i,zt))}),v0=ht(function(i){var o=Ge(i);return zt(o)&&(o=e),bo(yr(i,zt),q(o,2))}),g0=ht(function(i){var o=Ge(i);return o=typeof o=="function"?o:e,bo(yr(i,zt),e,o)}),m0=ht(Ho);function y0(i,o){return Oh(i||[],o||[],Ln)}function T0(i,o){return Oh(i||[],o||[],Bn)}var E0=ht(function(i){var o=i.length,u=o>1?i[o-1]:e;return u=typeof u=="function"?(i.pop(),u):e,_f(i,u)});function vf(i){var o=g(i);return o.__chain__=!0,o}function x0(i,o){return o(i),i}function Yi(i,o){return o(i)}var R0=or(function(i){var o=i.length,u=o?i[0]:0,c=this.__wrapped__,_=function(y){return lo(y,i)};return o>1||this.__actions__.length||!(c instanceof _t)||!ar(u)?this.thru(_):(c=c.slice(u,+u+(o?1:0)),c.__actions__.push({func:Yi,args:[_],thisArg:e}),new Ue(c,this.__chain__).thru(function(y){return o&&!y.length&&y.push(e),y}))});function I0(){return vf(this)}function b0(){return new Ue(this.value(),this.__chain__)}function C0(){this.__values__===e&&(this.__values__=Pf(this.value()));var i=this.__index__>=this.__values__.length,o=i?e:this.__values__[this.__index__++];return{done:i,value:o}}function w0(){return this}function A0(i){for(var o,u=this;u instanceof Oi;){var c=hf(u);c.__index__=0,c.__values__=e,o?_.__wrapped__=c:o=c;var _=c;u=u.__wrapped__}return _.__wrapped__=i,o}function N0(){var i=this.__wrapped__;if(i instanceof _t){var o=i;return this.__actions__.length&&(o=new _t(this)),o=o.reverse(),o.__actions__.push({func:Yi,args:[Do],thisArg:e}),new Ue(o,this.__chain__)}return this.thru(Do)}function P0(){return Uh(this.__wrapped__,this.__actions__)}var U0=Xi(function(i,o,u){It.call(i,u)?++i[u]:ir(i,u,1)});function O0(i,o,u){var c=it(i)?Wu:xv;return u&&fe(i,o,u)&&(o=e),c(i,q(o,3))}function L0(i,o){var u=it(i)?yr:ph;return u(i,q(o,3))}var G0=kh(ff),S0=kh(lf);function F0(i,o){return ne(ji(i,o),1)}function B0(i,o){return ne(ji(i,o),Yt)}function M0(i,o,u){return u=u===e?1:st(u),ne(ji(i,o),u)}function gf(i,o){var u=it(i)?Ne:Rr;return u(i,q(o,3))}function mf(i,o){var u=it(i)?n_:dh;return u(i,q(o,3))}var X0=Xi(function(i,o,u){It.call(i,u)?i[u].push(o):ir(i,u,[o])});function D0(i,o,u,c){i=ve(i)?i:pn(i),u=u&&!c?st(u):0;var _=i.length;return u<0&&(u=Jt(_+u,0)),Qi(i)?u<=_&&i.indexOf(o,u)>-1:!!_&&en(i,o,u)>-1}var H0=ht(function(i,o,u){var c=-1,_=typeof o=="function",y=ve(i)?N(i.length):[];return Rr(i,function(x){y[++c]=_?Te(o,x,u):Sn(x,o,u)}),y}),k0=Xi(function(i,o,u){ir(i,u,o)});function ji(i,o){var u=it(i)?St:Th;return u(i,q(o,3))}function V0(i,o,u,c){return i==null?[]:(it(o)||(o=o==null?[]:[o]),u=c?e:u,it(u)||(u=u==null?[]:[u]),Ih(i,o,u))}var W0=Xi(function(i,o,u){i[u?0:1].push(o)},function(){return[[],[]]});function z0(i,o,u){var c=it(i)?Js:ju,_=arguments.length<3;return c(i,q(o,4),u,_,Rr)}function $0(i,o,u){var c=it(i)?i_:ju,_=arguments.length<3;return c(i,q(o,4),u,_,dh)}function Y0(i,o){var u=it(i)?yr:ph;return u(i,Ki(q(o,3)))}function j0(i){var o=it(i)?hh:Dv;return o(i)}function q0(i,o,u){(u?fe(i,o,u):o===e)?o=1:o=st(o);var c=it(i)?gv:Hv;return c(i,o)}function Z0(i){var o=it(i)?mv:Vv;return o(i)}function K0(i){if(i==null)return 0;if(ve(i))return Qi(i)?nn(i):i.length;var o=oe(i);return o==Rt||o==Fe?i.size:mo(i).length}function J0(i,o,u){var c=it(i)?Qs:Wv;return u&&fe(i,o,u)&&(o=e),c(i,q(o,3))}var Q0=ht(function(i,o){if(i==null)return[];var u=o.length;return u>1&&fe(i,o[0],o[1])?o=[]:u>2&&fe(o[0],o[1],o[2])&&(o=[o[0]]),Ih(i,ne(o,1),[])}),qi=L_||function(){return re.Date.now()};function tm(i,o){if(typeof o!="function")throw new Pe(h);return i=st(i),function(){if(--i<1)return o.apply(this,arguments)}}function yf(i,o,u){return o=u?e:o,o=i&&o==null?i.length:o,sr(i,Y,e,e,e,e,o)}function Tf(i,o){var u;if(typeof o!="function")throw new Pe(h);return i=st(i),function(){return--i>0&&(u=o.apply(this,arguments)),i<=1&&(o=e),u}}var ko=ht(function(i,o,u){var c=R;if(u.length){var _=Er(u,cn(ko));c|=M}return sr(i,c,o,u,_)}),Ef=ht(function(i,o,u){var c=R|A;if(u.length){var _=Er(u,cn(Ef));c|=M}return sr(o,c,i,u,_)});function xf(i,o,u){o=u?e:o;var c=sr(i,P,e,e,e,e,e,o);return c.placeholder=xf.placeholder,c}function Rf(i,o,u){o=u?e:o;var c=sr(i,U,e,e,e,e,e,o);return c.placeholder=Rf.placeholder,c}function If(i,o,u){var c,_,y,x,I,C,G=0,S=!1,B=!1,H=!0;if(typeof i!="function")throw new Pe(h);o=Se(o)||0,Bt(u)&&(S=!!u.leading,B="maxWait"in u,y=B?Jt(Se(u.maxWait)||0,o):y,H="trailing"in u?!!u.trailing:H);function $($t){var De=c,fr=_;return c=_=e,G=$t,x=i.apply(fr,De),x}function Z($t){return G=$t,I=Dn(pt,o),S?$($t):x}function at($t){var De=$t-C,fr=$t-G,Vf=o-De;return B?se(Vf,y-fr):Vf}function K($t){var De=$t-C,fr=$t-G;return C===e||De>=o||De<0||B&&fr>=y}function pt(){var $t=qi();if(K($t))return vt($t);I=Dn(pt,at($t))}function vt($t){return I=e,H&&c?$($t):(c=_=e,x)}function Ie(){I!==e&&Lh(I),G=0,c=C=_=I=e}function le(){return I===e?x:vt(qi())}function be(){var $t=qi(),De=K($t);if(c=arguments,_=this,C=$t,De){if(I===e)return Z(C);if(B)return Lh(I),I=Dn(pt,o),$(C)}return I===e&&(I=Dn(pt,o)),x}return be.cancel=Ie,be.flush=le,be}var em=ht(function(i,o){return ch(i,1,o)}),rm=ht(function(i,o,u){return ch(i,Se(o)||0,u)});function nm(i){return sr(i,tt)}function Zi(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new Pe(h);var u=function(){var c=arguments,_=o?o.apply(this,c):c[0],y=u.cache;if(y.has(_))return y.get(_);var x=i.apply(this,c);return u.cache=y.set(_,x)||y,x};return u.cache=new(Zi.Cache||nr),u}Zi.Cache=nr;function Ki(i){if(typeof i!="function")throw new Pe(h);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function im(i){return Tf(2,i)}var sm=zv(function(i,o){o=o.length==1&&it(o[0])?St(o[0],Ee(q())):St(ne(o,1),Ee(q()));var u=o.length;return ht(function(c){for(var _=-1,y=se(c.length,u);++_<y;)c[_]=o[_].call(this,c[_]);return Te(i,this,c)})}),Vo=ht(function(i,o){var u=Er(o,cn(Vo));return sr(i,M,e,o,u)}),bf=ht(function(i,o){var u=Er(o,cn(bf));return sr(i,k,e,o,u)}),om=or(function(i,o){return sr(i,z,e,e,e,o)});function am(i,o){if(typeof i!="function")throw new Pe(h);return o=o===e?o:st(o),ht(i,o)}function um(i,o){if(typeof i!="function")throw new Pe(h);return o=o==null?0:Jt(st(o),0),ht(function(u){var c=u[o],_=Cr(u,0,o);return c&&Tr(_,c),Te(i,this,_)})}function hm(i,o,u){var c=!0,_=!0;if(typeof i!="function")throw new Pe(h);return Bt(u)&&(c="leading"in u?!!u.leading:c,_="trailing"in u?!!u.trailing:_),If(i,o,{leading:c,maxWait:o,trailing:_})}function fm(i){return yf(i,1)}function lm(i,o){return Vo(wo(o),i)}function cm(){if(!arguments.length)return[];var i=arguments[0];return it(i)?i:[i]}function dm(i){return Oe(i,T)}function pm(i,o){return o=typeof o=="function"?o:e,Oe(i,T,o)}function _m(i){return Oe(i,v|T)}function vm(i,o){return o=typeof o=="function"?o:e,Oe(i,v|T,o)}function gm(i,o){return o==null||lh(i,o,te(o))}function Xe(i,o){return i===o||i!==i&&o!==o}var mm=Vi(_o),ym=Vi(function(i,o){return i>=o}),Hr=gh(function(){return arguments}())?gh:function(i){return Dt(i)&&It.call(i,"callee")&&!nh.call(i,"callee")},it=N.isArray,Tm=Mu?Ee(Mu):Av;function ve(i){return i!=null&&Ji(i.length)&&!ur(i)}function zt(i){return Dt(i)&&ve(i)}function Em(i){return i===!0||i===!1||Dt(i)&&he(i)==xt}var wr=S_||ta,xm=Xu?Ee(Xu):Nv;function Rm(i){return Dt(i)&&i.nodeType===1&&!Hn(i)}function Im(i){if(i==null)return!0;if(ve(i)&&(it(i)||typeof i=="string"||typeof i.splice=="function"||wr(i)||dn(i)||Hr(i)))return!i.length;var o=oe(i);if(o==Rt||o==Fe)return!i.size;if(Xn(i))return!mo(i).length;for(var u in i)if(It.call(i,u))return!1;return!0}function bm(i,o){return Fn(i,o)}function Cm(i,o,u){u=typeof u=="function"?u:e;var c=u?u(i,o):e;return c===e?Fn(i,o,e,u):!!c}function Wo(i){if(!Dt(i))return!1;var o=he(i);return o==ct||o==Vt||typeof i.message=="string"&&typeof i.name=="string"&&!Hn(i)}function wm(i){return typeof i=="number"&&sh(i)}function ur(i){if(!Bt(i))return!1;var o=he(i);return o==yt||o==Nt||o==Et||o==Kd}function Cf(i){return typeof i=="number"&&i==st(i)}function Ji(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ie}function Bt(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function Dt(i){return i!=null&&typeof i=="object"}var wf=Du?Ee(Du):Uv;function Am(i,o){return i===o||go(i,o,Go(o))}function Nm(i,o,u){return u=typeof u=="function"?u:e,go(i,o,Go(o),u)}function Pm(i){return Af(i)&&i!=+i}function Um(i){if(pg(i))throw new nt(a);return mh(i)}function Om(i){return i===null}function Lm(i){return i==null}function Af(i){return typeof i=="number"||Dt(i)&&he(i)==Wt}function Hn(i){if(!Dt(i)||he(i)!=er)return!1;var o=bi(i);if(o===null)return!0;var u=It.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&Ei.call(u)==N_}var zo=Hu?Ee(Hu):Ov;function Gm(i){return Cf(i)&&i>=-ie&&i<=ie}var Nf=ku?Ee(ku):Lv;function Qi(i){return typeof i=="string"||!it(i)&&Dt(i)&&he(i)==In}function Re(i){return typeof i=="symbol"||Dt(i)&&he(i)==ci}var dn=Vu?Ee(Vu):Gv;function Sm(i){return i===e}function Fm(i){return Dt(i)&&oe(i)==bn}function Bm(i){return Dt(i)&&he(i)==Qd}var Mm=Vi(yo),Xm=Vi(function(i,o){return i<=o});function Pf(i){if(!i)return[];if(ve(i))return Qi(i)?Be(i):_e(i);if(An&&i[An])return g_(i[An]());var o=oe(i),u=o==Rt?so:o==Fe?mi:pn;return u(i)}function hr(i){if(!i)return i===0?i:0;if(i=Se(i),i===Yt||i===-Yt){var o=i<0?-1:1;return o*jt}return i===i?i:0}function st(i){var o=hr(i),u=o%1;return o===o?u?o-u:o:0}function Uf(i){return i?Br(st(i),0,X):0}function Se(i){if(typeof i=="number")return i;if(Re(i))return L;if(Bt(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=Bt(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=qu(i);var u=Tp.test(i);return u||xp.test(i)?t_(i.slice(2),u?2:8):yp.test(i)?L:+i}function Of(i){return Ye(i,ge(i))}function Dm(i){return i?Br(st(i),-ie,ie):i===0?i:0}function Tt(i){return i==null?"":xe(i)}var Hm=fn(function(i,o){if(Xn(o)||ve(o)){Ye(o,te(o),i);return}for(var u in o)It.call(o,u)&&Ln(i,u,o[u])}),Lf=fn(function(i,o){Ye(o,ge(o),i)}),ts=fn(function(i,o,u,c){Ye(o,ge(o),i,c)}),km=fn(function(i,o,u,c){Ye(o,te(o),i,c)}),Vm=or(lo);function Wm(i,o){var u=hn(i);return o==null?u:fh(u,o)}var zm=ht(function(i,o){i=At(i);var u=-1,c=o.length,_=c>2?o[2]:e;for(_&&fe(o[0],o[1],_)&&(c=1);++u<c;)for(var y=o[u],x=ge(y),I=-1,C=x.length;++I<C;){var G=x[I],S=i[G];(S===e||Xe(S,on[G])&&!It.call(i,G))&&(i[G]=y[G])}return i}),$m=ht(function(i){return i.push(e,qh),Te(Gf,e,i)});function Ym(i,o){return zu(i,q(o,3),$e)}function jm(i,o){return zu(i,q(o,3),po)}function qm(i,o){return i==null?i:co(i,q(o,3),ge)}function Zm(i,o){return i==null?i:_h(i,q(o,3),ge)}function Km(i,o){return i&&$e(i,q(o,3))}function Jm(i,o){return i&&po(i,q(o,3))}function Qm(i){return i==null?[]:Si(i,te(i))}function ty(i){return i==null?[]:Si(i,ge(i))}function $o(i,o,u){var c=i==null?e:Mr(i,o);return c===e?u:c}function ey(i,o){return i!=null&&Jh(i,o,Iv)}function Yo(i,o){return i!=null&&Jh(i,o,bv)}var ry=Wh(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=xi.call(o)),i[o]=u},qo(me)),ny=Wh(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=xi.call(o)),It.call(i,o)?i[o].push(u):i[o]=[u]},q),iy=ht(Sn);function te(i){return ve(i)?uh(i):mo(i)}function ge(i){return ve(i)?uh(i,!0):Sv(i)}function sy(i,o){var u={};return o=q(o,3),$e(i,function(c,_,y){ir(u,o(c,_,y),c)}),u}function oy(i,o){var u={};return o=q(o,3),$e(i,function(c,_,y){ir(u,_,o(c,_,y))}),u}var ay=fn(function(i,o,u){Fi(i,o,u)}),Gf=fn(function(i,o,u,c){Fi(i,o,u,c)}),uy=or(function(i,o){var u={};if(i==null)return u;var c=!1;o=St(o,function(y){return y=br(y,i),c||(c=y.length>1),y}),Ye(i,Oo(i),u),c&&(u=Oe(u,v|m|T,rg));for(var _=o.length;_--;)Io(u,o[_]);return u});function hy(i,o){return Sf(i,Ki(q(o)))}var fy=or(function(i,o){return i==null?{}:Bv(i,o)});function Sf(i,o){if(i==null)return{};var u=St(Oo(i),function(c){return[c]});return o=q(o),bh(i,u,function(c,_){return o(c,_[0])})}function ly(i,o,u){o=br(o,i);var c=-1,_=o.length;for(_||(_=1,i=e);++c<_;){var y=i==null?e:i[je(o[c])];y===e&&(c=_,y=u),i=ur(y)?y.call(i):y}return i}function cy(i,o,u){return i==null?i:Bn(i,o,u)}function dy(i,o,u,c){return c=typeof c=="function"?c:e,i==null?i:Bn(i,o,u,c)}var Ff=Yh(te),Bf=Yh(ge);function py(i,o,u){var c=it(i),_=c||wr(i)||dn(i);if(o=q(o,4),u==null){var y=i&&i.constructor;_?u=c?new y:[]:Bt(i)?u=ur(y)?hn(bi(i)):{}:u={}}return(_?Ne:$e)(i,function(x,I,C){return o(u,x,I,C)}),u}function _y(i,o){return i==null?!0:Io(i,o)}function vy(i,o,u){return i==null?i:Ph(i,o,wo(u))}function gy(i,o,u,c){return c=typeof c=="function"?c:e,i==null?i:Ph(i,o,wo(u),c)}function pn(i){return i==null?[]:io(i,te(i))}function my(i){return i==null?[]:io(i,ge(i))}function yy(i,o,u){return u===e&&(u=o,o=e),u!==e&&(u=Se(u),u=u===u?u:0),o!==e&&(o=Se(o),o=o===o?o:0),Br(Se(i),o,u)}function Ty(i,o,u){return o=hr(o),u===e?(u=o,o=0):u=hr(u),i=Se(i),Cv(i,o,u)}function Ey(i,o,u){if(u&&typeof u!="boolean"&&fe(i,o,u)&&(o=u=e),u===e&&(typeof o=="boolean"?(u=o,o=e):typeof i=="boolean"&&(u=i,i=e)),i===e&&o===e?(i=0,o=1):(i=hr(i),o===e?(o=i,i=0):o=hr(o)),i>o){var c=i;i=o,o=c}if(u||i%1||o%1){var _=oh();return se(i+_*(o-i+Qp("1e-"+((_+"").length-1))),o)}return Eo(i,o)}var xy=ln(function(i,o,u){return o=o.toLowerCase(),i+(u?Mf(o):o)});function Mf(i){return jo(Tt(i).toLowerCase())}function Xf(i){return i=Tt(i),i&&i.replace(Ip,c_).replace(Vp,"")}function Ry(i,o,u){i=Tt(i),o=xe(o);var c=i.length;u=u===e?c:Br(st(u),0,c);var _=u;return u-=o.length,u>=0&&i.slice(u,_)==o}function Iy(i){return i=Tt(i),i&&ip.test(i)?i.replace(_u,d_):i}function by(i){return i=Tt(i),i&&fp.test(i)?i.replace(ks,"\\$&"):i}var Cy=ln(function(i,o,u){return i+(u?"-":"")+o.toLowerCase()}),wy=ln(function(i,o,u){return i+(u?" ":"")+o.toLowerCase()}),Ay=Hh("toLowerCase");function Ny(i,o,u){i=Tt(i),o=st(o);var c=o?nn(i):0;if(!o||c>=o)return i;var _=(o-c)/2;return ki(Ni(_),u)+i+ki(Ai(_),u)}function Py(i,o,u){i=Tt(i),o=st(o);var c=o?nn(i):0;return o&&c<o?i+ki(o-c,u):i}function Uy(i,o,u){i=Tt(i),o=st(o);var c=o?nn(i):0;return o&&c<o?ki(o-c,u)+i:i}function Oy(i,o,u){return u||o==null?o=0:o&&(o=+o),X_(Tt(i).replace(Vs,""),o||0)}function Ly(i,o,u){return(u?fe(i,o,u):o===e)?o=1:o=st(o),xo(Tt(i),o)}function Gy(){var i=arguments,o=Tt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var Sy=ln(function(i,o,u){return i+(u?"_":"")+o.toLowerCase()});function Fy(i,o,u){return u&&typeof u!="number"&&fe(i,o,u)&&(o=u=e),u=u===e?X:u>>>0,u?(i=Tt(i),i&&(typeof o=="string"||o!=null&&!zo(o))&&(o=xe(o),!o&&rn(i))?Cr(Be(i),0,u):i.split(o,u)):[]}var By=ln(function(i,o,u){return i+(u?" ":"")+jo(o)});function My(i,o,u){return i=Tt(i),u=u==null?0:Br(st(u),0,i.length),o=xe(o),i.slice(u,u+o.length)==o}function Xy(i,o,u){var c=g.templateSettings;u&&fe(i,o,u)&&(o=e),i=Tt(i),o=ts({},o,c,jh);var _=ts({},o.imports,c.imports,jh),y=te(_),x=io(_,y),I,C,G=0,S=o.interpolate||di,B="__p += '",H=oo((o.escape||di).source+"|"+S.source+"|"+(S===vu?mp:di).source+"|"+(o.evaluate||di).source+"|$","g"),$="//# sourceURL="+(It.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jp+"]")+`
`;i.replace(H,function(K,pt,vt,Ie,le,be){return vt||(vt=Ie),B+=i.slice(G,be).replace(bp,p_),pt&&(I=!0,B+=`' +
__e(`+pt+`) +
'`),le&&(C=!0,B+=`';
`+le+`;
__p += '`),vt&&(B+=`' +
((__t = (`+vt+`)) == null ? '' : __t) +
'`),G=be+K.length,K}),B+=`';
`;var Z=It.call(o,"variable")&&o.variable;if(!Z)B=`with (obj) {
`+B+`
}
`;else if(vp.test(Z))throw new nt(f);B=(C?B.replace(tp,""):B).replace(ep,"$1").replace(rp,"$1;"),B="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(C?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+B+`return __p
}`;var at=Hf(function(){return mt(y,$+"return "+B).apply(e,x)});if(at.source=B,Wo(at))throw at;return at}function Dy(i){return Tt(i).toLowerCase()}function Hy(i){return Tt(i).toUpperCase()}function ky(i,o,u){if(i=Tt(i),i&&(u||o===e))return qu(i);if(!i||!(o=xe(o)))return i;var c=Be(i),_=Be(o),y=Zu(c,_),x=Ku(c,_)+1;return Cr(c,y,x).join("")}function Vy(i,o,u){if(i=Tt(i),i&&(u||o===e))return i.slice(0,Qu(i)+1);if(!i||!(o=xe(o)))return i;var c=Be(i),_=Ku(c,Be(o))+1;return Cr(c,0,_).join("")}function Wy(i,o,u){if(i=Tt(i),i&&(u||o===e))return i.replace(Vs,"");if(!i||!(o=xe(o)))return i;var c=Be(i),_=Zu(c,Be(o));return Cr(c,_).join("")}function zy(i,o){var u=ft,c=dt;if(Bt(o)){var _="separator"in o?o.separator:_;u="length"in o?st(o.length):u,c="omission"in o?xe(o.omission):c}i=Tt(i);var y=i.length;if(rn(i)){var x=Be(i);y=x.length}if(u>=y)return i;var I=u-nn(c);if(I<1)return c;var C=x?Cr(x,0,I).join(""):i.slice(0,I);if(_===e)return C+c;if(x&&(I+=C.length-I),zo(_)){if(i.slice(I).search(_)){var G,S=C;for(_.global||(_=oo(_.source,Tt(gu.exec(_))+"g")),_.lastIndex=0;G=_.exec(S);)var B=G.index;C=C.slice(0,B===e?I:B)}}else if(i.indexOf(xe(_),I)!=I){var H=C.lastIndexOf(_);H>-1&&(C=C.slice(0,H))}return C+c}function $y(i){return i=Tt(i),i&&np.test(i)?i.replace(pu,E_):i}var Yy=ln(function(i,o,u){return i+(u?" ":"")+o.toUpperCase()}),jo=Hh("toUpperCase");function Df(i,o,u){return i=Tt(i),o=u?e:o,o===e?v_(i)?I_(i):a_(i):i.match(o)||[]}var Hf=ht(function(i,o){try{return Te(i,e,o)}catch(u){return Wo(u)?u:new nt(u)}}),jy=or(function(i,o){return Ne(o,function(u){u=je(u),ir(i,u,ko(i[u],i))}),i});function qy(i){var o=i==null?0:i.length,u=q();return i=o?St(i,function(c){if(typeof c[1]!="function")throw new Pe(h);return[u(c[0]),c[1]]}):[],ht(function(c){for(var _=-1;++_<o;){var y=i[_];if(Te(y[0],this,c))return Te(y[1],this,c)}})}function Zy(i){return Ev(Oe(i,v))}function qo(i){return function(){return i}}function Ky(i,o){return i==null||i!==i?o:i}var Jy=Vh(),Qy=Vh(!0);function me(i){return i}function Zo(i){return yh(typeof i=="function"?i:Oe(i,v))}function tT(i){return Eh(Oe(i,v))}function eT(i,o){return xh(i,Oe(o,v))}var rT=ht(function(i,o){return function(u){return Sn(u,i,o)}}),nT=ht(function(i,o){return function(u){return Sn(i,u,o)}});function Ko(i,o,u){var c=te(o),_=Si(o,c);u==null&&!(Bt(o)&&(_.length||!c.length))&&(u=o,o=i,i=this,_=Si(o,te(o)));var y=!(Bt(u)&&"chain"in u)||!!u.chain,x=ur(i);return Ne(_,function(I){var C=o[I];i[I]=C,x&&(i.prototype[I]=function(){var G=this.__chain__;if(y||G){var S=i(this.__wrapped__),B=S.__actions__=_e(this.__actions__);return B.push({func:C,args:arguments,thisArg:i}),S.__chain__=G,S}return C.apply(i,Tr([this.value()],arguments))})}),i}function iT(){return re._===this&&(re._=P_),this}function Jo(){}function sT(i){return i=st(i),ht(function(o){return Rh(o,i)})}var oT=No(St),aT=No(Wu),uT=No(Qs);function kf(i){return Fo(i)?to(je(i)):Mv(i)}function hT(i){return function(o){return i==null?e:Mr(i,o)}}var fT=zh(),lT=zh(!0);function Qo(){return[]}function ta(){return!1}function cT(){return{}}function dT(){return""}function pT(){return!0}function _T(i,o){if(i=st(i),i<1||i>ie)return[];var u=X,c=se(i,X);o=q(o),i-=X;for(var _=no(c,o);++u<i;)o(u);return _}function vT(i){return it(i)?St(i,je):Re(i)?[i]:_e(uf(Tt(i)))}function gT(i){var o=++A_;return Tt(i)+o}var mT=Hi(function(i,o){return i+o},0),yT=Po("ceil"),TT=Hi(function(i,o){return i/o},1),ET=Po("floor");function xT(i){return i&&i.length?Gi(i,me,_o):e}function RT(i,o){return i&&i.length?Gi(i,q(o,2),_o):e}function IT(i){return Yu(i,me)}function bT(i,o){return Yu(i,q(o,2))}function CT(i){return i&&i.length?Gi(i,me,yo):e}function wT(i,o){return i&&i.length?Gi(i,q(o,2),yo):e}var AT=Hi(function(i,o){return i*o},1),NT=Po("round"),PT=Hi(function(i,o){return i-o},0);function UT(i){return i&&i.length?ro(i,me):0}function OT(i,o){return i&&i.length?ro(i,q(o,2)):0}return g.after=tm,g.ary=yf,g.assign=Hm,g.assignIn=Lf,g.assignInWith=ts,g.assignWith=km,g.at=Vm,g.before=Tf,g.bind=ko,g.bindAll=jy,g.bindKey=Ef,g.castArray=cm,g.chain=vf,g.chunk=Eg,g.compact=xg,g.concat=Rg,g.cond=qy,g.conforms=Zy,g.constant=qo,g.countBy=U0,g.create=Wm,g.curry=xf,g.curryRight=Rf,g.debounce=If,g.defaults=zm,g.defaultsDeep=$m,g.defer=em,g.delay=rm,g.difference=Ig,g.differenceBy=bg,g.differenceWith=Cg,g.drop=wg,g.dropRight=Ag,g.dropRightWhile=Ng,g.dropWhile=Pg,g.fill=Ug,g.filter=L0,g.flatMap=F0,g.flatMapDeep=B0,g.flatMapDepth=M0,g.flatten=cf,g.flattenDeep=Og,g.flattenDepth=Lg,g.flip=nm,g.flow=Jy,g.flowRight=Qy,g.fromPairs=Gg,g.functions=Qm,g.functionsIn=ty,g.groupBy=X0,g.initial=Fg,g.intersection=Bg,g.intersectionBy=Mg,g.intersectionWith=Xg,g.invert=ry,g.invertBy=ny,g.invokeMap=H0,g.iteratee=Zo,g.keyBy=k0,g.keys=te,g.keysIn=ge,g.map=ji,g.mapKeys=sy,g.mapValues=oy,g.matches=tT,g.matchesProperty=eT,g.memoize=Zi,g.merge=ay,g.mergeWith=Gf,g.method=rT,g.methodOf=nT,g.mixin=Ko,g.negate=Ki,g.nthArg=sT,g.omit=uy,g.omitBy=hy,g.once=im,g.orderBy=V0,g.over=oT,g.overArgs=sm,g.overEvery=aT,g.overSome=uT,g.partial=Vo,g.partialRight=bf,g.partition=W0,g.pick=fy,g.pickBy=Sf,g.property=kf,g.propertyOf=hT,g.pull=Vg,g.pullAll=pf,g.pullAllBy=Wg,g.pullAllWith=zg,g.pullAt=$g,g.range=fT,g.rangeRight=lT,g.rearg=om,g.reject=Y0,g.remove=Yg,g.rest=am,g.reverse=Do,g.sampleSize=q0,g.set=cy,g.setWith=dy,g.shuffle=Z0,g.slice=jg,g.sortBy=Q0,g.sortedUniq=e0,g.sortedUniqBy=r0,g.split=Fy,g.spread=um,g.tail=n0,g.take=i0,g.takeRight=s0,g.takeRightWhile=o0,g.takeWhile=a0,g.tap=x0,g.throttle=hm,g.thru=Yi,g.toArray=Pf,g.toPairs=Ff,g.toPairsIn=Bf,g.toPath=vT,g.toPlainObject=Of,g.transform=py,g.unary=fm,g.union=u0,g.unionBy=h0,g.unionWith=f0,g.uniq=l0,g.uniqBy=c0,g.uniqWith=d0,g.unset=_y,g.unzip=Ho,g.unzipWith=_f,g.update=vy,g.updateWith=gy,g.values=pn,g.valuesIn=my,g.without=p0,g.words=Df,g.wrap=lm,g.xor=_0,g.xorBy=v0,g.xorWith=g0,g.zip=m0,g.zipObject=y0,g.zipObjectDeep=T0,g.zipWith=E0,g.entries=Ff,g.entriesIn=Bf,g.extend=Lf,g.extendWith=ts,Ko(g,g),g.add=mT,g.attempt=Hf,g.camelCase=xy,g.capitalize=Mf,g.ceil=yT,g.clamp=yy,g.clone=dm,g.cloneDeep=_m,g.cloneDeepWith=vm,g.cloneWith=pm,g.conformsTo=gm,g.deburr=Xf,g.defaultTo=Ky,g.divide=TT,g.endsWith=Ry,g.eq=Xe,g.escape=Iy,g.escapeRegExp=by,g.every=O0,g.find=G0,g.findIndex=ff,g.findKey=Ym,g.findLast=S0,g.findLastIndex=lf,g.findLastKey=jm,g.floor=ET,g.forEach=gf,g.forEachRight=mf,g.forIn=qm,g.forInRight=Zm,g.forOwn=Km,g.forOwnRight=Jm,g.get=$o,g.gt=mm,g.gte=ym,g.has=ey,g.hasIn=Yo,g.head=df,g.identity=me,g.includes=D0,g.indexOf=Sg,g.inRange=Ty,g.invoke=iy,g.isArguments=Hr,g.isArray=it,g.isArrayBuffer=Tm,g.isArrayLike=ve,g.isArrayLikeObject=zt,g.isBoolean=Em,g.isBuffer=wr,g.isDate=xm,g.isElement=Rm,g.isEmpty=Im,g.isEqual=bm,g.isEqualWith=Cm,g.isError=Wo,g.isFinite=wm,g.isFunction=ur,g.isInteger=Cf,g.isLength=Ji,g.isMap=wf,g.isMatch=Am,g.isMatchWith=Nm,g.isNaN=Pm,g.isNative=Um,g.isNil=Lm,g.isNull=Om,g.isNumber=Af,g.isObject=Bt,g.isObjectLike=Dt,g.isPlainObject=Hn,g.isRegExp=zo,g.isSafeInteger=Gm,g.isSet=Nf,g.isString=Qi,g.isSymbol=Re,g.isTypedArray=dn,g.isUndefined=Sm,g.isWeakMap=Fm,g.isWeakSet=Bm,g.join=Dg,g.kebabCase=Cy,g.last=Ge,g.lastIndexOf=Hg,g.lowerCase=wy,g.lowerFirst=Ay,g.lt=Mm,g.lte=Xm,g.max=xT,g.maxBy=RT,g.mean=IT,g.meanBy=bT,g.min=CT,g.minBy=wT,g.stubArray=Qo,g.stubFalse=ta,g.stubObject=cT,g.stubString=dT,g.stubTrue=pT,g.multiply=AT,g.nth=kg,g.noConflict=iT,g.noop=Jo,g.now=qi,g.pad=Ny,g.padEnd=Py,g.padStart=Uy,g.parseInt=Oy,g.random=Ey,g.reduce=z0,g.reduceRight=$0,g.repeat=Ly,g.replace=Gy,g.result=ly,g.round=NT,g.runInContext=b,g.sample=j0,g.size=K0,g.snakeCase=Sy,g.some=J0,g.sortedIndex=qg,g.sortedIndexBy=Zg,g.sortedIndexOf=Kg,g.sortedLastIndex=Jg,g.sortedLastIndexBy=Qg,g.sortedLastIndexOf=t0,g.startCase=By,g.startsWith=My,g.subtract=PT,g.sum=UT,g.sumBy=OT,g.template=Xy,g.times=_T,g.toFinite=hr,g.toInteger=st,g.toLength=Uf,g.toLower=Dy,g.toNumber=Se,g.toSafeInteger=Dm,g.toString=Tt,g.toUpper=Hy,g.trim=ky,g.trimEnd=Vy,g.trimStart=Wy,g.truncate=zy,g.unescape=$y,g.uniqueId=gT,g.upperCase=Yy,g.upperFirst=jo,g.each=gf,g.eachRight=mf,g.first=df,Ko(g,function(){var i={};return $e(g,function(o,u){It.call(g.prototype,u)||(i[u]=o)}),i}(),{chain:!1}),g.VERSION=n,Ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){g[i].placeholder=g}),Ne(["drop","take"],function(i,o){_t.prototype[i]=function(u){u=u===e?1:Jt(st(u),0);var c=this.__filtered__&&!o?new _t(this):this.clone();return c.__filtered__?c.__takeCount__=se(u,c.__takeCount__):c.__views__.push({size:se(u,X),type:i+(c.__dir__<0?"Right":"")}),c},_t.prototype[i+"Right"]=function(u){return this.reverse()[i](u).reverse()}}),Ne(["filter","map","takeWhile"],function(i,o){var u=o+1,c=u==bt||u==Ft;_t.prototype[i]=function(_){var y=this.clone();return y.__iteratees__.push({iteratee:q(_,3),type:u}),y.__filtered__=y.__filtered__||c,y}}),Ne(["head","last"],function(i,o){var u="take"+(o?"Right":"");_t.prototype[i]=function(){return this[u](1).value()[0]}}),Ne(["initial","tail"],function(i,o){var u="drop"+(o?"":"Right");_t.prototype[i]=function(){return this.__filtered__?new _t(this):this[u](1)}}),_t.prototype.compact=function(){return this.filter(me)},_t.prototype.find=function(i){return this.filter(i).head()},_t.prototype.findLast=function(i){return this.reverse().find(i)},_t.prototype.invokeMap=ht(function(i,o){return typeof i=="function"?new _t(this):this.map(function(u){return Sn(u,i,o)})}),_t.prototype.reject=function(i){return this.filter(Ki(q(i)))},_t.prototype.slice=function(i,o){i=st(i);var u=this;return u.__filtered__&&(i>0||o<0)?new _t(u):(i<0?u=u.takeRight(-i):i&&(u=u.drop(i)),o!==e&&(o=st(o),u=o<0?u.dropRight(-o):u.take(o-i)),u)},_t.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},_t.prototype.toArray=function(){return this.take(X)},$e(_t.prototype,function(i,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),c=/^(?:head|last)$/.test(o),_=g[c?"take"+(o=="last"?"Right":""):o],y=c||/^find/.test(o);!_||(g.prototype[o]=function(){var x=this.__wrapped__,I=c?[1]:arguments,C=x instanceof _t,G=I[0],S=C||it(x),B=function(pt){var vt=_.apply(g,Tr([pt],I));return c&&H?vt[0]:vt};S&&u&&typeof G=="function"&&G.length!=1&&(C=S=!1);var H=this.__chain__,$=!!this.__actions__.length,Z=y&&!H,at=C&&!$;if(!y&&S){x=at?x:new _t(this);var K=i.apply(x,I);return K.__actions__.push({func:Yi,args:[B],thisArg:e}),new Ue(K,H)}return Z&&at?i.apply(this,I):(K=this.thru(B),Z?c?K.value()[0]:K.value():K)})}),Ne(["pop","push","shift","sort","splice","unshift"],function(i){var o=yi[i],u=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",c=/^(?:pop|shift)$/.test(i);g.prototype[i]=function(){var _=arguments;if(c&&!this.__chain__){var y=this.value();return o.apply(it(y)?y:[],_)}return this[u](function(x){return o.apply(it(x)?x:[],_)})}}),$e(_t.prototype,function(i,o){var u=g[o];if(u){var c=u.name+"";It.call(un,c)||(un[c]=[]),un[c].push({name:o,func:u})}}),un[Di(e,A).name]=[{name:"wrapper",func:e}],_t.prototype.clone=$_,_t.prototype.reverse=Y_,_t.prototype.value=j_,g.prototype.at=R0,g.prototype.chain=I0,g.prototype.commit=b0,g.prototype.next=C0,g.prototype.plant=A0,g.prototype.reverse=N0,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=P0,g.prototype.first=g.prototype.head,An&&(g.prototype[An]=w0),g},sn=b_();Lr?((Lr.exports=sn)._=sn,qs._=sn):re._=sn}).call(ce)})(ou,ou.exports);const MR=ou.exports;function XR(t){var e;const r=(e=new URL(window.location.href))==null?void 0:e.searchParams;return r==null?void 0:r.get(t)}var ld;const DR=+((ld=XR("max"))!=null?ld:5)*1e4;let ee=50,Nr=1;function HR(){const t=window.innerWidth,r=window.innerHeight-5,e=Math.floor(t/(ee+Nr)),n=(t-e*ee)/(e-1);console.log(e,n);const s=document.querySelector(".pop"),a=new Xd({width:t,height:r});document.body.appendChild(a.view);const h={resourceOptions:{scale:2},width:100,height:100},f={low:pe.from(mR,h),middle:pe.from(vR,h),high:pe.from(gR,h)},l=[...new Array(DR)].map((v,m)=>{const T=Math.floor(m/e)*(ee+5),E=m%e*(ee+n),w=["low","middle","high"][UR({min:0,max:2})],R=new Jx(f[w]);return R._customData={clusterId:FR(),status:w},R.width=ee,R.height=ee,R.x=E,R.y=T,R.interactive=!0,T>r&&(R.visible=!1,R.interactive=!1),a.stage.addChild(R),R});a.stage.interactive=!0,a.stage.hitArea=a.renderer.screen,a.stage.addListener("click",v=>{if(console.log("clicked",v.target),v.target.isSprite){const{clusterId:m,status:T}=v.target._customData;s.innerHTML=`clusterId: ${m} 
 status: ${T}`,s.style.setProperty("top",`${v.target.y}px`),s.style.setProperty("left",`${v.target.x}px`),s.style.setProperty("display","block")}else s.style.setProperty("display","none")});function d(v){v.deltaY<0?(ee*=.95,Nr*=.95,ee<1&&(ee=2),Nr<1&&(Nr=1)):(ee*=1.05,Nr*=1.05,ee>100&&(ee=100),Nr>5&&(Nr=5));const m=Math.floor(t/(ee+Nr)),T=(t-m*ee)/(m-1);l.forEach((E,w)=>{const R=Math.floor(w/m)*(ee+5);if(R>r){E.visible=!1,E.interactive=!1;return}const A=w%m*(ee+T);E.width=ee,E.height=ee,E.x=A,E.y=R,E.interactive=!0,E.visible=!0})}const p=MR.throttle(d,1e3/30);a.view.addEventListener("wheel",v=>{p(v)})}HR();
